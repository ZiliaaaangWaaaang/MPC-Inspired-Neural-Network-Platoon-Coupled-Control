function [Y,Xf,Af] = nnmove_01(X,~,~)
%NNMOVE_01 neural network simulation function.
%
% Auto-generated by MATLAB, 09-Jan-2025 16:45:22.
% 
% [Y] = nnmove_01(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-0.64543528414041;-0.981740734431473;-0.585076624051763;-0.730538623084139;-1;-0.77335768218049;-0.982296504876327;-0.92751717694512;-0.810496984604482];
x1_step2.gain = [1.2154838414352;1.43377590554305;1.58915511144011;1.15570954229015;1.38073340228489;1.27515894883829;1.07395837030342;1.20158385604935;1.14594767026125];
x1_step2.ymin = -1;

% Layer 1
b1 = [1.6621165835001681099;1.8956504771334725667;2.0061706980339639728;0.97182755016892685695;0.98266518702822214237;0.61005402430203847786;0.94915818522718442551;0.56570605100912563223;-0.071021480009243020959;0.53701049251217636282;-0.14596050181998276862;-0.26575677732265184927;-0.61512547018014906985;-0.78569388759161706837;-0.47775097282318002012;-0.73019825238389757249;1.5850548118549598886;-1.3623036068678611166;-1.6100527191799034465;1.8939127516519016492];
IW1_1 = [-0.95023341723431531403 0.27976423452454429741 0.42528879429955429581 -0.25347379168692868445 -0.82323541331857441605 1.1744219892358960244 0.18084914750548317097 -0.49262152261969338607 0.49763245411612605507;-0.18606428777136635455 -0.71451516420902194682 1.0315109634962555951 1.2302258648317396794 0.45014477303076994019 -0.96849815670768624187 -0.72202037630322213335 -0.19816356305937368742 -0.73191522856514634743;-0.1728285048464828777 -0.41860445483940889044 -0.9959608772707994051 -0.63731224840725408942 0.12170601787773405178 1.1914479833603104364 0.40449812426500819651 0.15874661764576949996 -0.31920940352292831443;-1.4277589696274419762 1.1825112773889849827 0.34147305145665551862 0.11695532383600092119 -0.49803769605392317343 -0.48154071305167001071 0.10266786189042065303 -0.3045241055497073801 -0.20373795228194521711;-0.71390496769752698203 0.53418229927641847077 -0.8074824918237257787 -0.42557409934798345885 -0.91017297920062401051 -0.80842427852058085236 -0.49987867418000103692 0.49277013441287470519 0.067178737065544141815;-0.75835164332532578602 -0.46835648296329812634 1.1477872106917474948 0.21526252475498142136 0.77546030637110219264 0.15457034803241501142 0.81896716202167652021 0.38225449829867141904 0.27648606609187287297;-0.70875524863469785419 -0.86748375849704539853 -1.0306444868961510686 0.43204367192175829882 -1.4996533640275957477 0.057897208936628447029 1.1356414686993623331 0.38793965205493796677 0.45987776400496249707;-0.80770759534957592418 0.065646760675987847478 0.21343536597244566755 -0.068678682252673539654 -0.86371340892213965823 0.60517168558048572979 1.5233672083010316722 0.53933531448348071002 0.00067522522899617770653;-0.4374260092483766571 -0.65212226779362303386 -1.0162574687069727553 0.76297024278855318791 0.88676858900148181064 0.20484626432732783163 -1.6172524675880166622 -0.63056460084252563547 0.31332650295478592373;-1.7689419267674153513 -0.10508547176000984646 -0.69486393876377283707 0.69125372354195879776 0.16464300529175387999 -0.65036298574510775783 0.098141398480726463327 -0.48330228872610930813 -0.19298477329168894912;-0.35286908095247693229 0.1431551958916471301 -0.59462827277791430181 1.2036115063578358697 -1.1301765523548710224 1.6114494128231948711 -0.84554628791412056454 0.60807884471638584678 0.75217664028958897138;0.85261746662242565709 -0.10485772887013149191 1.5981948385518047751 -0.38123887961886493425 0.0063396258355814388841 0.65991099930256069683 -1.3485958233888784008 0.28045526418129607116 0.029731112768047268657;-0.4398660285254463731 -0.34124883061478683555 -0.2322478791441073831 0.38830901808464801661 -0.16617270078943302547 -1.6241172121998770361 0.85063646677099680193 0.28021027359550421121 0.57908268228549120149;-1.0078727583612387964 -0.76190179441533523175 0.32635656195403212054 0.68492060879168104037 -0.88443756225703207274 -0.050602709834208871309 0.090518833373107468465 -1.1321526844281253332 -0.8952298490774409645;-0.39215367601744000048 -0.72732474286558934651 -0.46800372302036435945 -1.1868147558276294085 -0.55435040223589715502 0.2574556647098789619 -0.75271859959494480385 -0.21443575951942620006 -0.5672849297277832159;-2.1926858150483945487 0.36029494653400534476 0.28218314896305279893 -0.35272787699237084791 -0.075897087182940900507 0.32685487874370205974 0.27160736324577561263 0.81220657310808819229 0.13100119802712889561;-0.19126633753158309159 0.11177529487568804711 -0.23370932454510481846 0.88657332754037254663 0.42273872284833663437 0.51862629098328050237 -0.73361798684536527748 1.059846006077397762 -0.72209426135691046067;-0.27114911833592370005 -1.6059019641926099986 -0.13940424281703042708 1.1656622821401652068 -0.5404890737219150143 -0.72577719441075194684 -0.63730717165746031405 1.0254507657350757643 0.12243021802565963452;-0.61132085032379335221 -0.9306587369918013497 -0.58910501634853007502 0.53054530188889026387 0.071938967486124008599 0.80392885381097045627 1.0373842510127104788 0.61155665038257245314 -0.24410537699845577531;0.60603222732014139229 -0.34661947442913892958 1.1299659358157008171 -0.59824017253132977245 -0.41216658679815770805 -0.56937068887464215017 1.1488270217847285082 -0.25268517424755876366 -0.032870915598587312212];

% Layer 2
b2 = [1.7675110477392090846;-1.2968461384938103631;-0.89106734348357741204;-0.74941616268183719463;-0.07474507841472856351;-0.2498946133578833495;0.68977360578777235922;-0.9439315617687646931;-1.2012924877375497079;1.5976339864505177957];
LW2_1 = [0.025223794144294556241 0.57672504841957172861 0.69609244046750728963 0.3212392391184689111 0.3947782216349549067 0.78100440111459079606 -0.3254279947154825603 -0.35113417610269576086 0.051554842770080523684 0.25069074866441815042 -0.20053581434360087665 -0.056961967108732546039 -0.067006489216014805677 -0.3169154615093852656 -0.75897993065510060973 -0.40644577629187556012 -0.32668823298656113341 -0.15759285742227505112 0.10944540953482059797 0.49576809978431779502;-0.019081932616453259333 -0.69405201071464506235 0.39947015780298333887 -0.083109248249186945534 -0.0351643341639614887 0.41890927378027020822 0.13795106889305214226 -0.29398623412063951132 -0.26869056937055252332 0.21582826493104556587 -0.73992604899171243726 0.13726884950588913448 0.23585607041701434072 0.19650480806351575125 0.10326518709783874539 -0.43273884241599286371 -0.27270238439637584094 0.49321383220805914416 -0.59302478274397274483 0.048204458432205887775;0.64322429728015106942 0.44211327248199644435 0.4441781483866107938 0.089679751275782565445 -0.60773083251692827655 -0.045820147202204744574 -0.68983890922074819763 -0.60374694093296565889 -0.14280759073861240549 -0.79204235673272893603 1.0710689862327811284 0.24795610322100050671 0.5260572152513768307 0.22066161214662791124 0.68769161231675002277 0.025656651914892858457 -0.013261140752578996771 -0.62271010050433095451 0.21804075058284430599 -0.04363651002076783525;0.57422066634166013532 0.0013280643660644117499 -0.13604152183517798091 -0.1552276965244102358 0.23198445794952304855 0.16735574273490183561 -0.31217402316754694347 0.021501981332805505248 -0.18982403165239777887 0.28251230090889484226 -0.42488495486894278796 0.94962621177394801464 -0.94873145672625114333 0.14555591335445300372 0.022944270629223585678 -0.25658544399138610848 -0.25998719814745890888 -0.28546146547796535931 0.31321034989260676529 -0.30906536494097042178;0.20649521562116052165 0.56498228092674673828 0.00088639291144256698862 0.17766899878117781153 -0.90782832467020990741 -0.42218890324208518949 -0.3288242450197289557 0.68308298615935836295 0.17970914254931610876 -0.25523542388332903785 -0.64482108524941306182 -0.34284702245305387347 -0.12207260806736731917 0.35757022892776657574 0.67724304033137994185 0.91807612648253100751 0.63125984408536806036 -0.13480697699204741147 0.035505740655315497223 0.64941667967811889106;-0.54285422111279868496 0.49457430336405644455 -0.54578497808136416936 -0.30158076831110824934 -0.54530493733602580786 0.33896057602192852798 0.052027281089108090573 -0.020362291937881169673 -0.93760973521297630295 -0.84568568279517986053 -0.55933297065941289805 1.2875150161107475899 -0.026688546145960667655 -0.24409015027601768666 -0.030971530295521916554 0.46168768545083171961 0.19600696121775881831 -0.14962457170452914124 0.56364669906227149454 -0.283470564873719022;-0.56815061465715721578 -0.15551722154863265035 -0.32573150068600698059 -1.1208003444135179461 0.032946547973375817087 -0.36112945992301026532 -0.58444440411118414591 0.93949491161392262306 0.43389803764716439183 -0.30598631947556220734 0.50701104830991350347 -0.028529358274011713814 0.21186164330575299464 -0.52422040985317830408 0.11756244462543215257 -0.91822437326600447882 0.22178627937368267098 -0.94944133227928317886 0.30761408062820799758 -0.66301317602845277754;-0.077232204302060722401 1.0252370988346704017 0.21708269705997512711 -0.062932459590100436886 -0.48900581546924448695 -0.027624432798001835598 -0.055297146444773709328 -0.52611584821930390543 -0.38034824786306126176 -0.0082132258827651224986 -0.1796434093900786122 -0.32968534583334418997 0.26793472784740440806 -0.32510963017218508231 0.1475170747750582656 -0.41410926603385028733 -0.18013181802819591693 -0.30885657894475893048 -0.20421070846885264194 0.10769773804824991914;-0.62461575259618951073 -0.032453379464906721708 0.43922347491342328407 -0.28558468973600975582 0.66086100780964940338 -0.46217737327449659457 -0.20255514114919387358 -0.23214717291720138315 -0.38881808268370926518 -0.39437265968734946942 -0.49594687887225591405 -0.67766978611826167445 0.76836209141718103677 -0.43115111227373520419 0.73474773329514220244 0.54280699859881942348 -0.53048670206324277654 -0.27140025370270359772 0.5383352124159407337 0.13594897469529204637;0.082608235751187475415 -0.63585028580013491784 0.059067573259722352952 -0.11009592470637569184 -0.83290823143054515398 0.24544552481924106213 0.24621738580043725508 -0.20483905423878759344 0.79825745289326932586 0.2760269455455723886 -0.35920268376888780937 0.029745956773422781161 0.58935854762979100752 0.21419967306947301777 -0.13389741512007152791 0.19810335468044004692 0.11046445353193536099 -0.11248762876682294465 -0.39224577896754103667 0.5712694197331953383];

% Layer 3
b3 = [1.8188029090147102007;1.5973914264008164388;1.4700145183760600087;-1.116511206235354825;-1.3677434833554600324;-0.97676775568430262986;-0.86075025148520922791;0.21902419804720368868;-0.041268933436063214015;0.049322922323162529668;0.058075655086579081043;-0.44260500382959827581;0.52311904194513469957;0.71300639611615934665;0.86256399096455838027;1.2066121682608428323;1.2795779316601845199;1.7538455495658986649;1.7790569896715213716;-1.8895466839071208831];
LW3_2 = [-0.18243621811704524571 -1.096496570938554127 -0.0017184451007860555849 -0.72275864788921473369 0.72156123283431861104 -0.084449002324860036883 -0.28008604212966375924 -1.095133204014193451 0.55708246853842036117 0.54029289612172326507;-1.0013336977777456127 -0.6653589683722636039 0.98731713144168076202 0.052148961462317081073 -0.083863575705906800994 0.33585563619165031968 1.2343693003879232517 0.038820979724341786454 -1.18402047315986092 0.55589995633648414675;-0.13205787146232614293 -0.24231962149045727095 0.67757435221578443674 -0.38520525518025594547 0.068168524670921895603 -0.52128623887613301235 -0.53576612751089913722 -1.1910274170475096955 -0.087130353604634336318 1.1432085961264306651;0.7343028747045383664 0.83472578804533414942 -0.12005115111829596508 0.42273498606442500014 -0.46402544811282253612 0.37684208342010461212 -0.10595021943065294212 1.2154626766137794913 0.087593798825564186949 0.80864621868877828437;-0.05578076126707339627 1.1471119383347676557 -0.73182196142326605415 0.10061561934656954032 -0.48264946808323017091 0.50105316645316477775 0.35070312523493463175 -0.026544768817440000941 -0.12779161400052874153 -1.1298524204804063498;0.45584701161995039298 0.59554075229997105456 -1.2662773358977044147 0.97459802229688496933 -0.1717574161888457962 0.83681111872917202099 0.6859262843843331181 0.55842605290305524779 -0.14936526445875616953 -0.064065655651910996538;0.013665309766514643908 0.79431459011068261677 -0.39279979952414473265 0.1313476293035038267 -1.1808717765590037718 0.4400613458231232844 0.49912869101261170268 -0.15550300889533222315 0.18069298697843574897 -1.0452159596039267697;-0.59794049378128932837 0.75861287787534670279 0.085284684677575689493 -0.1226023497356641262 1.341326675391717238 0.31734694315576378321 0.91026740472972156315 -0.65730782462743109207 -0.316120072748749259 0.094586650251742593332;0.92245344612036017651 -1.4313289217947817722 0.6148422956243949633 -0.22972534045918643897 -0.26953691715157362951 0.13925632507413387984 1.0292406205548532139 0.94813193229995440525 -0.0056322436140785539505 0.043202395918142552644;0.72418631165155211704 -0.018651446713131937527 -0.52525291533781182096 -0.28078750707198735226 0.041906364004945004242 -0.57969702698223701809 0.69651528669386086889 -0.62009191695565402114 0.82952452608774285281 0.60901475904362634139;-0.19796681775899740985 0.79756960408440902288 0.94166873929013827915 0.13240166810984585477 -0.14758751659369592768 -0.64107256850404181758 0.54998678128723188507 0.5786989390964085711 0.83267568420597759538 -0.25358054246619193828;-1.1556821581596719017 -0.30418602833047830858 -0.89139588045103079761 0.011144042373213758346 0.43840698664204358348 -0.40699666519857635727 -1.1979438593374378552 -0.22264207331018229241 0.048002275965253714263 -0.30846346019994552723;0.50620720533757013193 0.81660955558152703571 0.65691487148086724623 0.6110062558572821878 -0.25801286263377382069 -0.10182687051554289992 -0.58755735072965009635 0.85070677026256846798 -0.0097844742335686674811 0.024580175882763417167;0.87156491170079641861 0.0071697668097783434984 -0.94473490001449633713 0.34960240343440568411 -0.45287707534495952322 -0.63505929814987338577 -0.44276001413483956348 0.27053663567109853538 -0.91921519520475369891 -0.28087154968340716232;0.05885373082991247895 -0.53643802475514645867 -0.88348648870883195183 0.41622508767570293164 -0.1994194008009154695 0.97757889846407686196 -1.1597748016780187186 -0.23139913162440770011 -0.30132629586937925703 -0.20933150079662965481;1.0560972872642657716 -0.58286657846621880985 0.56607719706700188045 0.77803310800420533155 -0.24711959997943513945 0.59000012846161697944 -0.3144849451175490973 0.57350544079622811644 -0.48444041341465915451 0.3889357747009165589;0.62808618373038649363 -0.50308752206172180355 -1.0276320398218903307 0.38681828984857113962 -0.40719574477468267748 -0.84719320332032321819 0.32652690533786721261 0.4183061712242900354 -0.45697293536103006373 -0.5105656414908998908;0.67813854994058153647 0.55513194068455051777 0.53359039858466439377 -0.32458501732226185954 0.98073831189390503482 0.83290718534692720354 1.1272220787078457427 -0.077226659040094097763 -0.071958866828858325526 -0.72654934596758835585;0.79350234535883978904 -0.56020180513830608593 -0.51142177208836359092 0.99048248194772425812 -0.56949825932108122384 0.26159087676199571648 0.58336572253307028557 -0.88589075267023320581 0.26525109977088850988 0.012275976799507322401;-0.80391856619501367298 0.16564869373775417682 0.67616662202224209199 -0.80986920165003195571 0.1591782139161754539 0.80304270341087313767 0.39065569751510798024 -0.18879228142399742674 0.57293829123618777999 0.78469745416663572168];

% Layer 4
b4 = [-0.11895167021974042965;0.33438728739502554532];
LW4_3 = [0.48736824141253265452 -0.56585754156783429902 0.50878730674079630791 -1.0282074028367678142 -0.71750385369422209347 0.53193555738540343469 0.72793128767441239724 -0.25721146605175926325 0.39233956211649223533 -0.47648672958593818461 -0.62751391186516125575 0.26118704413853066626 0.050766581545057788694 -0.16880161623363620915 -0.78987206192464309851 -0.01257434663149837456 -0.070495033088314562608 -0.60426328818186247904 -0.65100162306092801412 -0.46197562662889324336;-0.86732143418124163503 1.1895780455160491762 -0.30718388147376290975 -0.037106734007445893453 -0.2044213247914834497 -0.53285189773985963679 -0.71520594223367650599 -0.81212994210077482649 -0.92368191155217715949 -1.0050105758491663099 0.38664878670641300573 0.26368346366093187161 -0.055799214967342664062 -0.24264149998503786732 -0.051152739872635716312 -0.4146191062612348821 0.66685228341402491559 0.10483023653324946567 -0.15974850209540106261 -0.038629182479218239499];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1.00000000004028];
y1_step1.xoffset = [-0.999999999999992;-0.999999999992001];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
