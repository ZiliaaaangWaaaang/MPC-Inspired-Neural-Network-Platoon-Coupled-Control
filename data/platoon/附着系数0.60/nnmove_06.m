function [Y,Xf,Af] = nnmove_06(X,~,~)
%NNMOVE_06 neural network simulation function.
%
% Auto-generated by MATLAB, 09-Jan-2025 16:45:30.
% 
% [Y] = nnmove_06(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-1;-0.981740734431473;-1;-1;-1;-1;-0.982296504876327;-0.976188506242889;-1];
x1_step2.gain = [1;1.00921375094698;1;1;1;1;1.00893080075565;1.01204920162317;1];
x1_step2.ymin = -1;

% Layer 1
b1 = [-1.9982142571074550386;1.6415118922184228634;1.3930554295027122169;1.4135800980036188346;1.4081172831948016722;0.87615259229197539614;-0.94790446940389072594;-0.71195016424549950607;-0.51706244356439723386;0.82921495789862476045;0.095435480677183520681;0.054195679295570273193;0.091227146016294891062;0.33242460130249462669;1.0964822401445286637;-1.0518557733660334197;1.5153691588223041631;-2.3199022914918403515;-2.0575459960500959156;-1.4768646695513321099];
IW1_1 = [0.88058356139730953327 0.93809136360403022614 -0.24821347592350212485 -0.28475567717851396621 0.58958409973212744237 0.28276703438154876524 -0.79000817285630398068 -0.017843117458071620918 -1.0334639514524512904;-0.21408004963440191437 -0.090028169886272879641 -1.8020892711562788158 0.71432911036716539854 -0.63279329934508266042 -0.85797550484654672154 -0.32244667994048586968 -0.69560329537791587562 0.29404272618302879083;-1.3491791311600214165 -0.34950890751138841139 0.094818028583636318474 0.020012250805330943082 0.64872459820166694655 0.58041698636230454333 -1.1381909249357842207 0.29633048725861194095 -0.24559830359363393759;-0.46015444387817933114 0.26914612586337000044 0.074634158650802001622 -0.25134284289988173544 0.74732093597205895286 -0.025612428213155936929 -1.0026345183086535773 -1.321697680621418014 0.31485422862385509246;0.44466215431370043065 -0.38718453923779072579 0.84521777753518734233 0.80329365743862823912 0.88726696210933297948 -1.1557476506418180584 1.113899798495209259 0.86034607150802389075 0.56101543136660114719;-0.81870705518012609758 0.49604230709118207754 0.96360604566216601086 0.44025356778081353726 0.71696264483687432989 -0.69912329476224355229 0.51135700987154997232 -0.71553906172068104663 -0.34944928404591441007;-0.023354639519544983378 -0.6574542808908744318 0.23158931251923706163 1.3676393478141313231 0.34609727992175404188 -0.22566812837840932726 -0.99494542231586824421 0.57595642616233455602 0.67574165673783848085;0.42216096103652228644 -0.41833468598192669052 0.6819332087666984954 -0.12904505580912967178 -0.90816262015089610493 0.81670785882934726629 -0.89443814420850686897 0.63801410999583818562 -0.238376434312748825;2.0668553734687149515 -0.83479682893707518598 -1.2823658523289460653 0.49159038867407645057 0.52663033017005256298 -0.05255642138356811377 -1.171669424913869717 -0.030749106239347810676 0.46948037064337300173;-1.181848167797184157 0.43079657501855767032 -1.0406150909487639211 -0.221165118198239391 -0.94354614529086622277 0.4191675225007374106 -1.2773192764419620815 -0.2539566849174606511 -0.013128919279853070584;1.4660968087521735193 0.44261640110205463516 -0.52465948979630605553 -0.71347399302948233402 0.78750072648751234805 -0.052644415992338385035 -0.23474233934242008659 -0.30879018832329097055 0.21585536217610151732;-0.12215090730104291583 -1.3963255619568566424 0.15701450278370868152 -0.80626741611698571344 -0.40568649842291820695 0.501073900369767955 -0.37740572628492946583 0.96052094005613031236 0.041935182768420398158;-0.87289822244276860097 0.2938776253528965765 -0.35240371595124464488 0.46534479543013851366 -1.2204286672159772031 -0.69055586890094378116 0.86861267230040428711 0.12647129615400515279 0.65716036737742056228;1.3627905090936160981 -1.3471746739933185832 -1.1795183269741991161 0.70218895978406470348 0.1948727482079910811 0.16227912547213030336 0.047703405092531486753 0.30587607167458308322 0.40737425118588371786;-0.10454723358375064834 0.10572926018759100375 0.8127741034879617521 0.76506112502815049048 -0.67335922909503076461 0.92482434753630071711 -0.69881101268930967407 -0.94500377111453881529 0.42621917432336203779;-0.81303846753730979469 0.093698665187634921914 -0.65467169361417665296 0.42428219790163229641 -0.66864239418959525718 -0.30310666051665813292 -0.84460591408340024433 0.80983695146049627933 0.19672552266822429523;0.097460044209633917012 -0.48070281953827059818 -0.25351794823611489837 1.4839739037095991403 -0.24711340504498979787 0.14021821334802656023 0.23943221077896656435 0.45126737798698168813 -0.58045353330839954964;-0.22389388519587191673 -0.74918454460255434757 -0.34383751919774729888 -1.0803106619107520903 0.33884793280464164944 0.042183984933907889281 0.18442716915830192903 -0.43092947591651714623 -1.5616238166990090708;-0.79591041100634507544 -0.71646492773095993289 -0.55945300115855800538 -0.62726477154601067987 0.23241768116965158542 -0.48005330431624210208 0.24265597695673399303 -0.72932441677844650485 0.53424819739524964657;-0.63595375106337481697 -0.81698223466858477249 -0.69550781402576755674 1.3442631645366498461 0.62690930524830523751 0.94472182185324993231 -0.018162280199418130711 0.35675828907362289177 -0.35664364877299947754];

% Layer 2
b2 = [1.5586028206786095573;-1.1824167350454908298;-0.94843887926803160937;-0.41908385352622412601;0.17970404350425389639;0.16520052923019445945;-0.39740032591826601749;-0.8226973176528523668;0.58676914989073813977;1.4924333315250151166];
LW2_1 = [-0.75480792311299882424 -0.050820601629381748077 -0.19443850325893974329 -0.21771936809479203179 -0.66609775280596317248 -0.038081060575745846741 0.59065853120089628625 0.79785461443783622926 0.87256563296889855241 0.88090447114167713671 -0.39198300961679766186 0.54937554991389569992 0.093869212503057658514 -0.40168615879071012387 -0.37931764345239521452 0.1120195229132609771 0.43982695095175122768 0.15242713648570113683 0.19567204946892061135 -0.61588367652935982477;-0.059177589718895876048 0.19647959127115763311 0.15991344055442807681 -0.43751211220823038595 -0.2754662691505324057 0.76322030296928355941 0.22485073046929754392 0.42672887858084640467 0.3035744632789961206 -0.32659639600414863692 -0.70258571754552545663 0.66093945291380695739 0.25071209231336083478 0.61040318933381521038 -0.15728666550977110639 -0.32598335542597550729 -0.32381996273527502428 0.12048138809525138493 -0.36085207627741283654 -0.34501707701287576135;0.69395153963286171361 -0.58253145979862008819 0.27796886447202884263 0.69861904389680395955 0.39970083033367248548 -0.64564526015186640695 0.29295489217548742467 0.075677764315900050707 0.58550731586293314201 0.72586053744513612251 -0.16536124747914737743 0.354519497298680486 0.32374671410581007391 0.92739726518592346949 0.2435874972772245628 0.137214594347997626 0.5407542382077854537 0.39126106852554515259 -0.49335252446823552042 -0.13886430180322542616;0.77286909241139478688 0.39962444837378524598 1.0297767306175860114 0.25903207747036893771 0.43364239333083720584 -0.16400254121203458602 -0.63330204889131813673 0.10916701641281936763 0.65561286418530728692 -0.46725135493909641937 -0.37079781673726691649 0.72540729377650703391 0.29639844998505021634 -0.30208613324736804939 0.37581789583624020112 -0.34714890845579859935 0.17707091696153251514 -0.80176908742354735526 0.11049099502182137267 0.88015204603599472843;-0.45172931199957161441 -0.33206182693104913106 0.084693172036427150084 -0.63494669772801071161 -0.25190143675216458696 0.03590005071213028115 0.57779675743892711104 0.34473553412056878731 0.22689729649804118994 0.85258711457141445056 0.1530809037049874477 -0.022867831267203528323 0.55705950242723822896 0.29140537974268659882 -0.63839023059014976536 -0.66271888315754212684 0.09963266513246833711 0.32456524515718943036 -0.21166364207369414707 0.57307007625671457784;0.18627932089956467099 -0.063417289717539321314 0.23223074127621332052 -0.6908576658407797888 0.9053837068196707305 -0.17305019462855308898 -0.23341230205215526827 -0.71475500335394870355 -0.38818214850609672473 0.8438311115866607981 -0.46393266155229934133 0.63795112681054344517 0.16052136524569973752 0.14282835604000479468 0.099997775203864353033 0.17865509023187955973 -0.24939199107236192932 0.39440453567428696013 -0.087135634832207292666 0.057958245740436689641;0.080578631188200328106 0.75329164396564385342 -0.52747625034930312182 0.19028205352635690906 -0.21396495846546378927 -0.20349108703930571251 -0.37563470030362944296 -0.06677170787124345197 0.092572563095379450937 0.10013922860431810624 -1.1599633123853370087 -0.32829478365640263338 -0.48188679821312152551 0.14978699555802837962 -0.16386798907710928286 -0.054461836789093505395 -0.060639791079240383531 -0.43767693297556936605 -0.13470614446421039223 0.27294006804637271912;-0.24297907781276639749 -0.14576532907179481913 0.4353951762447708651 -0.21646781401556058899 -0.4964180813853341645 -0.28891803913773084211 -0.40372515843726919371 -0.52780402498493650398 0.20852515663943649304 -0.34983650851778608226 -0.89879022398433972008 0.19884553171765972923 0.41348954506925705843 0.13031001351362678231 0.21085534340574513257 0.52053502352332503555 -0.10682034015069756527 0.41190705400585775342 0.33519233398864956008 -0.76667383620535833888;-0.11663306944976353785 0.038146758594172845702 0.45443682147584774089 -0.15121550483054366221 -0.019178774003472849607 0.41592804159670754283 0.11750613139121912631 0.67102160743412209154 -1.2145373581407483687 1.6198497059601946191 -0.22109629995929350188 -0.13584621221729567542 1.2525995558181333145 -0.44385201059405876567 0.020828274320064024683 0.58164735513291077051 0.46498683382959954402 -0.048115450151874530893 -0.051352992160401407518 0.40643841475416819797;0.11431839298185228482 -0.63388064051904480234 0.88932959935057886991 -0.4784222294443186696 -0.30030434852304943583 0.23015721777117387203 0.49819107221522024309 -0.37024308572790420868 0.31686618905952740333 0.21259515527053127193 -0.41388601436126970512 -0.53487682758939869565 0.20105803943018740743 0.48419163062418391075 -0.13002463140682390952 0.13394130400271808679 -0.15551441636429913506 -0.22203763500248216434 0.064066590290046521172 -0.34137715347428632118];

% Layer 3
b3 = [-1.9693950392210188838;-1.6692669369335058072;-1.7492176245614139418;1.9302003708855195452;-1.1044976475020562567;0.73041442746556428656;-0.2190370031883283608;0.89630419596062904652;-0.035924681168840913448;0.57153873960856205194;0.70293219816280239076;0.50723580873373863565;0.24099784514553387882;-1.0635464922880391025;0.86712509836868689739;-1.0349754094436369734;1.3630598554302728598;1.3260673162977247852;-1.8057111898974140818;1.7032745171591914257];
LW3_2 = [0.03178860843342493081 -0.061100920175900519382 0.42188433573355749173 0.29249351339694956708 -0.58132690229875694232 0.35540175192988449071 0.85914493110608836091 0.97569232445701015166 -0.10023229837869068737 0.76962556197087361731;0.5320473007146274691 0.28607747996082522057 -0.110808538309324911 -1.0685878755516282634 0.32772231782827304647 0.73200508243299344802 0.47819452673424894806 -0.88465810049310811269 -0.37926303814216832944 0.52672027287797051898;0.63221341658488428017 0.084510099096997193246 0.46829192604738351102 -0.92202740785706982507 -0.21513124146894513355 0.13627474349490439898 1.0517589672159906033 -0.56680630748028071331 -0.97895132599470846557 -0.20725906650355016558;-0.27801235748277258741 -0.3806912918207454033 1.2149269393793631355 -1.1666660247315505661 -1.063444772102225544 1.2119151139844968057 0.035356437038346025248 0.33295313994201730656 1.1932567856081695012 0.35276263835035975847;1.1176862052988245644 0.69963676959073872741 0.035030869563523782395 0.700695028819229071 -0.20267897135228263306 -0.36306804258082364667 -0.50802705862523622748 -1.0932499800584172256 -0.76290618060775849951 -0.67455446399540863744;-0.47369357102778247848 -1.5390067629396029236 -0.34955980861709756713 -0.20162041613944081675 -0.79552268085007649123 -0.013564241251626023288 -0.095497569235755169759 0.66898560540927709539 0.59312480333867723115 0.17688742999009940404;0.2698724114060929713 -0.26852463754932459628 -0.35440115752793061032 -0.73481113596286384837 1.0073712221206359008 1.1800346907513770134 -0.12240459488482557937 -0.88497783422524312069 -0.85798744410798732929 -0.16177914036588994517;-0.05730582314880313527 -0.13070446580296468664 0.0019209245283643497371 -0.57474031261292324313 -0.75047953386493282402 -0.6916361312339078804 0.4716763266249301978 0.013621547015095750513 -0.096067806529040664087 -1.1493099372445336748;-0.72436590434416159301 0.66554966992068009812 0.81024009851099298984 -0.058992902552208729972 0.33175157677987388016 -1.2944609629985339705 0.23829283470044460014 -0.53439221241016143793 -0.52330067149355308231 -0.36136364367813011977;-0.079099898992634587458 -0.12256514718375340067 -0.15975263097423833547 0.80050352175682049083 -1.3923888177843155578 -0.796301189787004704 -0.90261433422359160783 0.20218002395565645712 0.16605367158132278149 0.010955283188968472502;0.5274708880720260229 0.46541642740697763969 0.40693239891388199858 -0.41490157256880910719 -1.0068377043749037192 -1.0451865873357979453 1.0821382168793884926 -0.56000019439458392778 -0.43615754864453532003 0.15009918657610629711;0.10821874783820234489 1.0148311743805098484 0.49653356501142170698 0.97381187319666229207 0.230540908857812199 -0.29498691444751484747 -0.33790950219747700745 0.63566261339948726405 0.3830995945394637392 0.5104619015061252485;1.0053722907258582087 -0.45369991204272175356 -0.18696360212751783614 0.7386662768114056199 0.66572869654839950115 -0.44632207804431911491 -0.2703043723337655857 -0.78346614318427276746 -0.83600964413617295801 0.4012059687048077361;-0.5336939531274922377 0.74900942895977795644 0.8068739878016860656 -1.0609141997434374804 -0.37520784780401922331 -0.35987939267698060286 -0.10507109420775165298 -0.51935648820217872323 0.6851154259430451976 0.45364107527134905906;0.73300478580473316104 0.31693296109115243198 0.36181242867557383835 -0.46265524819779219046 -0.96527680227470780139 0.63604679776097483579 -0.01700902198914171215 0.43869922508649211723 -0.35149096912589250508 -1.01317731690938162;-0.88213566836817647321 0.90830571406545812518 0.7403611992626201177 0.7586925094168570638 0.63729617421865802918 0.068029657169172697007 -0.22289438360667107597 0.9460399244779498229 0.0088752801197005889988 0.4539137159712727243;1.4155430935979762541 -0.41024587110324295391 -0.87930093448423196634 -0.36407749803527339472 -0.16145400320292321861 0.098961095169997029264 0.72912979875273009611 -0.050634186470473754871 0.72515662053485419047 -0.43407585066792481188;0.1903735448107279904 0.57336265457422697089 -0.30322291172079512966 0.44857457585514093346 0.53133663846794398911 -0.60070714054376173063 -0.19574931640663600918 1.1199932654952930999 0.4152108733585767042 -0.47981994770288943775;-0.87193438102195797157 0.70171318094426138323 -0.25090241929888967842 -0.52630125832003593622 0.41868071179277460692 0.95441147503629453208 0.74028707954182415563 -0.70311142195703146829 0.23667941742683210049 0.57894568059128082016;1.1960778944245067379 -0.50373027692686334067 -0.98841718242900711289 0.56287995293474657466 0.96905215002396538626 -0.52957600305106189431 -0.34353798773756055729 0.43374096398583028567 1.0072719342911957696 -0.73557889693731715042];

% Layer 4
b4 = [0.47282797083966954244;-0.19499892848221819786];
LW4_3 = [-0.45651740532552315122 0.13866097654875009226 0.090059125285935612282 0.15256921206418377901 -0.25564584969537262893 0.26647991076985427794 -0.70134137065188517646 -0.32347064556073296115 -0.23307874870584144311 -0.68485055318572951588 -0.71265063037894771369 -0.28799873742304388236 0.61359681233864860062 1.1552724796611699709 0.48695309952888282679 -0.92173936568445979933 -0.16193658923443002284 -0.05522187069207377258 1.0182830225491901199 0.30116107643816031336;0.081023095034440661966 0.74845807804840103206 -1.0273623486871521493 -1.9131480359333592478 0.24979592666469918605 0.08961838149171418022 -0.43206405493254002037 -0.16947823046615506648 0.47897812122330574169 0.023214182887792360332 -0.12923058739593643041 -0.072170821753694533451 0.068171622169725179519 0.042811529322829028343 -0.16703522557441793928 0.0045677700714169579277 0.92345272584906135105 -0.051127103793614389615 -0.044949331253213452297 1.266714325677844144];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1];
y1_step1.xoffset = [-0.999999999999992;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
