function [Y,Xf,Af] = nnmove_06(X,~,~)
%NNMOVE_06 neural network simulation function.
%
% Auto-generated by MATLAB, 09-Jan-2025 19:22:32.
% 
% [Y] = nnmove_06(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-1;-1;-0.975146796670546;-0.925841936355771;-1;-1;-0.976641177656369;-0.718007527153801;-1];
x1_step2.gain = [1;1;1.01258296516054;1.04697940550019;1;1;1.011817431817;1.21977949460909;1];
x1_step2.ymin = -1;

% Layer 1
b1 = [2.3372982032147784359;2.1868119636276093232;1.6145229621881707072;0.81327835848560181553;1.566348428578271168;-1.7922672682720897086;0.50980339738658664306;1.0290114223845823194;0.63402404755806462955;-0.41686349580592130248;0.029882759170336264248;-0.096692444477013070325;0.09226448868403136494;0.6900868267903694786;-0.97019431306203252063;1.1505969502348365463;1.1668301335798068052;-1.4929902596215849364;-2.046708086810920868;-1.9332449650804093277];
IW1_1 = [-0.98250921412870018123 2.2666569834599754607 -0.015104020108240280573 0.30171280835574304513 0.89331046265088387415 -0.25148229721953385685 -0.45255781352336238443 -0.50413584745139927712 -0.6254676274110946288;0.17419710438536595287 0.92680733091537970125 -0.75356150120492026989 -0.14977362603379065775 -0.35051306147869515373 0.81905050641534660194 -0.66771997593146270589 0.67463316058631661587 -0.49510878459690110809;-0.59750664928357521966 0.10031818371428621872 0.017151891754850726035 -0.94642872725513194077 -0.82146454843913929711 0.91614686054315608299 -0.55624167282406500323 -0.1052619773830695965 -1.2908542763277910392;-0.78998116470218182616 0.92163075318581333395 1.0582821776165158845 -0.11563084710725815563 -0.74262134494825216002 -0.85561654945745713174 0.34608449850374811696 0.16352834092240825514 -0.68533558763244961654;0.10024117722399923658 -1.4043644335709133397 0.42414593336015044001 0.81273360749800149794 -0.17981078190161164931 -0.26780321358273501131 -1.2927246095452382679 0.95399481056994794859 -0.3365055417502834656;0.5052874799058562072 -0.021709245254304686962 -0.2674107831821159742 -1.2663123565460803199 -0.8922642192331605715 -1.9664706316396465269 -0.86764552123268312567 -0.23458981460221636772 0.64913477324372892419;-0.46046800579937707809 0.71112199883858295824 -1.4168824440246059471 1.1798901238807835146 -0.5486699221247399727 0.64959844490092732983 -0.29261402597051744401 -0.40301509665869461596 0.63368109948185835645;-1.737790902835090856 0.020734869695918815152 -1.4821520563243673063 -0.52859759724500954281 0.20022871498657390799 0.54566690994943833903 0.13031239225029636608 -0.25968125915206458076 -0.053211151324349982572;-1.2223747276417897822 0.94163922146455236728 -1.0834520344631464184 -0.18875594606197793057 -0.82793279308730538535 0.56244342605209451946 0.65253950987823317043 -0.053513283234970350499 0.66641437523001900711;1.1436354649529074656 -0.48747641339224589974 -1.0713878209850542511 0.037284326460973724049 1.519995784987932641 0.091144786188529169912 0.40979872509593084917 -0.056544340278063501271 -0.17480618744365378214;0.33235680577101223143 0.51089645856480481179 -0.26942146954260337566 -0.77462158131087655022 -1.2996903586442105638 0.48837451060498088262 -0.95282322058207824522 -1.2664239114377116024 -0.5370540732135704598;-0.513027182908522561 0.97307880261100687669 0.81045405607508325119 1.4578613187264792828 -1.8612305121439431943 0.28231060528986318126 1.2478506772973605443 0.1278441097116093661 -1.9606840664912945638;0.16496967732725897893 -0.93365842883272875952 -0.038085451836607532583 0.66119730268662035844 0.94638601219345241944 -0.83827283425369436554 -0.80263552876587929141 -0.41541305613600459923 0.34170245689660844191;0.45600913429973899405 0.62265394237286975088 0.12893013299362690582 -0.12595489544921539826 0.20455081360018537162 1.2975149995878716425 1.069543404981175394 -0.69906470597560610436 0.0025475483818471478248;-1.215121404370359981 -0.44782237416048148448 0.10621564894877383312 -0.8399584095535471695 -0.41073745157467478339 -0.36723605422414323796 0.35929761406524080014 -1.8678255627541542339 -0.17779128184705558779;0.30819595436644364739 -0.54539809401913597053 -1.4208051714518294961 0.65348430112606925579 0.72968464525668352838 -0.054890436183824199701 0.39711506995698447886 -0.85898792005330282251 0.56102428707017204523;0.40723429682853334866 0.95574693696114954022 0.76970531981121192988 0.57730229717327929961 0.31124489590880310974 0.48500049651901067094 -0.8424261413812856869 -0.26301693709025397716 -0.53231118995032977725;-0.061228944939800022951 0.18512753372360196691 -1.2431038032366592549 1.2112019486723479833 -1.269467937812348568 0.38495751836823527414 -0.32890843099307498498 -1.0493916176495552417 0.31545624683882156347;-0.79179058248761025052 -0.93844125671176681358 -0.94488404368826617308 0.87400705154691571419 -0.88816391961353624573 -0.73330011974025610666 0.40027039663830860095 0.46949075222303054966 -1.0039131200521411724;0.031379286628242693269 0.91513025628431110547 -0.41551142147407860161 1.2939170366808128154 0.15249209659434528885 -0.39031394112351097681 0.26116050366731885513 0.53918664039239116992 -0.98686693028590843912];

% Layer 2
b2 = [1.6306345584947288252;-0.78579742523879780869;0.89284188094066097019;-0.93649528620140143342;0.41382238979951346813;0.34904513458308955576;-0.43535162542876199021;1.2161716709321124252;0.72112257507308175075;-1.5089004218204145058];
LW2_1 = [-0.39180877003866704245 0.47216448988802151021 -0.082038817131768110302 0.1485976670257466159 0.39556865808958419084 0.24580834379322424876 0.52581328478552769035 0.46906773947495244981 -0.46654471197044322661 0.64499115397610451428 0.10281165988981050274 0.63576927153176288066 -0.15572607013449538127 0.29289404512844047224 -0.47788696738730496172 0.44923837031114827179 -0.10763646113304770058 -0.017993027467717907786 0.14040850985815572782 -0.2820723317666384844;0.059541966920888381165 0.18861426570616554588 -0.18370731935158501891 -0.63566461942360219517 0.14724743506288556771 0.17637328363509141571 -0.37528088693595285097 -0.63812813670952250877 -0.82130325597430808848 0.82059501396786427296 0.14136265696532707148 0.053254350182591961294 -0.51984563172045816781 -0.032216087160439249582 0.053606345643320903183 0.56079782416332646378 0.41195117637125405752 -0.30122104985575381964 -0.32812023196390632807 -0.3474765301200612444;-0.4946538534837304768 0.94194466434529455778 -0.12613890058717508458 -0.25944019988038352631 -0.15425371600547382878 -0.82349638156527715793 1.6096548198309517108 0.72082223047654303549 0.9156035514887000959 -0.36670887882665742508 -0.10923649637449446559 -0.38158610845263501998 -0.15204991472611625869 -0.49901562574260366345 0.77728354204262162241 -0.4431457295546876729 0.95584212735536377981 -0.86762936994346540054 -0.6582391594588891115 0.2350841940513068995;1.0667986253943537722 0.1044814697924375535 0.79338879095638903394 -0.87718967982338835743 0.26908112535167405532 0.24976358101214565788 -0.42966044658067670259 -1.2390446932842731353 1.0367965092519570991 0.53080593107828066834 0.038335308523860155139 0.47922485786811852559 0.10862236916816261911 -0.39881975428532129291 -0.79016224283997282818 -0.16967194392713377815 -0.33276974434477241127 -0.91666790018230170922 0.7647806802048140451 0.50877926721480382088;-0.52229101973516578461 0.058470713515264075011 0.18115607611003123334 0.16842322244830104649 0.050992872451814996726 -0.81666027799188678493 -0.010869540096906335838 -0.42946128454364668192 0.1346106228713307984 1.3261073057448797829 -0.39492834523793407531 -0.70469339909044270698 -0.38636677456473089709 0.39850336603276809155 0.036321866075234292282 0.56617742379536384334 -0.32221893356119968299 0.0040978320347482416475 0.37798843103550283651 0.20859025810038109294;1.2246278490246338411 0.057378710604961122299 -0.2277268669450038252 -0.033810568583815453492 0.26216032639157743622 0.26792526651571435536 0.9352531393965114459 -0.56373508028286067884 -0.17078056596087437535 -0.8888103302012000384 -0.5312454401243317248 -0.067671139106586827849 -0.35550457051489092741 0.1304201633266034166 0.18499375062255729585 1.2737124882754460309 -0.50508851077192795653 0.87225522122909693312 0.55306770118831827254 -0.27726326322205308017;0.29351143098773091467 -0.15098514277461497213 -0.25033030843172199287 0.32452987585837328455 0.52674256873838543047 -0.18299102587932147834 0.10923737418381228303 -0.65502516336369631667 -0.28804849257508791105 -0.043548764072268431047 0.30421885093345546469 -0.078786415474487420108 -0.60810844949133335824 -0.44969700880772273122 0.74922082444081061769 0.3800181311495900438 0.5165708238826414167 0.21674890981304317794 -0.083727781234701870172 -0.24809546762160319955;-0.06600106548414994001 0.27085069022941732353 0.89904780928257366224 -0.12880222896152107581 -0.48982986736740885547 -0.40900406489002544275 0.15084085678534722708 1.1631697263641811446 0.39522680588375858068 -0.64188341411962168692 -0.10389512630400241089 -0.10232559785801173535 -0.83709410080486013062 -0.99662838959550015261 -0.59591974267982705804 0.3818921679942492986 0.49919471395448328233 0.69768753305614672477 -0.21780358263321517032 0.14723854614343637182;0.90820876603108646741 -0.49938136794566639898 0.07734033933935126337 1.0173564928897536053 0.60857064795083959385 -0.526394124605361724 -0.25413499509117037922 -0.54813832142482943333 0.90051462331777332171 -0.67823967621734593259 0.56545694879590002735 0.19966810912845783799 0.48820512725700249135 -0.40382211822933827827 0.46311761264341727573 -0.36609238628981161101 0.050322678119126704188 -0.45077979060094874875 0.13707959921617707266 0.64132564179455253672;-0.34164736546170926257 0.65818465443935281201 0.0059196125101102937266 0.0068283977868373365444 -0.59701918092154282469 -0.66401338344193039376 -0.13743108008529203445 -0.40204534991889812057 -1.2997985641696472303 0.90102533411442109479 0.6520246309021455744 -0.27414396869224538777 1.1205156885955651624 0.32690565173025587509 -0.0064247933239352690571 0.13621175497347579042 -0.05179856327967308216 -0.34002089176175048779 -0.84636823564076901771 0.75123987951898185678];

% Layer 3
b3 = [-1.9221677092837607947;1.7967334308582310065;1.7196897045185484121;-1.3798938590975839968;1.3043541705971604117;0.88881905484834022868;0.58119730061517305142;-0.28958194686423688324;-0.071811792012553027353;0.31651555914270734782;0.24018890177522028706;-0.42844756620516749601;-0.23401482393789296843;-0.98655112646875009474;-0.8853600152700257242;1.1969749378728515854;1.4001985063720849833;-1.7978203886227550612;-1.9238884553450068537;1.9168184628833977445];
LW3_2 = [0.35254825029570768802 1.2292618856031636287 -1.5540200501768479668 -1.2982782745475427433 0.84573141368747317692 0.52362438719479342808 -0.068135786081144039672 0.65114992136068428064 -0.20978719916226296061 -0.12280625988269959492;-0.24923593922290646074 -0.20817899559972599666 0.84981422131662542885 -0.59046356889312112681 -0.36362460959363313018 -0.76099062964936503572 -0.38781549120551161991 -0.51457235544317092568 -0.22378566924628776058 0.66131231336990836667;-0.6635329362053834501 -0.071317790271153327919 0.25825472919061015498 -0.22816755518267553549 0.20849783787611325669 -1.5176491831728249338 -0.78265830097494726303 -0.93890978141691439074 0.12967484388357453096 -0.91016075291858344887;0.22658754935048971979 0.6194506635598506783 -0.59489863240647578024 0.56028496278958384025 -0.56000205261175217686 1.0003789142303274318 -0.62902346379379714403 -0.5244239239119796725 0.94350187585300981929 0.16079168777145347313;-0.11498823926600862388 -0.99340610562218800705 0.50076531097544174642 -0.093941945684894861968 0.85033179286343640868 -2.0421010840864655123 -0.91321698975660015041 1.0109169566839899534 1.2004709837536020611 -0.22006270059264895766;-1.0961901554376962675 0.39089015832705842346 -0.61496735858471374137 -0.37250503563889475478 -0.45234898012036250936 0.012144158160926600554 -0.33531294979179609994 -0.72614580647241644407 -0.25771777372865001254 -0.90518260525296323493;-0.55930312921291747141 0.51191145825291994864 0.47648262273578534387 0.83473955960907120222 0.45756820541719545048 -0.68320512136008193504 0.078379318038687084691 0.073838652813906349714 1.4009099872286407962 -0.0029229125216616025362;0.76936674087648382336 0.95470392800736025851 -0.35911400330970211225 -0.50937730568343519977 0.8410202086636621166 0.12113820829239420329 0.86640877210651168205 0.14805237949336402803 -0.55992519595761569562 -0.61627598058074262166;1.3104428509592347396 0.070342191297923628568 -0.49583644799180798257 -0.52832192229533703198 0.28495731170966454027 -0.99208550018617136512 0.11569416982274761951 -0.42388222715192719336 -0.29713194323554992238 -1.0360070929222677805;-0.20004663195323801883 -0.73967697551677413781 -0.36108481210408555073 -0.17690049946152247573 1.225460288592489011 0.089303208542382203627 0.97386306147228807184 -0.92985502617124393687 0.17711043286066857627 -0.33281508335951065503;0.86524152458983560887 0.482327958496727216 1.3577632938126480422 1.1949259452985636631 -0.20868906438158263406 -0.61876535139760158177 -0.93462537913178433957 -0.50139520257480163501 -0.28403232444820220026 -0.51455155507837790907;-0.64672772503275333111 -0.25496449821008054792 0.69829074074973929154 -0.67628812014140904374 0.24623065562534862671 -1.5756841525198517218 -0.81050845539300053755 0.51675411403703452873 -0.33131016553519371248 -1.353337791481098229;-0.48857698908073599053 0.37693499193030000072 0.67451950771749269453 0.50674646025948499872 -0.54041021079261852833 0.15778813932974569689 0.55133502752341390085 0.67864882210548094221 0.19308873574933352324 0.93547982557519004931;-1.0698744974430474119 -1.1639631100508209816 -1.0453584849427326464 -0.041003094690463877392 0.09994142904029895691 0.61083490627632852643 -0.21773974858646943931 0.71327642312661410084 -0.57602569637741984909 -0.67918193853317643249;-0.68503865949257791712 -0.27595073181457396849 0.84853113413420711009 0.0090967132160920637085 -0.025861558259641887619 -0.21982402764431799302 0.39472127468229956104 -0.47572046664877326583 0.096665290034643497341 0.79971066144431524059;1.0305321256849158118 0.44134681814825937884 -0.55771737393229914304 0.44487435000740294111 0.70546751590557443823 0.18670107578886191435 0.16103727155242983371 -0.81930285860462936931 -0.66016879182492171907 -0.48146382103975549072;0.37028604798025743783 0.40532508948613860111 -0.91121694530821850666 0.38322972825439416411 -0.012959747697755083506 -0.36214068372271479568 -0.19157614168728570592 1.0854287868856393739 -1.0598198093363075944 -0.75525712696368130228;-0.99033757556767154639 -0.30808438900828483131 0.25775720234762738992 -0.027604906776168579297 0.89555036732511161812 0.91639020365750478714 0.36451029566171982976 0.46353390228911606208 0.090322641656413987787 0.54320950652740551678;-0.38335143308585400979 -0.42628865451878156234 0.61903909062937967356 -0.6334711444335224817 -1.0544747837823797987 -0.79428317849740870393 0.25175312172479114015 -0.8810677055065093688 0.36015421821733761831 0.19685901254399884586;0.38711708957334223236 -0.4969861143704004669 -0.2415837997309216445 0.73484208018951135966 0.34881426633572060192 -1.0059665406944842125 0.58073863152423177425 -0.36640102393270562731 0.82081127492297722981 1.1846063215114426281];

% Layer 4
b4 = [0.3927785664956814915;0.2357895627344512024];
LW4_3 = [-0.1637002958983138079 0.17239543125414422131 -0.78811036897369635135 -0.65095042793718083107 -0.41954397899552597906 1.1757992533813099723 -0.16367866008203038608 -0.37219265050909045023 0.43896724024756805793 0.7812887737379601294 0.82253779582490027522 0.4531894778707741267 0.57735256496133013915 1.3151749240173851163 -0.89369517411314525202 -0.32443579313797865638 -0.73520622233747334739 -0.64311828219361855119 -0.24270947004186874119 0.35802259031855721005;-2.0538314483531174837 0.097967050314565956581 1.4895186104182667197 0.2719627646955496969 -1.5884746824147470967 -0.48313879694618999672 -1.0603636472676818414 0.24404537900433739828 -0.8736122007096478459 1.1872655615174956267 1.1488734084530316526 -1.0451310468865600001 0.45768647167634690653 -0.8773601194039398754 -0.024114802582146679238 -0.61521382096830357078 -0.53428980422113492299 -0.12308513075800053826 0.56618068071368321537 -0.29252587845832700442];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1];
y1_step1.xoffset = [-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
