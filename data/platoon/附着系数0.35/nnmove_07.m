function [Y,Xf,Af] = nnmove_07(X,~,~)
%NNMOVE_07 neural network simulation function.
%
% Auto-generated by MATLAB, 09-Jan-2025 19:22:34.
% 
% [Y] = nnmove_07(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-1;-1;-1;-0.925841936355771;-1;-1;-0.976641177656369;-0.718007527153801;-1];
x1_step2.gain = [1;1;1;1.03850682771222;1;1;1.011817431817;1.21977949460909;1];
x1_step2.ymin = -1;

% Layer 1
b1 = [2.4880233327381744424;1.8877032867826204487;1.4582038687178022762;1.6523567028252754696;1.1292296141929725195;0.8918737627489317088;0.37888036435793254197;0.88687551765841032836;0.57995801951352887738;-0.44063251006819764699;-0.026765688025360657304;0.26126205074833458442;0.42078413894309124599;0.65860113236128658976;1.1828942907435715526;1.1076376483223009384;-1.1264674560747411913;-2.1072150743418598395;1.5699402817214691552;-2.0068528276471537808];
IW1_1 = [-0.39876972044025915665 -0.69676077924516477413 0.13792688941969713512 -0.5189234550929565648 -0.14176675952787212709 -0.59421900104027558509 -0.43911212773426139266 0.39927478153893924961 -0.65136740815891824852;-1.2562631418747769452 0.11212126608291822505 0.83470292149076308341 0.36909036014728341391 0.5356542933331224221 0.79536888591805410265 0.91311031541313170123 0.83000570815235730215 -0.12648392188883300635;-0.37145056916697799521 0.25407497864080930139 -0.19041849136820543364 0.47517894741300148453 -0.78888058327120724744 -0.58565412630034785479 0.89844643037870486335 -0.85592263367386411943 -1.0751634281873883037;-0.19794818820081416799 0.19521465873527538148 -0.58673082382089303266 0.43786118224049214165 -0.32400664391645150886 -0.45387782943762466914 -0.92190656268588733191 -0.56866565078580155745 -0.30148854152321985511;-0.55627252431137330646 0.30218566369661958859 1.1652290103474924887 0.66270202241692022227 -0.17384996842383482196 -0.74364220956873228197 -0.26873947509973139525 0.59994245782547084289 -0.52789942853094562469;-0.53114987514580414008 0.94397112310738040541 -0.51141917644070356008 -0.081491167761251787072 -0.33111994840979425136 -0.25517436465693577041 0.53090330542114294587 -0.90000376274653159925 -0.057635377109299196219;-1.1551211140385071463 0.14772958462215690645 -0.69352806282319390263 -0.16433289872006168197 -1.2376609432801410904 -0.52938583224432411711 0.074989917647361847841 -0.41156066345127872985 1.1968311498303993989;-0.52825151894953703557 0.76571961572537083907 0.49502076566050978723 -1.0553210859929442744 0.28071768691161835818 0.6192453301271640953 -0.85949115124999808657 -0.3779550424135471598 -0.61211807763114911562;-0.76901434106530230927 0.53881208043850903344 -0.68743501673470541746 -0.049450871015413414011 -0.89076055482769367355 0.93686211513586925559 0.88371814946075144537 0.55033779756500811331 -0.14630886365732409526;-0.74453226432019559144 -0.13389265304198058604 0.79529090801286561607 -0.59392382505269813997 -0.58928098835872433359 -0.95787203621400784925 0.53727314625349897881 0.5702792450970317617 -0.69248883763122037749;-0.67210009436950157724 0.79558204056658810011 0.36331156733188613162 1.18460538081290645 -0.89428149882505736379 -0.36789522131390339776 -0.33247137076189420268 1.4046041693627284719 -0.79048415159406770769;-1.743656596705510875 0.74893865292874506334 -0.30284628115577877372 -0.3191960677540193192 -1.0484374597702157406 0.70921750396860494536 0.43419367435067768302 -0.25696629571179413487 -0.0013907933707109595197;0.62373320741468707418 -0.32803915032493086157 -0.70644065536648792403 -0.36752219016630244264 0.34800691286144425085 -0.80182037540348494176 -0.6551423753176189857 1.1004992271534057569 0.32522284597242706594;0.58172724055979874169 0.57707178872291342575 -0.66761826741781304939 0.081625127855865009519 0.31300886158911267465 0.9993879377683135834 0.24952858420863685551 -0.24141544059316918935 -1.0840333781224136267;0.0040607246465931383372 -0.51469018668586019594 -0.75833313147091108153 0.42656542413043202489 1.2478111163477103585 -0.75855852214044483528 0.62456604459810238783 0.030640043581609596041 -0.26927541073563071583;0.45510976453508933393 -0.32257483330271341515 0.94183844027995189396 -0.94356513572918254695 -0.14598949704479791123 -0.48775527093881537732 -0.62992573828169351469 -0.35849061850632352177 0.92097818741216397331;-0.40511534679174221463 0.049217166412812797527 0.75235169467008977673 0.46887395308115636938 -0.10385745904545524987 -0.68337948806782289335 -0.30339377965239816559 -1.1437134371507957642 -0.88703399543692251772;-0.21302797641164955555 0.82349591670558441869 0.63460714010172836197 0.50766712431781890746 -1.1884403869551392052 0.29144152365779446567 -0.22530173963400351722 0.16176797663066116995 -0.27463622164958662042;0.46296236552015129773 -0.23118993444345942168 -0.45737236718310769756 0.26994454661352201841 1.0029738474971130469 0.88955889099626950234 1.0948565093406927851 0.90560081941692660568 0.14253814349541016337;-0.99463091198201647458 -0.11404038734058077886 0.945906694685166749 0.47823403518656976141 0.83591763697607912587 -0.56087039473118804889 -0.33376496508387309969 -0.094686729900688604289 0.57374193164318365579];

% Layer 2
b2 = [1.5316355684576876683;1.3301957039001404137;-0.79261484161716877495;-0.62591956811134608074;0.14678193782264448153;0.5446893159100313353;0.55394070395581174182;0.8830525183322510685;-1.2316068091281036079;1.5655749412118211694];
LW2_1 = [-0.2924592668692663211 0.65072477016130647609 0.039634707305370366071 -0.21850521664784922082 -0.7260679215732289693 -0.21316562736190666771 0.12106440732036691244 -0.19608030669277512481 -0.36983183121579876751 -0.22163091538213908205 0.061657585491155103563 -1.0011717350833002627 -0.22067299796940778589 0.30042821482609671779 0.040318728715288451592 -0.42889626662345359254 0.34213800483897660598 0.55855017699453324287 -0.59921007849416185742 -0.40361503004767301794;-0.063212210396559276315 -0.32498298352139082246 0.45173474429082038917 -0.22332961737529738455 -0.02893038879298667071 0.5052812508638537814 -0.23589224242768702666 0.55443512680403295168 -0.35741320459603120874 0.26022813311724535268 -0.35656045262516344874 -0.20350033531114750107 0.33543359965752828078 -0.16327102924355804681 -0.14320716365685265403 -0.17341252738817639067 -0.098476623934680762584 -0.19023681519288621056 -0.16062925098133049029 -0.65266602580579757831;0.19819679970704651151 -0.56776131695662590548 -0.48282806180402160212 -0.3633604319795559201 0.086236724115123591927 0.29267400684053496152 -0.62062791686022367177 0.38405319541167781683 0.015683462289768902026 0.28469534009654151596 0.29621354257238807772 0.43269986751413846982 0.62646843678910180131 0.32933977213276699469 -0.23265711112300474506 -0.52195335585695479264 0.30819138002106394314 -0.36612305589879323708 0.31891891098606706123 -0.37668801875162910564;0.14334627060304158674 -0.32269132812684292455 0.56092778110812469006 -0.4257752520708694699 -0.54802754128590425164 -0.72630770762761831527 -0.23863943669166365336 -0.34407045118041279519 -0.48512529546703564431 0.25284123400474334264 -0.10503914124036900501 -0.39566738102883519668 -0.29033803653477985307 -0.49107300570079975843 0.15154924389079879599 -0.33971554024367234259 0.013075995915079574594 0.36834696904315733512 -0.36992541002457857147 0.36176374003925659828;-0.12803499600061488128 -0.1504933674012708944 0.45692092558711211447 0.25680847905402320874 -0.18429677657302681593 0.39506956149675093171 -0.17208907203283368981 -0.65229324218661921542 0.40581931639179658067 0.50544836148163629908 -0.46291967522112831279 -0.13550973076465760991 -0.084683625797271802615 -0.42362785295818500275 -0.10310199043112140693 0.1403547153552099358 -0.11900959093170120073 0.35825463803694418408 -0.23383353072051749066 -0.11696780011981221248;0.067435257051398397876 0.076949913923539225991 -0.24941763171588862691 0.60144306829290761218 -0.041199172934386421585 0.17673581326519482992 0.20469067214157016243 -0.064015026414610612382 -0.43277654737963722198 -0.06725340247174188546 0.75420737103838619841 0.74295015576793344003 -0.045350806469364297879 -0.15550807429098334467 -0.012615190928500828391 0.10537432483019781859 0.4756373618270414716 -0.29730761110578851625 -0.36259423288384756701 -0.46177569123816358809;0.28178342594783645225 -0.11229210184657779925 0.60096917317957143645 0.56080935934193132386 0.48894595570345128488 0.32903115018853867912 -0.20247664195053849401 -0.25849044665063436454 0.37687551806873587079 0.13108194361378669446 0.44799165030737408966 0.082647424898985452635 -0.53315746721756807069 -0.14948826933199560463 -0.2182401709142548496 0.31150757798074973914 -0.35455442614696708326 -0.13073620986598144533 0.26016927107435722233 -0.45837021422147189442;0.017002670649492710592 0.19592362308959956896 0.2891572094914622304 0.1099704762244251427 0.24021101563510097177 0.22216345657336697417 0.26969348587397501404 0.22195972525181523194 -0.98660187041478741854 0.36677025016588143957 0.31511054377325975473 0.1179231748455896317 0.85692841726649826573 -0.49860332531933176936 -0.068854851937902736281 -0.30072167445026615207 0.0034183032499370243421 0.26686582965046196092 -0.25076270525138899536 -0.43321393609596520191;-0.46034836378433507953 -0.36431957209228499339 -0.53161518824787368231 0.21430099548439554558 0.3861884236637211365 -0.66523141085855064247 0.28866687604588581184 -0.42188165058054261092 -0.36220974777583320181 -0.044475188206734475593 0.57987430851713506197 -0.41473185288890251909 0.10999667160945356126 0.10045285808524469229 0.59985744761343007259 0.10852361052069370295 -0.27924762347205434043 -0.0031723578960608641783 -0.080082241120728384076 0.33728905156966171308;0.14683539226344935469 -0.21982517431903339511 0.47182756508187528866 0.4263257174782261183 -0.43979443714911781171 -0.048087123955254135188 0.42925920981546927813 -0.17355432625291106197 0.25678930268239080759 -0.34204624268147770794 -0.37151448931751968052 -0.19146378737644081935 -0.15759263017477673219 0.16651694906689851194 0.46850341944835782737 -0.36866419924724869173 -0.40184932520944494083 0.457638602198817801 -0.39681627328358592965 0.050787209494198862214];

% Layer 3
b3 = [-1.8628533501435984299;1.668223080691272342;1.4154085863400416301;1.2866259841249414464;-1.3086719156364077232;1.0091007624276038257;0.63955707939998396316;-0.53279345939196720572;-0.17214172116769396736;-0.00015919009043651463978;-0.062770639093008284704;-0.33358809896159985486;-0.37724403003253226263;-0.7522671734260226728;0.94723063023093900803;0.92450515716048520254;1.3350596038140338795;1.4623697910310584636;-1.7177280201650797498;1.8883405168788827133];
LW3_2 = [0.83326140938363779664 -0.6729020594355504814 -0.61030700231657186716 0.1057801456200707646 -0.101554955394476773 0.55683770741733729093 0.78594360432800325356 0.68065395023273334019 -0.39289628789379898999 0.033192902370223507924;-0.63156814580360143285 0.35993875673848396701 -0.50347928674471142951 0.57037808815925006289 0.72890591882034716509 -0.92086374950571492359 0.57632405785536899856 -0.39915394814164140147 -0.27495511210414658176 0.78057120976195948359;-0.66183275102288530167 0.66950362140861763294 0.65851587634416230976 -0.7125739129544140793 -0.63715010346819800358 -0.78458532085983179183 -0.0085766269011684943824 -0.82808222444788692762 0.090569884878729411959 0.23689861911523066307;-0.79856107603293635666 0.37919036931879773755 -0.17964545793401598406 -0.03001305338484995533 0.28398378635143378679 -1.1516688346391117381 0.1807255185845940415 0.53386063475832079561 -0.65063026033818016636 0.76978581562880987743;0.0019974539621506384041 0.301631815859427721 0.27228296243373051322 1.0094303515069671384 -0.059957768545411682659 -0.83470717017728879306 0.84721723322756570251 -0.33723000984757023346 -0.15167622219215878832 -0.6740037202058959398;0.2455286053794090706 -0.85641793451141234872 0.51343802983940456386 0.6025484996382028946 0.60713418031273302944 0.86698690570091352381 -0.62281861613204048123 -0.50491917550020326555 0.12952968426085906262 0.63457091406561516589;-0.3686911173562365529 -0.27718273736929360807 0.84210137022241748905 0.56988663858984234256 -0.52206730374658760763 -0.56792130310927857462 0.60450063551223387481 -0.27680381854734376068 -0.59071672882228687396 -0.95815981450265752528;0.94082520306705330615 0.0089432903539372211182 -0.58072180517078697548 0.71959854704579484519 0.87227604735923558454 -0.42599426501997650352 -0.72425160508274089022 -0.17976849019504037575 0.33975832001264349991 -0.10169049495140568273;0.28420542141675597669 0.22769004671331963263 -1.0592955096991716335 -0.42782051096436596316 0.075831872092541510733 0.69429800582028999845 -0.181507797403968274 0.32665071296755732178 -1.1860447980491026776 -0.41260800414980502993;0.85872225221970932552 -0.68327086230831624025 0.52302780352207522974 0.56502858592254234793 0.00022206071127797363807 0.64479240888889521877 -0.65698056236047974732 0.65857665586860492102 -0.69255306559850338122 -0.30340646942956794874;-1.1432617274049707845 0.17748890556638630134 -0.044847122312668331878 -0.52438065097936648051 0.73798605220356683354 -0.5563030496943742742 -0.54445776747165497422 0.27908092378093818375 0.14780284177029215376 0.98766569476630394764;-0.39579771397162671898 -0.018737641282705438245 -0.18840645631394464798 -0.54253824661007521435 -0.68420398984971886325 0.41003366288968212672 -0.56588705480061873843 0.79046684113261167504 0.93251691354028931613 -0.92098787930216030606;-0.026937796207126041975 0.32312342446549308095 -0.47721705822540677611 0.080920455346185457546 -0.70743179273450695899 0.53713655443657049027 0.78355096710449767539 -0.58838145107390982247 0.10757887164012761017 0.96171601005377194138;-0.24202964778365940179 0.8715585033625188327 0.56141723831022649627 -1.1566891845771662961 -0.13541417766951094337 -0.11684627901184216348 -0.66133277961935466038 0.33006534588087460547 -0.17976785453508234425 -0.32785628055189464103;0.08660211979765962409 -0.11100937945744465685 0.54965671440908503431 -0.78759297084479062967 0.84876046304954178012 0.76363192837568150129 0.96097544326028949691 -0.22490929583661076196 -0.54550778363460772358 0.10126597466178723084;0.6829427732315924704 -0.095341567339243232793 0.064665691622288024032 -0.62968991328565315779 -0.22549383102542844282 -1.3245037761323268377 0.041740484577353888229 -0.22993887583684749498 0.43808266172157644958 -0.01250864697743009693;0.91853192795615834498 0.063061333591856116865 0.55549536557129364223 -0.29076898208075174779 -0.21163307260631517015 0.33839490343788031224 0.026809262371986032625 -0.72896766132365453661 -0.35361384209075769069 -1.102252163271264962;0.48847881225256900573 0.81052738572628035829 0.30723493297957371606 -0.33507091132396371602 0.077824458128065820972 -0.71092036386673740367 -0.87165166019436723932 0.7012233208333309431 0.48383049794635224483 0.15888512036123406124;-0.11402141240998400762 -0.070567075494738604191 -0.77526884158259756763 0.57649481955817627465 0.40745034630605958537 0.91488820030035455932 0.17179597173184005254 -0.46966225141259498876 0.53691069134608249147 1.0562830783188910111;0.24025920941182052348 0.26208094916054103241 0.12661803548269856545 -0.65717113909263480398 0.75055503270778178848 -0.68238932979099375942 0.60004479251037079468 0.74565054269504138507 0.68372648413451397875 0.77296264341264631081];

% Layer 4
b4 = [-1.0533347675582951375;-0.21249190593241729097];
LW4_3 = [0.20946740234020225224 0.47954971032880067128 0.48189603805031455686 0.082788707390886673299 -0.6674859074537347059 0.14599333008297382674 0.12878426345249344154 0.56171348378073526764 -0.96677524302262374256 -0.506148809258544774 -0.011018985080000001653 0.3307458792838263717 0.7773424207440420286 -0.077515454310075448952 0.44511048115572116046 -0.8802733849171446856 -0.024937847720500460474 -0.1428346797086979536 0.39532835548739780895 0.2210597002449154469;0.52209988679060315153 -0.25752006914208452892 -0.90928771743929270865 -0.178414725462145346 -0.10225302803154365239 -0.68769563662376020918 0.37809162694404319094 0.36492075461685785642 -0.5204551909097657747 -0.62453574461786565131 -0.74150107341104110059 -0.18027213989088974877 0.36082020387177055065 -0.46682121997543951641 0.78411811533540431984 -0.68144559543673466351 0.090343335283413331305 -0.0021486331570715333505 -0.082679006983138597642 0.7753904085970028115];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1];
y1_step1.xoffset = [-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
