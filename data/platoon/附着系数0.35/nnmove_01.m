function [Y,Xf,Af] = nnmove_01(X,~,~)
%NNMOVE_01 neural network simulation function.
%
% Auto-generated by MATLAB, 09-Jan-2025 19:22:23.
% 
% [Y] = nnmove_01(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-0.198139860254253;-0.635535327466409;-0.713744249097281;-0.541134705050822;-0.802810697761934;-0.36791583093951;-0.774723998812457;-0.468837132780272;-1];
x1_step2.gain = [1.68773578306229;3.71266317394097;1.37164310107008;1.80069155439236;2.02670862156606;2.26001329157105;1.45391082883781;4.03084713634012;1.25603114639027];
x1_step2.ymin = -1;

% Layer 1
b1 = [2.2949337392702875427;-1.7939873250509805747;1.8259751062196987181;0.8341889844816101629;-1.184479871720639288;0.65795057503013654188;0.79907756420443165624;0.47431884800332962948;-0.56990066611108802785;0.0025449731071727557663;-0.4014379519421408804;-0.69419814470241436588;0.62210530057014978844;-0.3987948171869377112;0.79448600330989582741;0.85011671539874011927;0.91713644372661484727;1.5861619138395988138;-1.5917302945802533909;-1.256378279576676027];
IW1_1 = [-0.83916457887690865114 -0.42197263805225182498 0.37139115665653132936 0.40725648988223306368 -0.72675174650366214379 0.52290758974020901118 -0.66776629045777524674 -0.81341751198482725727 0.5318182719537177805;1.146305401596414919 1.1357326242338035005 0.32714134418000850868 -0.39594894685504761211 0.72077441124414665108 -0.2094767646718423415 0.91393211581273281485 -0.46470189744337031534 -0.60402804208353366722;-0.51015411507695962445 0.65574747865697247118 -0.07655726720564512422 -0.96565849464064124064 0.89226586803149721128 0.98719428026938604859 -0.049934199391135393464 -0.0043088799515650826402 -0.32300683044802830368;-0.78854271719530466545 0.94680907157611449154 -0.21909158129333905496 0.32963657185968053831 -0.61139820054730575905 -0.28293967468355202266 0.27304964829307504237 -0.67933113174922843402 0.22201772960568827431;0.53633222384832635043 -0.50143335813981371185 -0.75317495845851512026 -1.13707092965078993 -0.93479566693646243269 -0.26415106497496187998 -0.50775102518766279669 0.71988764723941323087 -0.38232786794821116416;-1.3522353755276035336 -0.40061180952796254795 -0.39226460316864053546 -0.054286585591204285228 -0.59112196378176118383 0.12803044696106283262 0.68315862802509552676 0.99338704814907896612 -0.19103212441532760324;-0.82009378748002337289 0.46433486254356493017 -1.367883366548324986 0.16484637008404856573 0.045532567388665554087 1.3096226613403245675 -0.42593979272897442012 0.1072816962021141407 -0.13978273787761225089;-0.60925889293351798148 -0.79288800695443706346 -0.8657531810294222252 0.26631806483007652853 -0.70537572087796840403 0.087558954869447591651 0.47058499734854086771 -0.8144341895792759356 0.92448391941883856227;0.32704217626146964149 -0.05256518186190298203 0.51744335240810490628 0.28092534004934582859 -0.97708016737762748427 0.86050584796185058956 -0.4421205383379501197 0.57262994645618503498 0.88645354942423826294;0.59574267264450175841 0.17669312833140238261 0.86665843282587684548 -0.56262617182020435713 -0.45374413557829051946 1.4382677573312621089 0.76002752209001800399 -0.15907801420263759096 -1.3767758342532372406;-0.37958226707869785477 -0.41280331588197077819 0.59035730739815861501 0.31136445734373485728 -1.0087963426723751681 1.0961205750747100574 0.2357606478154568308 -0.79369893755931641977 0.60687414104241876878;0.065615437117793801169 -0.72281234656873094568 -0.16528599449500047669 -0.23005885578146262338 -0.66009300542977711324 -0.75532897284618538691 0.76140347152917431384 0.97050252558529959135 -0.7760274135111796534;0.48919201134801382214 0.90538974079783218762 0.97226295012211083613 -0.91477875809423569997 -0.24588150515814005681 0.35029585469397911401 0.29071211883129521869 -0.8243141238149217509 0.26375473041414965181;-0.98645120345613257484 -0.29741279142475829378 -0.047791455508197591695 0.28705802388752338361 -0.68562876260969574105 -0.0022508217075241092504 -0.74016358629077649844 0.53385410461710924857 -0.59100439044506947184;0.66920365198661102557 0.50365865670367016005 0.56625059523110876647 1.1302633495727194557 -0.059880995043352786 0.61139203061703106812 -0.1627222253560280385 -0.44728510156796830177 -0.72772955743678369167;0.82700308801941591064 -0.94809089630163445594 -0.69779532895921159152 -0.22907433173359292855 0.34123170794479562584 0.19919113372637961556 0.12843203635362934745 1.0091694386200427136 -0.38810025888337129629;0.88405702926051965562 -0.60897507843944587158 0.91654093277898907033 -1.785073472913008219 0.29688200845179157916 -0.62785239448574081678 -0.094242135977234769983 -0.0071823991062812345826 0.2131598070333100281;0.12565768944990157729 0.37952822433501054444 1.6206125438148466511 -0.42750883892991731194 -0.077236054099142220641 -0.6589656103225984829 1.1388840718386257223 -0.1934422635956501435 -0.28389184921759808011;0.15974052234501986969 -1.1782240174689528889 -0.18660787058307778952 -0.57210794579947821248 0.68859254808000125436 0.51643633309856984415 1.2456845909835676522 -1.4262530729568601018 0.8167581006675890265;-0.98679782733573917497 -0.53616712497788243663 0.10988968237489300794 0.59832064259881989621 1.09760341089848934 -0.76213453925522967047 1.516224225265513148 0.8126300932156950152 0.089096266308743968243];

% Layer 2
b2 = [1.5444988652744604529;-1.3113513673107592972;0.6684924352784422652;0.65254653043631671849;-0.048197252424724001951;0.35157647155262022887;-0.52610533321941477247;1.0582087868928615748;-1.2409004693974929889;-1.6166648729334602841];
LW2_1 = [-0.6099488077614111381 -0.33509190875628597217 -0.23382274225958427083 -0.15066850427518235778 -0.046326518027274173062 -0.037286666641286464463 0.13760888073904603557 -0.81111162086850718822 -0.38301561077067231009 -0.16163630254616179194 0.01230371979937798857 0.26979303516539904217 0.49057155515806172286 0.18710766525938404836 0.13836860635116171592 -0.17797775219505454491 0.6937742048762199909 -0.56995251251266776382 -0.86790412936771033081 0.25249151109148898486;-0.033879591033451603166 0.011745443435552551867 -0.25714619722777370958 -0.58481322602880636552 0.86488190800589481722 0.18670536669247531081 0.11653097098625019024 0.32234797315665375539 0.21100496632263318619 0.39228365219529559571 -0.72696760374106095259 0.16142991932403805144 -0.050704768488746762567 -0.04374687906634074086 -0.88080373781087206719 0.040929014686512776855 0.16911940316217885516 0.176508995099445537 0.7714056727778936251 0.28299495532985280422;-0.66218281562431224874 0.29311388654916920027 -0.018534473365995476207 -0.20200660764136385561 0.38507130688242974248 0.82168793760483826993 -0.063520406690138628281 -0.33984599975165968866 -0.11917409431288920885 0.2466228509107178668 -0.66721178630859323544 0.83488398547921172099 -0.25807518014608565871 -0.2631578917618876412 0.73141389580000648607 -0.46397279979603373024 0.39585191163131888681 0.57576740080568278302 -0.010150551052176982197 -0.29526046562971736131;-0.33744450751133914235 0.29728658428480475573 0.65220419424541176134 0.0063596828145613057415 -0.48133800612356703041 0.92617863597000571474 0.072225323155374221429 0.069919932902109377393 0.16654067872773514747 1.3642307248915905848 0.42295797965307824207 0.092182509757406716489 0.069118660987178032196 0.21171351335574650765 -0.1197017660405126499 -0.37031210992333107868 -0.39641385262208594931 0.26504992628585921643 -0.2125908334707616032 -0.2620351643731236857;0.21534221829447749985 0.88262224737156724785 0.7954838402947221887 0.52260666262101718171 0.35494780939137776654 -0.17077813902572694382 0.56583911906009531911 0.68914470875247435533 0.54910862828250051049 -0.63969986971292813749 -0.081784500904463847126 0.082501372310219991957 0.27616721354324180737 0.08597322930268561092 0.12397302339579138741 -0.17699797602029920807 0.47262131985305244619 -0.32108969521471875108 -0.9258059349031819707 0.84790417099548409663;0.53628111040089931905 -0.24230908814330956447 0.33009342152136905701 0.76593849864713137165 0.44278659815646770337 0.1487385364869110993 -0.5027259112565114485 -0.14054611044725018321 -0.018907234294446684242 -0.053186648652643178647 0.091847987860113555758 -0.43318867145914097261 0.10431068943933449744 1.1657480073189825376 -0.17955538221611525018 -0.52757340880694747476 -0.12871409422728977145 0.38610804892059324978 0.64164973275139125519 0.07006810581777084268;-0.36206112237289089784 -0.64091612471998249401 -0.41264838420249588813 -0.21532684111911939984 0.043934477828083781659 0.49051604258610226328 0.96813721815764752776 0.065216845424117902974 -0.26807667419921304974 0.10540706440526352583 -0.12980254703168769836 0.23337478560843138986 0.036731854911789610374 -0.46947539209790273285 -0.17659659561179530396 -0.41155359446508626986 0.051690154121457429492 0.57838905367140647229 0.35531561483468010465 0.17921224794708778827;0.59430921810380321624 0.12332768062425641942 -0.33650971145517016847 0.35254542402389543732 -0.54630012153562457211 0.49844036129894636611 0.35034217128731337532 0.24918142566834719509 -0.33308932484605091595 -0.16643671896581851977 -0.34577913890131484198 0.15960049113983867941 0.25215101923325755617 -0.42308078801773552069 -0.3052130392842962725 0.45150620880251379763 0.62418532339077636983 0.31616526305698561261 -0.6848151095601285876 0.048663032456789850899;-0.43609950228398230987 0.62709423554773258136 0.29316932631935677112 -0.16581592402466346914 -0.2523169028512560752 -0.83429427754604257306 -0.72100398735762183389 0.49645282070681767683 0.081320572773158086854 0.43824001413254032311 -0.6897083209416108307 0.51285951020787923227 0.033388938442157373165 0.43011275620146233178 0.27756401838556027384 0.25803704561596779721 0.22601625201950226174 -0.28093546383380629816 -0.39563951850636747132 0.54563888035845176105;-0.58340993649552419509 0.22907088659830995847 0.1885855298929155488 0.11991505191066843816 0.87123244941311561718 0.25778776184618246159 -0.33191167297443718853 0.26754056440790568994 -0.29119904969410181916 0.45104385178167910597 -0.5217659133453781406 0.66060458115068432239 -0.036850489162100812102 -0.64636391415046223763 0.2056195026200842435 -0.29120793422920543403 -0.19175715524021991198 -0.43304776033796638091 -0.2588707223965684423 0.25811828993002361443];

% Layer 3
b3 = [-1.9055184918168621699;-1.5689628659473775496;1.5720626228468672636;1.0976043292223869319;-1.0307229424634596349;1.0394252033795645662;0.71711080219773837285;0.39948602707439556658;0.51124496693788124002;0.071885524614125853593;-0.11157873693907642554;0.13585223164911650051;-0.45198976974625121317;-0.61599480736859202334;-0.96085005227279507434;-1.2122817085490107392;-1.407552094876584059;1.5384568786970744814;1.542965241961375078;1.7927435623707794754];
LW3_2 = [0.82470389768314256163 0.357633250644621703 -0.12541311932636828308 -0.86484731814839899133 0.26807999040510471778 -0.64810466872542726868 -1.1535539400613337158 0.59698471666664154611 0.82488828705296712851 -0.66090047976476451463;0.45491028789148552081 0.83393244671042277005 1.3940819984053343106 -0.14318862954734831727 -0.75268647855870662866 -0.24227052650908376119 0.44460184992490814349 0.26502775883095941456 -0.0013297368800314242343 0.84551723992370908523;-0.14573284053421156625 -0.51804899403002835356 -0.80063531982123636865 -0.45424879445664156918 0.11680704459605548151 -0.44941430929925962889 1.2449327970481958161 0.96261426331571497972 0.13324424272237073152 -0.22266510929848098987;-0.23082428411870334339 0.82704395162130506236 -0.88504430628429231476 -0.62192084180200135624 0.59997773947719146292 -0.19721096800975623786 0.75298259760105124005 -0.83351541851066579536 0.67893220048720093196 0.17232563394569080928;1.0533132790629720077 0.36741460750787691136 0.25924770082495157686 0.12196595862916431718 0.57561698804742145175 -1.0381594854635496361 -0.15363562556684579041 -0.35104869006176814272 1.1120939255631083764 -0.63108786053977394825;-0.37419901723520104797 0.28477622379190092872 0.17870895086714644329 -0.18284492401313645615 -0.30427454687936422717 -0.33166129954534873114 -0.78518353443023136684 -0.58270053081648209847 0.60991841785943123888 -1.2962562029108755102;-0.42832075970049687808 -0.88408129114112410374 0.51293446779251339329 -0.68737089026224418298 0.038045699322854953373 0.82738595713692242306 0.21185428380462861808 0.91073208624942481038 0.42981739738683011343 -0.534618093372974168;-0.30071788276415484242 -0.68065175765743313185 0.46903728826887564063 -1.0119925247585765948 -0.38011703537161706246 0.55159108922668631525 -0.24181814057298756104 0.60727092263071891232 0.24028484088277654585 -0.71601765226865388136;-0.31041630558878646751 -0.46178137590650963906 0.91162545835080222023 1.1078248665419165864 0.93053811946533104837 -0.81842502272799066976 -0.31341691451194925166 0.23981935217563185581 0.22189441508022805793 0.28392126273068329922;-0.47077982248541322408 -0.77802951379995921588 0.80806287530416986975 0.95668758145482413191 0.64448254591387066359 0.40100478056840505037 -0.23887550672970739307 -0.19865730701915632062 0.50852673284616822791 -0.68364711790877696895;-1.1195157760922813672 0.13077643367180522005 0.66041307475083244061 -0.044566736192142200612 -0.23787375280562625401 0.85928456926069807231 -0.35394899692806269798 1.0983706854496486649 -0.35853279454013997629 0.059872574435472024346;-0.18950283823698343966 1.019390415760375479 -0.48251814317225805162 0.48635442701687703337 0.34827324168925899439 0.82425094984758906502 0.86731703726343745142 -0.52475237352608083974 -0.83730184147380726234 0.28515272050114742752;-0.0060199101415620639988 -0.023631936575318552435 0.31523705910561322652 0.36355264151828475816 0.87642318429779197952 0.21451906465850570371 0.82302074959011262134 1.0961530798777514573 -0.74372830920044985525 0.12187274303955682175;-1.6107691705069491217 0.0094680204294725865688 0.38791585881052165208 -0.19658483768436488259 -0.55069901846099877929 0.17800767248565174672 0.81704133837757531023 -0.46883185266541838043 -1.1665402136692917257 -0.3838909343031908783;-0.64203352692374282551 -0.81848395989814404228 0.14474679683880140035 0.5171420945210591924 -0.95495043309260330133 -0.075367589158636352775 0.075559722056320832717 0.47177488211491558356 0.030751719500680497338 -0.57410751738224430341;-0.13391073544098658354 0.78601150762010885131 0.46330414591630142418 0.95485721849781513004 -0.25223028056797053287 -0.18459455631119975338 -1.0763728620635488742 -0.45409334833799530617 -0.85868029123329558949 -0.5018839278753383093;-0.4096512047703220194 0.80929260813722714296 0.41285033942439725019 -0.60963395830464761627 -0.31034027217761450679 -0.89311570089284320062 0.9750101216852248287 0.077096400166268730381 0.072323741633144769669 -0.42974803342734801959;1.0072538013189131778 0.93295093406269613556 -0.90619502014391095646 -0.4382665809466130824 1.0848590008023619724 -0.18021367936070786797 -0.42264418377060447574 -0.040089001522999295757 0.45399183792272068683 -0.58748568366500442117;0.79939313132683575969 -0.54112829951390539751 -0.66578441437321833618 -0.0020747000596595399635 -1.022982874512460949 -0.76980012105817241519 0.89104355936658330428 -0.9037303038767977581 0.2536553157687484461 -0.27608744185969669171;0.2968531275165933736 -0.36810252307528479321 0.30471799880145328254 0.71105641941613118018 -0.93477170018337363278 -1.0487685129375288184 -0.81086872916462637839 -0.56446294481426684264 0.49872922753694254316 0.86267865963827339293];

% Layer 4
b4 = [0.090873922092333803135;-0.39167692154290162376];
LW4_3 = [0.95585800316254976305 -0.28028662700185619228 0.61820966998103477064 0.22380296986129655235 -0.43531626128725187108 -0.74247906235600846792 0.52776254540805567217 -0.94771120093947691654 -0.66461748144475718547 1.0731587632362766804 0.33047732377719607477 0.31354744140133955499 0.15979077654431075861 -0.63201936292088045644 0.030226532966684142856 0.037950815167224302704 -0.044539921319955703971 -0.94172156361727399343 -0.63809041795328091951 -0.03798272907269978349;-0.78046996948366720304 -0.83303446183070073428 0.45050380254337063501 0.13309281952319229614 -0.72560476037061094612 -0.47712505842016994517 -0.88427173185165219849 -0.70685255867426100007 -0.16307349663312514787 -0.83489113418504867781 0.87413774041472824816 -1.0058378846613327262 -1.1049222838475618591 -1.1561533753606518804 0.37932132188907308201 1.2255466526593701282 0.35094909638529175888 0.41768474511927539128 0.8885815610954355126 -1.1369478758935671614];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1.00000000000364;1.00000003786683];
y1_step1.xoffset = [-0.999999999999993;-0.999999948368916];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
