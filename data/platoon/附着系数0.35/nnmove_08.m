function [Y,Xf,Af] = nnmove_08(X,~,~)
%NNMOVE_08 neural network simulation function.
%
% Auto-generated by MATLAB, 09-Jan-2025 19:22:36.
% 
% [Y] = nnmove_08(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-1;-1;-1;-1;-1;-1;-1;-1;-1];
x1_step2.gain = [1;1;1;1;1;1;1;1;1];
x1_step2.ymin = -1;

% Layer 1
b1 = [-1.7142439256908363898;1.5084671358232168981;-1.6829061830428309054;1.231997141598892842;-1.2084264427473527803;-1.1018337627470253803;-0.44501955141028148866;-0.30648558867370367942;0.31137524796358323487;-0.35629376680712981917;0.053113775164285080554;0.16066929459718032325;-0.78912389840289720588;0.72362317290391586777;-0.89747627205623670132;-1.0374574880695073276;1.6029917313408439394;-1.4540829613538599485;-1.9077727920963383212;-2.0326280522501876113];
IW1_1 = [0.4659747079479525933 -0.86158867688014673103 -0.15463898189255631532 -0.11830762348745571533 0.48240400977078845557 -0.9670254835784722891 0.89340481496124191096 0.86558047545607452733 -0.56277546826725799445;-0.006835613788307477387 0.013218336798997750575 0.4603947122611994347 -1.1329785931023039769 -1.024495499922092101 0.044035134141167747712 -0.40254502356421517639 1.1657224449380543252 -0.27344235610851513885;0.096506245676610868944 0.37603226500843361935 0.6794484460353121813 -0.1991662174137341923 -1.3549941280373016816 -0.41914104262369350495 -0.29948684241299028397 0.66547180695693497476 0.030172022506692687538;-0.88033706967315794589 0.061437621388911310694 -1.1645820553353252169 -0.76421737876823692126 -0.25573060712909817527 0.90636127059852522603 0.24979604259908438912 -0.38179014292141655318 -0.4779216147411851634;0.28446535721019367005 -1.0333141746766083546 0.93726032486905119789 0.44905893297939653008 -0.051700056265281471579 -1.0512256026090160965 -0.14627552902393878287 0.033296626264402703899 0.57635072083152405487;0.47639496782544049625 0.97817725874301686417 -0.4748371061144265326 0.19580044476787303309 0.3510774770374091025 0.44298721042008620818 0.94473916125659296306 -0.033148079754743042802 -1.149126199477598087;1.3734203283656267747 -0.52210090975735390373 0.76098228683409996354 0.21670298832914014486 0.7500028835643099967 0.54760395692285290803 -0.58588027389523711363 -0.38934364923317194007 -0.04358065444126847654;0.46487306004036765827 -0.031687447902861459736 1.1335783073816376731 0.35313751612618787812 -1.1329890900870152048 -0.37212854614663798403 -0.84841265942182875204 0.49903648521848142927 0.083743620592574508077;-0.86880907256496009428 -0.74405248175272209465 0.56121116100544810035 -0.88661329079385597929 -0.67641774568767698561 -0.083273935519318165177 0.62045112634256061046 0.6513443604342090687 0.13993072614291804379;1.2778489357065625498 0.21277961198233985574 0.0586209921655476765 -0.73128898495399119462 -0.52109172059545649791 -0.23606858901119429084 -0.66595110299754656236 -0.50777702580734151994 0.71178640772199375242;0.72911161987554518049 -0.13848512890197567371 -0.92604890594208122412 -0.72353779670829798665 0.14388668016205030664 -0.54764358977414262508 0.20550018439021547345 0.9219611520657816639 -0.63348748137781496492;0.7774036621417269588 0.69520932064813789619 0.84202051234213892705 -0.76504712543554487247 0.23149318226742329752 -0.060127665707390337557 -0.46443637449386976357 -0.67673197395319140135 -0.93149686297075895425;-0.47691632460103716706 0.21421144298415781271 -1.1904957016980348694 -0.44930463550146410023 -0.38349116650746384316 0.17589228586550331723 0.81189998323981726891 0.56995953943813359999 1.0193332277383111428;-0.16733080896631197243 -0.88706497697505570788 1.0054257327335638372 0.10643759243227021716 1.2276402826646313216 0.25653023193704871385 0.034498207686236369296 0.48322141773547983012 -0.53066781439459131953;-0.54348489179357695189 0.046691687063273465408 -1.3458310606739183335 -0.8326723552264775341 0.21717055889337602559 0.91241195672612607215 0.42308213323674354056 -0.051689725881448544964 -0.36244520715244921139;-0.81898901802029244745 0.67507361825832701285 0.71061607424388184562 0.48041556225083986709 -0.42941818781620344492 -0.37856763545409449767 -0.71424304467589749823 -0.46357583863619233888 0.713806651258799163;0.62571163715416810991 0.39907732260507189359 0.76828066544139383964 0.16733533945895903705 -1.1606988796076274095 -0.18176432080740462238 -0.63899341809146936733 0.46324603924803586796 0.43960154868888590141;-0.91934258405516777746 0.061169587195270096192 -0.82586983361411947513 0.99599402456005869944 -0.71863780205515370714 -0.50212412343044610097 -0.39117441290215171357 -0.15822469634690611295 0.53508608361851561774;-0.92174857618914207702 -0.60654791761381576798 0.33648869510319423526 -0.46998124051632378384 -0.56395253326814731576 -0.40060966230805067356 0.96691586907093240999 -0.13525109485672848209 -0.73003493645966566206;-0.55496644987468812804 -0.020440118028353288643 -0.95207325766097294917 -0.7031612149937500611 -0.9229919320302101271 -1.0413866193347622868 -0.082602895900264039497 0.095154491014114161995 -0.028958437882714769401];

% Layer 2
b2 = [1.5976114327255956926;-1.1489407067459209699;0.82663213355139142369;-0.62058585881145311713;0.098228224181479750765;-0.21997462052102007002;-0.59417351505209381468;0.84023818261915950156;1.275548378734519428;1.5879037284499948335];
LW2_1 = [-0.27311492064556874837 -0.093312202422132201063 -0.45927761235437797316 0.59589505631828199039 -0.31163029890465460126 -0.11745393219618140146 -0.53550558379487123162 -0.18463367999012411658 0.27243892400222891048 0.098675510230838286985 -0.28131727756882940472 -0.57079613570516218868 -0.039396538944526389436 -0.57318912572190738874 0.27415697252240600612 0.31465633140210891305 0.5531324882852717284 0.070767759770057281354 0.10164452290495437636 -0.39590623665094248906;0.51076289216336978605 -0.39056636489521728839 -0.59192277398252912679 0.14884786626040227842 -0.15303140880797955203 0.26935735934987298235 0.4081565079108093741 -0.10758422169480499897 0.32711781159861735846 0.28783591162042798661 0.098376790902148569806 0.19043105956891867581 -0.27348350018886191659 -0.13215396726104819414 0.14462037385067599837 -0.50180977494236245207 0.060069536124135625155 -0.74123418714950761732 -0.154069117451027221 -0.0002303552172327402725;-0.44827518741196104024 0.15471071662602411956 0.6157954078365470707 0.01678439942701115406 -0.077251249792912521364 -0.40559488245790642491 -0.1390500507548122211 -0.24377935536070238776 -0.41946030345559898178 -0.3420599653925546213 -0.42128444214726579187 0.52646371603713959519 -0.42940094511401716293 0.5506337567389498755 -0.18339899691295249995 -0.41783142893253888417 -0.30743418918972609255 -0.043886261830025113939 -0.026758494702656971526 0.1612685776169403562;0.48705900075058999876 0.48673540374911011819 0.25352055406815920957 0.48876135871142445399 0.60588870775048986328 0.40476189851990101998 0.39405580221046110356 0.32510766097892201953 0.095767333964736509055 0.2099505139832895384 0.084827354373785385233 0.63064695009348803456 0.40719821021120605753 -0.049631356132575375761 0.066979312601503762648 0.035259165500917302727 -0.55637030165978096363 -0.11782983243381786598 -0.1077999959758440679 -0.1172758070244033779;-0.46854659309716589766 0.27625004403986830326 0.50579617497249895752 0.46158942340868436283 -0.26615497304626956065 0.19947348561571248693 -0.68997704196235121188 -0.14901074213824083703 0.33436644304137425054 -0.14486504374328559863 -0.12828969049530153379 -0.048773360440269850069 -0.048648676851312036562 -0.37584019627126213914 -0.061472637418210920868 0.47628780722684188609 -0.27742992206168692881 0.20500679075062075429 0.082099236735363956274 -0.3993048774746704721;0.012706939817820443739 0.43656273501653541924 -0.32488942916990548593 0.60707828441717293089 0.55528540798275549673 -0.2355471613028192468 0.33261272467307984035 0.17015948154700000217 -0.097040830585457024671 -0.096765890487595970781 -0.2677484737449349339 -0.55785916725024331519 -0.43673162283090360969 0.16303692407572956125 -0.25291979098444228313 0.083956353836009897651 0.64320923853374001311 -0.22136151593651939851 -0.010510726123933743226 0.31505035864171088145;-0.6317403348052983425 -0.24034895087588067919 0.4641499136646846102 0.31565039307756487252 0.086217247426301588109 0.57397440998823601177 -0.25943386259591177945 0.75919554548674594852 0.11275293016355786291 -0.025678069701552504872 0.037133420865888909501 0.76993801273981166133 -0.24520738684137485808 -0.23018671668398182906 0.063513093054221966827 -0.31875221745627713155 -0.19217435416642347779 -0.5109368631781264769 0.011029635924941057212 -0.14668660599532032385;0.55193801052718571842 0.39017646619309487299 -0.13524051882824783544 -0.1115018586064016326 -0.23972890815426847744 -0.7548958602735903467 -0.27138948008184282656 0.22311984924178726586 -0.4428928366468916078 -0.31888500304581679501 0.39849133855743551491 -0.37856325735966389612 -0.22896890112549372898 0.14336919799003028375 0.32928119745029671428 0.20390339025362352876 0.17201352748463288878 -0.37286728345891012593 -0.39820055172277263322 0.48785500627270567131;0.10511367112924892286 0.31037618177509890272 -0.35772607647868104319 -0.43014288929126809347 -0.37711187658893363661 0.16210849775108415738 -0.3079498592569192561 -0.34638350851695931532 0.57546333869447163778 0.13844164008600812199 0.15371257444881591958 0.41817731311309713771 0.019873294743874166807 0.56180132936405913213 0.3137962472289548832 0.3655381146440102591 0.30595796719995976831 -0.60729869128260738353 -0.30723803398587595792 0.017374610340679660231;0.0045311135865549823434 0.43850378947403056973 -0.40530034642584017446 0.41895404970722327498 -0.43960445100709549804 -0.388414282740981609 0.43093820472858845871 0.19453908853452062111 0.22613801435694227959 -0.46884341788859312805 0.045744379321580617981 -0.0079291411192588708012 0.08801999386466440034 -0.13408567129668508278 0.34766607793728626641 0.5038562028272206561 -0.54038595266611966217 -0.086362394407959244824 -0.23180585263701922183 -0.59685437369145011299];

% Layer 3
b3 = [-1.8181104513193608874;1.6508238481417056853;1.3841315333314325731;1.1592955694940814126;-1.0933552284958003575;-0.8133627389820106135;0.59266206984719915773;-0.49971775802346224404;-0.22656477167248645355;-0.092007702406988606247;-0.028200628945708502981;0.26220914005630180377;-0.46083705141533898297;0.57612607469338217303;0.87104998598550975597;1.0894489775836901924;1.293343130958098719;1.5209925820248646477;1.7158173012604864827;-1.8965373877544304815];
LW3_2 = [0.95640200775116956944 -0.60234129262702074126 -0.31089941976819884806 0.22121239685065718916 0.037368191754986172792 0.18759908509673658972 -0.72438693183676661214 0.93029737409621338085 0.59027155297496247677 0.85455618674925781786;-0.97590769379136876882 -0.7699450235114100316 0.69781139560838534308 0.086606205725676926876 0.9619557191180529987 -0.082277405092281569177 -0.0016881448015317948586 0.19397548319527116445 -0.087615864065982415609 0.801973423318384393;-0.19200895034743664658 -0.079145857324191104532 0.12302228381117749634 0.24841447959230683606 -0.48656859295895804607 -1.0255529666039469028 -0.6063182099591339913 -0.4474708022039546873 -0.98709196806583976436 -1.0499263921130097543;-0.94028618288394028024 -0.76851994716133920083 -0.35205751812058888595 -0.2542268048587910112 -0.35526886380734939985 -0.96430777477447826573 0.034640016090008537986 0.80632629283658407982 -0.33326759866848609803 -0.44497223358846954566;0.44563743295040680881 0.30155448667968842713 -0.88114723307533926455 -0.75287471206860323569 0.55624835201460642864 -0.83895334124508191831 -0.30146233343650258307 -0.30314161141857803861 -0.24461326931844071253 -0.82038054651034320042;0.34010497207801909658 0.75993237062350904587 -0.12358381847182085822 -0.84771567056369867554 -1.0261465874385009567 -0.72265670857372465985 -0.57080479739928835503 0.63810696933434929434 0.31771568911342057406 -0.39920728708508007587;-0.52846897423528305104 -0.61463643522380728701 0.7400290431040786876 -0.65211595832491497937 0.11104170303589315505 0.94867790376742444636 0.35915332869430693918 -0.2249710273846894093 -0.67555481850818765999 -0.77777436304145020074;0.12821540036263040507 -0.87385410658618944968 -0.18271373814538566238 0.15285086414124612886 0.21446496468579195893 -0.55104064972652577747 -0.60605015152147678759 -0.92156078379083294916 -0.25177171943404780263 -1.0518293129828450994;0.31881260074388512171 -0.89794182157479429662 0.88918645547565422493 -0.88168469859811704481 0.45220478149943510449 -0.20631484933256932779 -0.33395012222429576454 0.39693300871287234832 -0.09457859695680952139 -0.39875302520904948311;0.49782694756049361562 0.83675662574305054164 -0.96919210407046252342 -0.51549707260538557563 0.33054590589850041393 -0.21950797870895008557 0.056324500485951972673 0.2646991705612202761 -0.97076625839269359286 -0.16712096838033957402;-0.59328331068139827931 0.085889104477791938796 0.98289060191151145229 -0.9721339440757621464 -0.70336345100394748187 0.45257290867756194697 0.35440298152669341691 0.16880463909532214539 0.34099252105706628901 -0.64888681417481297586;0.94775392970808469695 1.0616268648262643381 -0.37316549877672067215 0.024512080973519995847 -0.47090360747872628266 0.52749001641164006138 -0.1738163402007847913 0.46196544493276447962 0.18478731212450030807 0.73116886451684959258;-0.15325956496354717351 0.60883097291942944729 0.12141561178913988506 1.0109999215302147846 0.13020610221509046345 0.20689498759970459396 0.23893691565456842696 -1.0279487811769449923 -0.93476762928572554312 -0.16327444078612735057;0.4076454296946989686 0.84388141019547380228 -0.58315453692197671831 0.028125123727302879517 -0.40492890817000865011 0.09292962796945622439 0.86440749926921611745 -0.55897778138368037215 -0.040368653245790864226 0.85742094481176289733;0.58817936076610266571 -0.08744440114275127407 0.60159976373216639267 1.0236486368697799154 -0.35289629817350076646 -0.23988615618549069541 -0.51738747015540154095 -0.63521426673664871387 -0.58618109946834984214 -0.70250088884235495357;-0.010347196876538167915 0.8459136636390273134 -0.30015135177402629818 0.53319111892783133122 0.81941695634438271867 0.80107561271949201398 0.61779514657994250015 0.24557820846916367241 0.83634847825851144076 -0.21637141850884630823;0.66466908428987347968 -0.10615637570937803968 -0.70410097370262492156 -0.79219926217419966985 0.92132441630278782974 0.3079248576865724063 -0.40235037844355120429 0.2679830346440188471 -0.70057203972074988396 0.014804297593953113371;0.29458611131039769138 0.56376722282933910968 0.84055020736955510241 -0.65664695275915585526 -0.97862319779535023034 0.010850427549276302555 -0.50901664305658100851 -0.22496258800160934266 0.65909377760378395905 -0.56190344576980832958;0.67802775286374750152 0.37700210067894618371 0.70449343096121730401 -0.67212779120557930579 -0.79246039618353647516 0.53311717421466031652 0.71716501409791177934 -0.65794550573661803039 0.037588251102934483461 -0.35568376646602167801;-0.70518123424825940315 0.70409118725555952523 0.81999117802449461578 0.51944752071531097304 -0.47815775160563889212 0.052713771391792563215 -0.66677141871779999072 -0.84250459247275522046 -0.46154141244644514286 -0.16759421946333294406];

% Layer 4
b4 = [0.049813234174625062312;-0.18259516839055273119];
LW4_3 = [0.22584929169278317174 -0.84101830467003202418 0.15804299549474118414 0.12494634394090253782 0.22905494769952777778 -0.75935397802371384923 0.58618500460487776849 0.13315597903694226245 -0.33674497561738547802 0.38485848293066443615 -0.21217793532231177256 0.70803380290423600929 -0.33991519395097563594 -0.1241543607132476329 -0.21992841039843333273 -0.1500982534045648964 0.82698975747610492526 -0.82855324041509204047 -0.16336607571495057045 -0.8395939548477245884;-0.38099254374754476515 0.71979779332530879898 0.80298527874870762044 0.34846560279077204436 -0.2215369026132585073 0.13424240845377072295 0.89876228886300701948 0.074039399397999305918 0.47287135125786727841 -0.62567915062937884407 -0.51532850057037904445 0.45389396453264224673 -0.22991541032149975798 0.2408661840752123473 0.65445440316751157805 0.2944976490386937984 -1.1113948743932606789 0.1863736152586729089 0.73795132822632392156 0.73368506531816379823];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1];
y1_step1.xoffset = [-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
