function [Y,Xf,Af] = nnmove_10(X,~,~)
%NNMOVE_10 neural network simulation function.
%
% Auto-generated by MATLAB, 27-Dec-2024 16:17:04.
% 
% [Y] = nnmove_10(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-0.801945638638892;-1;-0.881804843746703;-1;-0.973682979654431;-1;-0.871051952961493;-1;-0.96736142527888];
x1_step2.gain = [1.33937173704159;1;1.06280946541617;1.28680884651708;1.01333396529071;1.09753168206265;1.25325738564118;1;1.01659002474164];
x1_step2.ymin = -1;

% Layer 1
b1 = [-2.1907988845135064615;1.2840675077724554853;1.3716519688237858166;-1.4706265483804132899;-1.1516164496245804294;1.5386777496356252026;-0.98459389331784530341;-0.23530429049515233508;-0.11739361193215105961;-0.13022368393091132699;0.16319488051436009668;-0.38239546637617366498;-0.57489873246673617313;0.52982664547340829753;1.0107601160779715599;-1.1943001846489234019;1.338806534382417146;1.7258705934279003902;-1.4638681491498211074;1.9561001406510467593];
IW1_1 = [-0.04814972982742993235 -0.029279938362723165884 -0.58530346716567138721 -1.0948929451259481471 -0.85506802542234328079 1.0129810145273887567 0.10521316738260118318 0.09375072885320216709 -0.38490795999835147878;-1.451315170994825321 0.62125131645173348183 0.7030882038136997414 -0.96608888675527693213 -0.38621611913927228477 -0.75741211511258488276 -0.19169308514504354579 0.66863678769140844071 -0.14822472631544356125;-1.1582775243208016658 0.78349349865584194674 0.74812686436516206978 0.27535399796275311646 0.16067695840004850294 -0.159240977196704242 -0.56935898334717216507 0.23766313329230803753 0.35125143820489096447;0.48392718777735727054 0.36256515532507649358 -1.1032837731953251126 1.022067322700125791 0.047232466197926148421 0.089461868051108242583 -0.53667729156495513898 -0.52383606365742430011 0.74258292734868958096;1.8030336127956658743 -1.0999875784602342055 -0.39869551194784297321 0.23664791449397801215 1.5601325378583110748 0.29379839361143050835 0.1503977080543071887 -0.1090720907978898202 -0.70819624545157389139;-0.28061348374106559467 -0.2992289204356166632 -0.17649968915545405368 0.94970782742985349056 -1.128685901140910941 0.40773789259110887473 0.26160166511486226959 -0.50498136800609483288 0.059291065132619079348;0.88834243227927245368 -0.27314758641490610724 0.6659266361717438576 0.26928548816267250388 -0.53389347481790483396 -0.92954721030574616325 0.94453398399051946566 0.58685116390254932206 0.36034755792569117538;-0.4132654506637716274 0.20119524889116507937 -0.40008561693077149268 0.5368399804787609142 -1.2269020271109596365 1.2284487182951364659 0.030512363598158596251 -0.27619349277286375788 -1.2546618728075753513;0.20031158704594695386 0.70436384177249011795 -1.1270960106688414637 -0.79544010104187190535 -1.1762522719990968767 0.32895241228108473841 -0.014470582188117666472 -0.027960832447480182816 -0.14185177541310131644;1.217778159440823682 0.14526114659518826744 0.26601836564395486828 -0.55696124325845686176 -0.35747381189212773522 0.58724278608603464047 -1.2329677776282703672 -0.14977147879716989909 -0.97999636240980247948;0.99354080679983713953 0.56994854933099836636 -0.059825439836746471811 0.18810565002378940025 0.29172757526756704083 0.23239468045553618447 0.92517232754228495573 -1.119340954397669341 -0.58556706981131134704;-0.63156770975786147293 0.33286713266786388532 -0.57297072802745030451 0.12513641192621891007 0.50173948681586577614 -0.79780678914892633191 1.3355602543889182332 0.081535341477337860971 -0.59566348922458478565;-1.6134379669358218656 -0.19471557047918983119 0.6102958161183358321 1.1857095466444680376 -0.29207006841712868095 0.65343917388819428016 0.42356616421675102879 -0.01953552394399655362 -0.65692212311470621344;-0.064466300083373298535 -0.24464927748756348791 -0.6362263725842574047 -0.87317624596555842853 -0.81167280639306504941 -0.92992049793447673078 -0.7758209066459966774 -0.77683155373069578964 -0.46056222195473378589;0.95329788377959234769 -0.024029851334806576202 -0.4671955158048827772 -0.82846353526803251377 -0.40420612267883399005 0.19897231892987310431 1.1782793043796511157 0.57942703177872723064 -0.43047222294292869504;-0.75257945708366558168 0.056018687847539536118 -1.1207413413331033247 0.079776208199702505763 0.8534811509751185632 0.84705343158516288593 0.24349467546253275585 -0.77410706561804598635 -0.01665265880008694882;0.90348745017665399448 0.15647631345095275313 0.99123627487914889311 -1.0057775302128260098 0.5415810094006665576 0.21391491690553668392 0.11725065083894078977 0.13960214254390601596 -0.23602900009327645869;0.91475110967910366888 0.28921500729080951153 -0.82723019309101619712 0.74151660483529291401 0.18759806836619605241 -0.35251175181391691815 -0.56902531956993640527 -0.80864042052790141568 0.75162818198844549844;-0.92306762028955202659 0.65407418494623947858 0.074834981714360926386 0.30169574418400252336 -0.033393248660861324373 0.40374689181102479951 -0.68999787270474877143 1.3248091250835387633 -0.54916672887754758303;0.38361234242056480026 -0.053444515666713834912 -0.41881462411783082489 -0.9923014511927725767 0.053011358153327373111 -0.67788272495744350543 -1.311423480871290792 1.0617040894305846965 0.67921193013600145161];

% Layer 2
b2 = [-1.5297735987902374433;1.1997853758747918373;0.87188121844345456424;0.534995167975135133;0.026797816661428400242;0.1557973986853010695;-0.37938553528717083863;0.835106240019615087;1.1880916264004435234;-1.2985302809865137963];
LW2_1 = [0.40535882742194062622 -0.04490760310541822703 0.66036957260999951114 0.39899915327279744659 0.29552181551224454559 -0.58604007423321768933 -0.48953772853093341366 -0.12189768975038396681 0.10687261963766482575 -0.14454220847330162547 -0.23910157005253829254 -0.57828756019012950151 -0.38497322526295069123 0.16109079517183072516 0.46241385571006876631 0.20180592138442265959 -0.31223310527270481396 0.27530630641578734963 -0.042529562027876222086 0.64866039304712430624;0.012136685237775717006 0.40537256842940078139 -0.42020946604587555706 0.73205872769034263658 -0.77403712430503224251 0.45348276730563996662 -0.13583705734313514246 0.18543926288952758408 0.28430702731457924148 -0.21345229047991948201 0.13743995664885766406 0.32483670528638747266 0.23506489925094178894 -0.14066207132916039302 -0.01146578444626507147 0.90682329959569452082 0.58200607619390642977 -0.33500560116628241847 0.41929000019681084144 0.41885296371880703648;-0.33217711517893416806 0.260716944637481296 0.34652659440700345206 -0.54725594876373018227 -0.4746041173980320993 -0.21635237614853902732 0.091861455029922378657 -0.051264909613128489818 0.75437418635075004225 -0.21574086256902566539 -0.22030916606741043906 -0.15182591405832462916 0.36851415863775144333 -0.10875026809818336138 0.14539955125976675165 0.41001924527506550255 0.29323070994328576111 -0.411303217152192091 -0.28321453440219074293 0.62709742088502407054;-0.39433604631812879671 -0.70701269497914953632 0.34066733066832638466 -0.26833988220800947255 -0.1884851881870787671 0.51241339076353065174 -0.41026110857879999338 0.020162296933900231144 -0.0085294266254883014527 0.79792224668829714318 0.1489882056169057889 -1.0750701359737953045 0.35979634981017399875 0.58814358218069362483 0.038734908890259586722 -0.181095201514042764 0.44346807516674552341 -0.097045279557717120666 0.27228174040691199842 -0.18882259732949974174;0.21375464707901636885 -0.11625315425219029386 -0.21423413472258046042 0.23672535958961501978 1.3132489533650644198 -0.15553941617306266121 0.80503560127738849062 -0.45773282323523356574 -0.56662716431822579555 0.28896015759304194415 0.32739146581009648251 -0.25465196039972526343 -0.85167308808751507332 -0.13463661689791639464 0.25112299563489465237 0.37308988681928717535 0.15068914529713853256 -0.024631679579866092716 -0.043362486404777848825 0.59185035869113356011;0.14389657568831371037 -0.25501173101346652494 -0.63628212396646444127 0.08973195029737976447 -0.64639042205798813434 0.63617987778075113514 0.20450724092388089526 0.51483162573948992868 0.35834719155278293989 -0.45774656852832684706 0.041829130276611288519 -0.049317967224617786925 -0.026378284133257545729 -0.49197716296234100808 0.67165249575559415884 0.092248387533929179782 -0.61400617187205108749 -0.36379791123223076399 0.17906071939345949429 0.42946705734802909094;-0.54716688599141216631 -0.25844360899611062976 0.83635659007086804451 -0.49241203253314419497 -0.10887557564077771088 -0.55902622783787248029 -0.44316401025561369398 0.54025970519352872756 0.27854550448235010363 -0.56811130417647159874 -0.070035586282187450857 -0.35464976737870823609 -0.022051637345437379023 -0.44431129457619333856 -0.45765630136315710308 0.37691625488224556051 0.4506249132535473656 -0.2799212296115581311 0.023884324400310859293 -0.73442125908856004113;0.43562886252498134176 0.62015209854801545131 0.254609406249269421 0.22336368447365473333 0.15908623138304553435 -0.10210012695658601811 -0.62855741033339496138 0.62708974681308471411 -0.49729435169257590887 -0.30124033946703282494 -0.32570614118995316888 0.28931730957451351482 -0.33263610581268809874 0.26363552343454232929 -0.17876724537769156376 -0.13468005284164930035 0.013604551206463606078 -0.078686606402336239929 -0.20356539505871706908 -0.49143529935197033387;0.11948602296506055653 0.040013908348839340168 0.43484340015083933206 0.64175836563821997416 -0.54726789390711727545 -0.065962509942189134771 0.16908868133198684536 1.2160545028815739066 -0.55606068269471431442 0.27166565904536532639 -0.19999502176123759578 -0.21850554246727721397 -0.2034528674689340122 -0.52808223551474775537 0.011797731315478765177 0.3029543114035700424 -0.4948552814796171595 -0.37330722968916424387 -0.39381122749374652958 0.14875089049685949472;-0.26522840538253544818 -0.24554078182873212421 0.28701235108765998927 -0.16481847739331773051 -0.068254282079792838456 -0.33624321862936912275 -0.50172299167963585464 0.42623940203793420078 0.20385347745719281654 -0.45011885183076572048 -0.24747205730322524575 0.3767055472243550085 0.086367736472498679579 0.15174431636354018815 0.74146595376550861189 -0.45626068720805224022 0.87079358228317282897 -0.2208313957824204754 -0.10340343088733187915 -0.20223817683690031854];

% Layer 3
b3 = [1.8387533749140627659;-1.5676261791480454733;1.4985546679248240576;-1.3180120964042700837;-1.1218752148840596128;-1.0025031281037899422;0.53663438880465375025;0.6400797361881618297;-0.37070611963589300553;0.1430314388594724484;0.067694174845694884968;-0.230348204394519529;-0.79155551370202537065;-0.62609279341324242107;-0.96575464456513693268;-1.0153714405031011303;1.4046667342653114119;-1.3890794289947017148;-1.623903569488069909;-1.860955272586029885];
LW3_2 = [-0.34106730127270573627 -0.14380255845162889794 0.91363189761696506075 0.22843293340787582113 -0.80374891476768295373 -0.87437439486172197078 -0.40772774802269340366 -0.83137296376607527915 -0.60512055304438538972 -0.11821778960575961281;0.13420856046875437317 0.16380673216448898843 -0.007187600780679981316 -0.079073445228545452546 1.1952467566130122734 0.56682288847637252172 0.43155732730472212699 -0.091726528809754265259 -0.035080155928238362928 1.3718476065938658426;-0.29698717400467755656 0.67000773109042244258 0.28799757352358329454 0.88969074991696184274 -0.38759930136672593459 0.19308443632009061885 0.21952728471046020764 1.0210734426760212923 -0.29762365866783208057 -0.91133430443960494749;0.73267389634558566236 0.72067309964022474578 -0.89895714863126807703 -0.67188139130920110365 -0.50181652671233412111 0.78220241783910759992 0.31137662584341629923 -0.3255448829881836259 -0.42327642544419180615 -0.26794276773457820218;0.47905421569074280175 0.49122222674700233291 -1.0390879860204775831 0.3746172154264991172 0.52060459975629935769 -0.048957841551996797436 0.6600186860330881089 -0.87660067646039585565 -0.23102271666961599061 -0.76130781550269721603;0.19460236560269636441 -0.47246466920604801576 0.11757925625380910573 -0.85413569769605290904 0.91099813087995318295 0.55228129217257604378 -0.060393181644953553011 -0.94919142124963873375 -0.75852506033076605441 -0.060102345861470868327;-0.47191235130337233494 1.0079702157998644552 0.0056399284772738061955 0.68463067283581746647 -0.30405167381454695219 0.14938294939880564227 0.21595486122206353219 0.17488930300388447203 0.84740337055038406078 -1.0234805550318699652;-0.51686054198476827359 0.94817977745893611274 0.32409181340383230729 -0.72027310852552772769 0.62515549579928586521 0.10628871384535244771 0.54876410357318905486 0.79529256193512687378 0.45666075461157701332 0.28418896898746248691;0.2426714313313502458 -0.078230149231780343744 -0.76595822268084490236 -1.0366358143057796681 1.0556324282621425414 -0.65544550630522546708 -0.53793770356451009462 0.26782745177859718089 0.22614785413754392995 0.26103016400920503459;-0.10071300067697445957 0.49189162347206050185 0.86486490076443089947 -0.49846758752831593631 -0.037641396925383312222 0.35529267863705643604 0.98809489638660930044 0.15776510133962190485 0.58874813506283063536 0.82112449240865570399;0.46221993038512820817 -0.47961104143054206217 -0.75756080838784045639 0.36130115896391012953 -0.67129512365307741906 0.82538343517273471406 -0.90388991765149662161 -0.38590187998623487475 0.18035298665745383428 -0.24412355608179436839;-0.58467709035695913933 -0.38882005445857209525 -0.37717016014670184942 -0.7516997446009235917 0.90266613708823884021 -0.065706485075824105913 1.0075630891650553256 0.57694255148353679186 -0.52732758067909246691 0.20525694445036193891;-0.35452781230999308448 -0.83842533080503600651 -0.31274635348034973692 0.41732587746557786579 -0.73980764267942056289 -0.90509469840245126981 0.28515973366425972912 -0.15114853232924752025 0.29699776060857691062 -0.89656575622339018672;-0.55232120662855166415 -0.1341530641537840296 -0.46054835474966060449 -0.56907360600837386677 -0.066888180725432844209 -0.3340026664005605328 0.78858864485620783213 -0.93793986862638367707 1.1162423364908440337 -0.41000097142839314612;-0.6953667284197134757 0.39613732140158541828 0.89286651718920861942 -0.2729626897476019054 -0.2998691102758252458 -0.92826707944968189778 0.61481038138768173695 -0.66597320042500984805 0.79007998862832484743 0.022269778727473304308;-1.2528550697118752133 -0.19702374054369381495 -0.779719187671933045 -0.76461289834195000914 -0.071159644654488429794 0.17895882297377377346 0.049766115085331547041 0.76092933920328320596 -0.5617473978334884821 0.61483952962697685507;0.79598105287059295332 -0.49587963726734929359 -0.63304142545007746623 -0.28108414736800979572 -0.53670794467992066767 1.0498856260397653184 0.44130659741063277268 0.16306567892082021731 0.30915424180522377284 -0.56891776863524678998;-0.86188867079365549806 0.075659387630917313006 0.24255423461089559156 0.45810143978727629888 0.42915517595020091779 -0.90140845782148726339 1.0049341366503190542 0.32487920019180283049 0.82363623916462558316 -0.81178115092773839301;-0.51582014221160765732 0.51368054653173667035 -0.37529653580055244433 -1.2911357414632917973 -0.10862038871478643665 -0.094562680920198538548 0.79967707881770699885 -0.070012650278428109618 0.86238721809815599428 -0.15023648959814461801;-0.14888861051759016974 0.28250804245634736356 -0.056253607537039493347 1.1563494394501425688 -0.24586770887479600378 -0.34929488429510369141 -0.18796164171065835036 -1.0221201916023794354 -1.1087756186862001151 0.23831601261243604006];

% Layer 4
b4 = [0.36142880504572139078;-0.62609568677432869688];
LW4_3 = [0.095318779675486089986 0.012959037145514201023 0.56431323711753278438 0.96778840423208878363 -0.035365343091302361977 -0.50378931414074545891 -0.074205398890140619739 -0.16401890179216582766 -0.094573750171746601145 -0.12405035719315067599 0.27696350423117033213 -0.77753404404035664221 -0.21323657990477176694 -0.071779579917981201076 0.71160716899643383648 0.7193490441601972929 -0.2614551738107139256 -0.24050105170572597113 0.80549837850885619428 -0.060319330733104033204;0.34388519558054653213 -0.6279889161766079031 0.23495015199515745241 0.31997877001671387598 0.88104410486495421395 -0.33531497222624839782 0.87862561381628656587 -0.11569911735922328022 0.78736107556784229455 -0.33790272344609806332 -0.018314403884802835099 -0.14221218549032657585 -0.076048147256775527891 0.4270947555633720083 0.37322072910656250988 0.11803953385850177171 0.036229552549841163855 -0.15887083303948718038 -0.34253467531766118581 -0.38445269373764118237];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1.0000000000001;1.00183681199409];
y1_step1.xoffset = [-0.999999999999798;-0.996333111396797];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
