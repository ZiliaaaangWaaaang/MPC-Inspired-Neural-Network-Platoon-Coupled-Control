function [Y,Xf,Af] = nnmove_12(X,~,~)
%NNMOVE_12 neural network simulation function.
%
% Auto-generated by MATLAB, 27-Dec-2024 16:17:07.
% 
% [Y] = nnmove_12(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-0.801945638638892;-1;-0.881804843746703;-1;-0.973682979654431;-1;-0.871051952961493;-1;-0.96736142527888];
x1_step2.gain = [1.33937173704159;1;1.06280946541617;1.28680884651708;1.01333396529071;1.09753168206265;1.25325738564118;1;1.01659002474164];
x1_step2.ymin = -1;

% Layer 1
b1 = [-1.9427044657753973489;-1.9149706313837204785;-1.4793759721830295195;-1.1035092554735435044;-0.73460189957938037963;0.71424063334337439812;0.58708158176649327675;0.58085111029308056363;-0.41973732334780705644;0.69611922436539108716;0.31603147540999493303;0.44994642641583337817;0.62762222837529124675;-1.309846432916900838;0.91407042237097146931;0.82737245640865020313;0.90998554420248978225;-1.6585013868510609658;-1.9057210647646216639;1.8640261353339324657];
IW1_1 = [0.72852076714229074828 0.87324958295341104098 -1.0279228228913872556 0.36773191269526966929 0.53632982344395330188 -0.01388384285761377554 -0.74039577075396501016 0.57099376973411142266 -0.64971376873498531967;0.59708594265334369311 -0.24729591873149825432 0.82770737090765911237 -0.038299337288959338366 0.20144310490255931678 -1.0432237348262773935 0.601166231961594133 -1.1802845972492144178 0.16063544707666047029;0.69263213485598629227 0.20672394951999190083 -0.63521414366392725537 -1.0167594771504415707 0.84070022922005016586 1.2571845572231394872 -0.51125640167408870074 -0.18848247031958650921 0.23737089656406365479;1.1153576897480395047 -0.53191483195982436349 1.4781944996067446496 0.13003447516367100389 0.53255146309228462709 0.44592244513427098385 -0.38354931544981391012 -0.6425172553039343315 0.82242637471188273501;1.1232743027997169616 -0.93250664354902657038 -0.70087758819502421481 -0.22938106810462044471 1.7018722035542888094 -0.88883475199231398722 -0.11805252152165096602 0.3665416118732542361 -0.16123490889002262128;-0.69660059494163228955 1.1635048390844828781 0.13859152853451070508 -0.074841774989083564851 0.099440854412249271577 -0.9775852341640414167 -0.01951745089079915535 -0.83403152595089269372 0.41931255712173770567;-1.8926156513273171278 -0.67668672030215426538 0.33270632638688080185 -0.22978898466350528018 0.34333122322587938946 -0.91108692757346887436 0.48487650763258360875 0.25790664109634980905 -0.7251233083176741312;-0.25878796189768310532 -0.93704486661995156638 1.3586516554985648142 -0.69584295101295490227 -0.5788740885244878509 -0.096099233674929535054 -0.25145466472341981845 -0.27096570923905727302 0.45174068417914814422;-0.47356638691160024557 -0.45881526132905153803 0.61969324286603189034 -0.24790298906832164416 -0.8192068385247447404 0.68372877694569944573 -0.2919409135111390996 1.1238369231218368061 0.80044543619381536281;-0.60724640774917360009 -0.52282633527594102318 -0.089798761567728535571 -0.94682275136565174911 -0.21413808359263691861 0.037481296256249338472 0.66693615097719205487 -0.93363395218357170258 0.78507721589497070358;-0.89218473189188118866 0.25780802970567506804 -0.60244311641645531541 0.38764637350395025894 -0.85455255849144695635 -0.82032764998332374784 -0.37046687034011260842 -0.42780755298060579861 0.061289382684071760932;-0.51023943926005432825 0.43138202302424571988 -0.51690428515297459633 -0.79191489356434230373 -0.883162172196119033 0.83634488239945514731 0.025655875962451134276 1.1877469301466343499 0.3469811758575563343;0.68929390721709016265 0.69833235111992641997 -1.2373637283362264316 0.63757280094285373462 0.72592275092930458325 -0.14703749049901837509 -0.45495526136504665926 0.093397245378632823276 -0.33416756381933160336;-0.86849758221769057798 -0.33171509095311468851 -1.1140243132845071283 -0.21389022223337325612 0.66839133073622880588 0.36412553710481704305 0.4626149694174589988 0.088161887870846417092 0.9582351431220054172;0.32494206898567656872 -0.64840764854957910757 -0.40827596629192730582 0.10112416163384672918 -0.78409592170274111655 -0.18551942588715292226 0.72704038279802840616 0.2021432650208974946 -1.5008134549280431891;1.0083891554261370516 -0.76078084187393602011 0.21598815390698392069 0.29678746737527073041 0.7397696455205509114 -0.96569919471825460544 -0.88463266595085909838 0.086268062229989728174 -0.52102070687640389401;0.25442107668066510362 0.22395906489516681503 -0.16826684251041740259 -0.79824889372582352731 -0.55947846858119865132 0.29428361289213106344 1.6549174627314715558 0.79203485195171430266 0.26070835965252797672;-0.23859688841938916926 0.18937364247262333805 -0.19816674756707650107 -0.1518475404694760722 -1.0036278120450463636 0.80427704355504658906 1.0219232330296457167 -0.29735824619991441109 -0.71105624459423444339;-1.220236271720188892 -0.009808515020878240398 0.53536250216822922621 -0.33313751465454122247 -0.68218319003535476952 -0.20622853691631345963 0.39854028145925901594 0.56845094488015956991 0.75284260828638505103;0.69679752364012959021 0.60430067804399700826 0.016421631043952823054 1.4792293671892666751 0.32996795968612241401 0.78449106366795828826 -0.034640339388829308187 -0.32420829503407927463 -0.17681344372804880249];

% Layer 2
b2 = [-1.5083713995724572499;-1.1777220474447112064;0.97347432673924771951;-0.63457083976108663581;-0.14252120569022275198;0.19982018772394674611;0.60169910914629742837;-1.1003535217978948069;-1.1814744221561168658;1.5091414698316016896];
LW2_1 = [0.24771210203088081525 -0.13802929028349830709 -0.13710034632849399383 -0.52786461070769685744 -0.09874396742130804594 0.11891187638775158053 0.16569382201992360892 -0.43840067508508162586 0.074406702787312664626 0.42639912924768558211 0.30196118697239909823 -0.81540493981960748826 -0.44799287890887662389 -0.41007175854039945584 -0.48981950436371712865 -0.097444685167211803067 0.29278883564059698941 0.83241600875504295765 0.25414165720776665802 0.53667971498723732182;0.60290875069230231986 -0.15704462866723956083 -0.063601932910366115737 0.54529835591267539208 -0.71898741691701384404 -0.25057357423688875198 -0.66796598478841318069 -0.14063480525308361124 0.1814504994871440624 -0.52192481310144689388 -0.50160341087629911616 -0.27596113530153504323 -0.37128666668184773236 0.30268884601864348705 -0.26333247898235656592 0.15856996997608555078 -0.58737690303900491617 0.062177239482966203954 -0.010822220830240507003 -0.3244504110965562016;-0.11529970906854497548 -0.1289987790680324764 0.45174971637479366393 0.18461029276202670091 0.28971021629030996314 -0.14895333805088112333 -0.32138810879724277747 -0.28912964306666782965 0.48048005891327422168 0.50341148237557997724 -0.093001843078121607111 -0.32254641685217094738 0.54911970249596964155 -0.076291898978271599496 0.39492721981584721913 0.11647741278173284751 -0.10588002179164730798 0.29973594524288593721 -0.74411101726246520194 0.27142409344822632233;0.28669018981628935361 -0.86707217276620329738 -0.060960178141480705905 0.4151902840151638352 -0.2719948405991660656 0.42310852100457296832 0.43785952201619676716 0.19758880620020460861 0.5569025161978369276 -0.411590618250092799 0.26377203872030630105 -0.1863341867596828294 0.4329911939701957535 -0.11930716048077705249 -0.3293185071526424923 0.65126542527936870375 -0.37936427166579000936 -0.26689786748042032549 0.38207505232051525157 0.23760365036962732832;0.51834999128413450364 -0.45811254177224497441 -0.74910663677862554533 -0.096357071293892301855 -0.25776028622654861833 -0.13365631399960686831 1.1165897115153187169 -0.20486212581045068482 -0.15927358141292208282 0.014431090244235014741 -0.36860662681878453295 -0.41596205290517396236 0.67407770289130919394 0.72033653465633740165 -0.49821015796038520262 -0.068988158853439701668 0.62118271333029884129 0.56478698766084012295 0.040599217460508846278 -0.45255274007201939934;0.055614843665863639144 -0.6978351051102340552 0.081526680082298658148 0.2174581458147401003 0.92414980298421312011 -0.026168612259112988827 -0.080183864313070410401 -0.062441317322304318305 0.16556914134772121594 0.40959010317932126322 -0.060688138893588053357 -0.12396298646029528523 0.42189404578784239774 -0.085038952926516475639 0.15014235819947610584 -0.68329743094072903364 -0.43965855919323337808 0.18696949297309350957 -0.45932160338591304649 0.32695691571400270492;0.073811051099807206688 0.41670131315942271488 -0.88030906875923142785 0.0016502335776937410161 -0.16761242460940953269 -0.46658427418987313828 -0.39781294575231335164 -0.19633992739313219089 -0.12995748165489762194 -0.44857563492639268565 0.0041986479274516916305 -0.25528861007111791626 -0.43589907766468899419 -0.25964665875795339689 0.02998022014214204653 -0.23050137309839097144 -0.17810253024161359914 -0.042460089257361277593 -0.37202945962971223359 0.42399740090051585284;-0.093058686497729109499 -0.29897657144904582482 -0.055635374263252310167 0.42217521112512595982 0.57469034533300644707 -0.016638331419491562274 0.13586700187703573683 0.11132544921565878937 -0.28325668690557387341 -0.22949918786693718209 0.7087909465837053391 0.2899760519454455121 -0.20228343936277157211 0.23147748562640851899 -0.31248203264340840279 -0.4597140286650209795 0.39343647967537842547 0.14466800387535330708 0.51918590750285464885 -0.58814319478259557972;-0.74600040967655489865 0.88359539082369498164 0.43565046652815003769 0.22334356864237298046 0.090156822595903449158 -0.36305743595841821758 0.46482964244812713384 0.27983937703473871217 -0.58280888357243432196 -0.90674314637465081024 -0.53820017243304252297 -0.73499963675017410125 0.04531987357998876198 -0.46089451505647610619 0.12485764175735060422 0.41647490456485436461 0.45105705666828849187 0.13708712308319878637 0.1882517183055739951 0.25054737014448485999;0.62647433422407106107 -0.28746161398688879762 0.34148931888876377094 0.64618902606277628387 0.46175973117763613462 -0.26954815410864246816 -0.064533450514104750972 -0.42645590507633662769 0.30140589713053478338 -0.0048238963638810930523 -0.34184315257863184812 -0.14305197740890476799 -0.86096876598820049065 -0.051676746025407657714 -0.055267529250126158635 -0.17619321043328922682 0.25309623826840543792 0.369376725421468044 0.051975634093391627488 -0.048700595926240833333];

% Layer 3
b3 = [1.8872204932660914256;-1.8940472681146816036;1.5663903198878137424;1.2806056508646823655;0.86453247954868395198;-0.96826150437249869363;0.60562343966433429543;-0.46454901282203192592;0.248208841637241856;-0.18257089810718046818;-0.0079170160417332113151;0.18331467028540590625;0.47790566808679380006;0.71187860185047380224;-0.89720192331419812426;0.97051905174351726924;-1.11815804416296527;1.3835795883432675524;1.6503900104146644878;-1.5917116995229638743];
LW3_2 = [-0.79042555030213645928 -1.0209553636870964954 0.45570065977567003612 -0.89923242377036272099 0.71734193249865352282 0.36777102703887953883 -0.095561085343878138243 0.43214203003389251023 -0.056622609457480960193 0.21086822819934733508;0.56422895771618319927 -0.85377827524471461285 0.042752171099814724464 0.30087400322585522439 0.045693968050559100047 0.0029245398941725505443 0.68955674399467870028 0.7820248909543595639 -0.24794908759602474202 0.30140139108600988438;-0.16757460860466374952 0.12867531669822601659 0.91878825032436683973 -0.90871118487022972676 -0.86605338656079122739 -0.084767734550042661557 -0.28904167004508857231 -0.83757801493823280659 0.12434398713412753157 -0.47552721594204372391;-0.69071596135013535456 -0.19039533493135635256 -0.095618241713021676076 0.62476005187724914514 0.57241633651484735701 0.05374485355408416265 0.39344651024339610812 -0.91393038062004805511 1.0884530805261001252 0.61525833066777335656;-0.58810624506242881182 -0.19233116595159910345 0.058049982248393409978 1.2686416952926666823 0.18332247379488819661 -0.43062251239264048852 -0.38345737596212892129 1.0069579319030628195 -0.45336666002768460926 -0.50731133644997850052;0.11587276063889123678 -0.19678415764605988736 -1.2534956958547947004 -0.79103250396609037232 0.34313627720647288388 -0.2410472128500333322 -0.67065757689920635354 -0.51456925832982303159 0.38674710845725757125 -0.22651864098948726323;0.17222666502726444171 -0.54305237180294052557 -0.001046871076778581322 0.77893213248445891672 0.27106423561793285826 0.71072053177984406691 -0.31431330878101598758 0.3992275847538064304 0.76000095020533098289 0.39403692619328400948;0.78370625003755156612 0.27681043572563007737 0.14421331564967707073 0.4467783022324947062 -0.88485965531276244977 -0.511673427886584542 -0.070718522644627634932 0.93045415534579989369 -0.74366568962310886093 0.41507205541102504265;-0.84101677819355957766 -0.063955303744543307021 0.10984430474529369159 -0.36095973240771683788 -0.14099459965991745225 0.47924697480420230811 -0.42179643446566861265 1.0007349232625608604 -0.89436581195610098671 0.7197460198888477878;0.16077632494255364448 -0.58364042475079003225 -0.49942732518754501259 -0.47996491823520553988 -0.62445093904639215054 0.340264280932464247 -0.99057682717841799569 0.37099428665222206059 1.0201930217829424663 -0.73339488218489912175;0.57956747872675251632 0.54129214904543632159 -1.0198449235012845282 -0.81599333744625990317 0.67081778895997978829 0.48401399639669340225 -0.51193214541287923591 -0.10559410854636397392 0.41907662213177088173 0.28516495174043560157;0.26330527128267222636 0.33376117477779876364 0.011304529746237589743 -0.96347985504533528722 0.28802763637470890634 -0.52064335466282174458 -0.027904982294618171923 0.69845764114432407066 -0.40119431408584010912 -1.4511617539665118137;0.97826060905793144062 0.10395075737794871873 0.81408460193986942333 0.32500661285665416456 0.43521412783534935143 1.0800370574807882651 -0.88556496962196651346 0.44955377603677676435 0.0089728561790050516411 0.27888092852011731049;-0.3279062615867823216 0.14709340645988749907 -0.94564555841511099832 0.7861487176873255267 0.86986608974330459354 -0.90462702000863626228 0.12938149750890587386 -0.68165114249515201816 0.14197724078354811983 -0.85772771728126862012;-0.65007456522849649261 -0.52969868414283005631 -0.04144877168906876963 0.58601011309384931636 1.2981093202042353063 -0.68410385160549425088 0.0097979031188918652706 -0.18944864994742435793 -0.79739496865455161689 -0.64165217492391168896;0.4352632331888602879 0.89497465396910258484 -0.023537942470997733069 -0.47142830901159354928 0.52899604426988899863 -0.69989232688988467501 0.2362101486587074306 -0.61806023261836839922 1.0055999559782371477 -0.045837909761550540977;-0.77747668613603448939 -0.21855124956527008373 -0.56761638107657597097 -0.56966551165276024804 1.005227678747324882 0.39151705339990339194 -0.64937091420265902197 0.34820543019180349997 -0.58160299480205990275 0.41221639064185033874;0.83378505282051640357 -0.84773753985169686409 -0.53172761609739038757 0.1234885009345233764 0.77330351706813205137 0.86020483180867468587 -0.0064296423680968717296 -0.77247645759400329624 -0.90904382454508492195 -0.0091097090592175827828;0.50055801587527493091 0.049078360337692979176 -0.84948938585747968411 -0.62014806542009071055 0.71774187722357352115 -0.38443355723921923683 0.75332425798440660891 0.13332294801869987166 -0.58392932728809532339 -0.70826178549210927482;-1.1205464907871309777 0.33134886756647402573 0.93027618309170156952 -0.018477448144648161987 -0.32913192097238019862 1.0184958888378110586 -0.3098048703132570969 -0.010420981715706080506 0.84194513442351848198 0.79844798717262499554];

% Layer 4
b4 = [0.1608806292532488913;-0.4206884399791906981];
LW4_3 = [0.26209767113477239198 0.86833315965150259519 0.075227555727166689481 0.36474399982875627124 0.37483982216052225134 0.22662116545121291367 0.63960695161517366891 -0.21099758460445916519 -0.19107649536139573176 -0.31420958265153919875 -0.18582966456277053013 0.35435967284031089086 -0.77835752645489719725 -0.6106348031693202838 -0.061468094094923236836 0.11924389639364241233 1.211526698975116112 -0.0017802031995074948933 -0.14157964300602904339 -1.0389610485093088155;-0.13844303476876398951 0.69643889749272969159 0.75685904948890225796 0.91783464015009164072 0.39770602878882599374 -0.17634097462161071879 0.57172518408493111508 0.70479015544619039169 0.53263720517184298675 -0.50770599367588498119 -0.16551192767358427482 0.48425368613407826501 -0.17053131291511369749 0.59497350658345027341 -0.7968574850916374519 0.16884233440449236685 -0.41121179021612774829 -1.0265800061949295063 -0.18523464989125121294 -0.25699319157053146512];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1.0000000000001;1.00183681199409];
y1_step1.xoffset = [-0.999999999999798;-0.996333111396797];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
