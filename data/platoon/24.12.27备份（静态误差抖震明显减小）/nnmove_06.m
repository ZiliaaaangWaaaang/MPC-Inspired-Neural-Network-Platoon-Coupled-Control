function [Y,Xf,Af] = nnmove_06(X,~,~)
%NNMOVE_06 neural network simulation function.
%
% Auto-generated by MATLAB, 27-Dec-2024 16:16:59.
% 
% [Y] = nnmove_06(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-0.801945638638892;-0.832381007605849;-0.639361590405926;-0.695257580172501;-0.656730875905293;-0.736217511301753;-0.581556487918271;-0.92174258681972;-0.874312231364002];
x1_step2.gain = [1.40069505009147;1.1174848563727;1.53491027182406;1.60065309370616;1.26826958496911;1.28329478701394;1.60565698304423;1.07739277011203;1.18705279589493];
x1_step2.ymin = -1;

% Layer 1
b1 = [1.9104979597817079995;1.5035480727116843358;-1.788655780722085531;-1.2290814433546040085;-1.5215226147372278298;-1.0666335876604455812;-0.92790499166181306112;0.61240267198736586529;-0.26677816389457442714;0.099720365858323084529;-0.061059989053941547688;-0.44489569635769865563;-0.70836054749954846521;-0.92080752075704397352;1.0804464793829078317;-0.82828820048233242623;1.1768235113730545205;-1.504036251446727146;-1.8931932525755386099;-1.7344303155474081191];
IW1_1 = [-0.79483873948085992378 0.47152579426919261074 0.19573161766261193417 -0.51241386011665579492 0.28189629012196998348 -0.89032395561167465559 -1.0162792486751719423 -0.66590050748667106717 0.96875745321874195959;-1.2182999116755262037 0.20757555518411308082 -1.2750858302057377358 -1.2252811615461114414 -0.93295897121676774066 0.81452537831452542783 -0.31589811665605632696 -0.036433430853789770809 0.19489912288555855113;0.52852225135950070545 0.18701856323004678595 0.31685901372648972441 0.60363326176759757313 -1.3665996875905030983 -0.86373029704536241624 -0.40871694275209041747 -0.34403290766806760015 0.63520454150359639822;0.65702734157138065196 -0.48151391984589708706 0.80302177571885546836 -1.070055158126373307 -0.51026743332043800194 -0.50238185004831281688 0.30221556061290855144 -0.46024777039739944717 -0.037716416865293679594;-0.10711904621998095954 0.52531660414932368486 0.45122816829096923374 0.85108536457026673361 -0.87132979794571141507 0.47909470545613247472 -0.69289046854835290024 -0.3245861803367759979 -0.90734541035193616576;0.38829093778113632496 -0.21029885176387591583 0.52034228729868092778 0.76797330056985924074 -0.61424856180758513613 0.41025702172633116138 -1.4205861876175640557 0.33155507085102664533 -0.21910234471199135919;0.35505158241887291304 -0.94038022744170390865 0.3010950905172193881 0.58823587621106532275 -0.38568855479232189154 -0.57424262911014345434 0.088269886525882496064 -0.82949725930900342075 -0.35082565789761177566;-1.4342386973239893422 0.56931059490879276641 -0.13918975462362237483 0.65136629501811649234 -1.2997039587056540277 -0.46907899252060769602 0.39147499122520096337 0.045664837416589429409 0.53032494949142161555;0.99187756138122706862 0.12560147823478651219 -1.6343444251903416209 0.325241027886221723 -0.12672418199006074691 -0.69902535421365397106 0.38034070590253576949 0.076627166467178195464 0.64083887329109656683;0.99459788405957527679 1.13428940411979573 0.49026119097628700905 0.26220520672465968959 -0.90032174872727477322 -0.27925936939412437932 -0.61103397489665722819 -0.47988321862046001698 0.24501535573719207539;0.1149001470815098902 -1.1532616680646319285 0.068973316992335942377 0.61839036109579259559 0.28708891413835091466 0.53005720653084886784 0.1361154227784475701 0.58188898268570354855 0.32254273984740394754;-0.64104123404714696832 0.13575184070251675172 -0.82201000505483923231 1.2009197942944078719 -1.5780935372526923022 1.229896162735053311 -0.36349829920762061208 -0.30017138283855560044 0.70428845415144136766;-0.73529459449661072057 0.38086904286215150783 -0.96166745091485017483 0.40110882630903571533 -1.0502565846111775461 0.58658060258118360775 0.87151333541057973697 -0.025911980528906294885 0.83119155649402898245;-0.59034830930892712164 0.73352726511703980616 -0.46885791261963044585 1.1349760037863916295 1.1398356044168211909 -0.26181855134237763671 -0.55023271082107039209 0.29150443534802278345 -0.90861218498398399479;0.84017071703487722356 -0.20248185301271384717 1.15481145667334828 0.11871451914082489787 -0.74849888849616752484 -0.18403399346124579838 0.82872793626381235921 0.24860880183542527488 -0.66797189553707214671;-0.76075051822711947658 -0.4095415086772516422 1.2905340658203228177 0.057772571805012745694 0.068858066919308791309 0.6728122057956537061 1.0928467479598376055 -0.25580327844571315588 1.4387502516691472731;0.15434882680618422501 0.79252392999952836483 -0.66474233205721111606 0.76641679234741821869 -0.27661770663093049327 -1.1672639627828131914 -0.93361823089243556328 0.70367382219830465484 -0.33828317164523913352;-0.7390044095339207697 -0.039789369374823274628 -1.0408185326805468041 -1.0160577299521558192 -0.61279635041440583265 -0.48341555671062719224 -0.75103215864176953165 -0.69446498784664456583 0.58621297863358134972;-0.15033070155390587663 0.24016309541165614672 0.71728504321539476862 0.40342118344975436139 0.39084313496711003966 1.0079765699586680228 -0.082524795739463502331 -0.81559537588099728644 0.96394474786094586083;-0.50752333145266081971 -0.94437262374490171801 1.2293524853836317323 0.47681885661725337267 0.82621262712616683199 0.54637892546402322402 -0.66220494620993208823 -0.19953295296950335214 -0.24069571895926858418];

% Layer 2
b2 = [-1.5115490693300035474;-1.1440972169811092218;0.64248778584178833917;-0.085881475521135633433;0.18651467428964435546;0.072253607278102066624;-0.54070954054774444941;-0.90291507171458196268;1.326128957156802235;1.5491622629821388824];
LW2_1 = [0.21805155124139991019 0.090390466563570304181 -0.73174141645173973458 -0.0085186224382243318221 0.10582098076020039767 0.48553807624488842798 0.72798594691332763063 -0.19691127675831918142 0.75408678779655091695 -0.084002866602880491009 0.4911915568167897761 -1.0593512275205008155 -0.19181461107450367698 -0.20172889679578065447 0.8437582326223053153 0.15633242957204626644 -0.66709393565637609136 -0.61631762036291937168 -0.15453453405676617627 -0.28258671944325097769;0.15850136887779153749 -0.14173999951296917255 -0.049688700594090265406 -0.45024053053506840616 0.35184871297770414778 0.24547078956287088358 -0.0040993725084638617251 -0.11825326622430817891 0.32513263126213298726 -0.037472346951353451006 0.60246962006931725764 0.078269404784666707364 -0.92352297351531786873 -0.59656228243728770533 0.23616893266203328738 0.48379546461911809851 -0.038411975737712010515 0.42382586710897052207 0.096311692404999760253 -0.72498238159290573357;-0.17468702969000052261 0.25165111002172430021 -0.21484083230457126645 -0.30879996188370090193 0.30645900407532089549 0.60305185456521315235 0.018115659183753476946 -0.05562784373055189302 -0.67357285208455719427 -0.21455427602092244643 0.31930178452581187143 -0.20537690361789243121 -0.13321315346691403603 -0.61879776771884764663 -0.02208706204705870868 -0.053316211950514634521 0.53245899664018403463 0.76780840176034403921 0.017620739172330049382 -0.28749791301510685404;0.1354293476716375566 -0.60886647347347511161 -0.87011367479550227877 0.25229709663279453746 -0.55592017850498121057 0.18307814429961372094 -0.21296226372966425844 -0.69542800373949698045 0.27980624218883326515 -0.14813120521711189981 0.25585690046284298438 0.69051257870534510364 -0.11390238579559029686 -0.54846980207699491672 -0.13661164019503641009 0.43233281803557704892 -0.0027397382712874146504 0.55663384928240189353 -0.32815334905966397905 -0.28811158556497434846;-0.36613972840310432533 0.036502971447717663667 0.37715178327578857687 0.38700960791038313547 0.16693954981129038861 0.54442309041629521893 -0.34574735692980657076 0.32811424949664730333 -0.60657892457185513813 0.8301054567491957803 -0.38332170394643877431 0.038205466854915506869 -0.36725987122021630515 0.25917510989693604007 -0.64853483020211177834 0.63381804693300825004 -0.16973003574203640587 -0.37208532840989239077 -0.49427672005580608472 -0.22064226507249781739;0.61785787767710786955 0.42822719434494449509 0.45893627986406460018 0.25097681737223603848 -0.33879857950089331542 0.062983036123761507175 -0.091841804708284610625 0.10482073466549227114 -0.58800013775264603488 0.61910422999360437135 -0.057428324816706212419 0.35401561554933680398 0.68164698977616988707 -0.72813161734946507675 0.29331677397349426029 -0.28462547065341003982 0.60555265114385414815 -0.26528886797173567569 0.013255866651713849383 -0.44459769676024130103;-0.46215527653010191056 -0.06780710809145051865 0.40333522639194568926 -0.034954205703626180235 0.7420708891638174709 -0.45954238730461777207 0.25374482518093111061 -0.63840689092106250868 0.33434208321167424582 0.33881322850867867658 0.12798871679456785833 -0.38714717151225153113 -0.019584796548870408994 -0.36121180811509528974 0.35701573173106559977 -0.64427420887988229303 0.4529986415351501261 0.63038580913194686151 -0.12766237242332428847 0.2221322796274748379;-0.72953916329118317918 0.76574397704102870055 0.096987491854503352084 0.2689812546444130259 0.16394415376671514495 -0.23853849496861362356 -0.55282219249411335138 -0.42659301138663902053 0.0072580213496660746578 0.63031546102451319058 0.052560773688660404612 0.82365890351693216154 -0.31958800097604345147 -0.18104342183666893851 0.070975117484278926749 0.14347982002206749463 -0.022793708815046359595 -0.16498168065731549925 -0.7003204255672724754 -0.12062295983318069292;0.34024368236756596939 0.52075596620302455619 -0.51475006827429559131 0.10134996894406225754 0.49725935913593499738 0.26518406314419190606 0.41613051041819304476 0.3903757109987818219 -0.13642439411722284692 0.09626346785792243288 -0.37252123244990942297 -0.18779005610288707073 -0.47455688722597011431 0.44797638634610265074 0.17551781761369603108 0.26002473509634926874 0.21947047340150951933 0.13120583514510178458 -0.52365663895632152958 -0.4530592173597812744;0.24896896151530728547 0.2180165551872375318 0.39109626921529050403 0.35719022898613050909 0.093845797823889617884 0.19637434316909976872 0.4895962809015926287 -0.037340973954522731215 0.66248863393525503351 0.41389467947419011917 0.30052563132170750926 -0.15901675644393176157 0.12377381970181094983 0.27256959413222298094 -0.46534645304034305546 -0.64377690336892157141 -0.034696005528751287794 -0.24418423206291559047 -0.073530645882186135287 -0.3072436664331718581];

% Layer 3
b3 = [-1.8414430444254077379;1.8331458569281620097;1.4336105093403987976;1.445089976924154751;1.0119377710806773951;0.93615284192490955117;-0.84916996900287533556;0.4140704432836946336;-0.23294095676580842125;0.010617398125938815046;-0.080905789350748269495;0.25129133206775067233;0.5099144261955125268;-0.72539136580807683785;0.8677482879666713611;-1.0233707132721518995;1.233630938560171586;1.5191862908717788105;-1.6197392773023462365;1.5890659252920320554];
LW3_2 = [0.36691728879682355968 0.6407981797943371749 0.52740496332897257581 0.080913872540840467429 -0.54573401472443083815 0.035782315145130416667 -0.50184378468625956415 -1.2194188705344426449 0.91831408887130860919 -0.20517749241797347826;-0.89119790501593276755 -0.67229169752267170512 0.79610184519085358534 0.14197216349539870661 0.087531191478783701432 -0.88711942783522723666 0.40107940424779758848 0.51410878272161952829 0.48677695569748091753 -0.67700739020368716492;-0.3769066335898893505 -1.0718360678518590312 -0.79633997027452463335 -0.75405702414944253409 0.32973877739669427145 0.47507258205916363947 -1.0303864306366157244 0.30955374633416987695 -0.38520039407458789293 -0.42106304338602451587;-0.87353295248117124316 -0.15736422076022055228 0.92407259461905177922 -1.0779125908503135456 0.90507677333739178227 -0.028135376823191397128 -0.90096971372196954508 0.99095865792789494808 0.37744885416762619101 0.035649573292404521108;-0.63718122340639915535 -0.39019859694916303461 -0.92953470505490665143 -0.23923037088261042693 0.59033676833202586298 0.4078476190842263982 0.32579029776381124295 -0.52354574326426717157 0.70878973456950788989 0.82674849580110965075;0.14151758130421834836 0.058150416119025598316 -1.3389242064461648329 -0.14124008041265051494 0.16273336035756966189 0.16208754202914227305 -0.6743918014678463857 0.8940392512349107923 0.013468794067723836166 0.37796033396760791989;0.58504937989631378148 0.68585846821588569711 0.95467332543480198925 -1.0017904406500981462 -0.33739094124738355784 -1.0013242929088639332 0.031936569993658160682 -0.60242189603722806623 0.16877141731664355162 -0.46070960634081720153;0.36796255425231200187 0.81975434905694810617 -0.13958843716866473073 -1.1031551964657004827 -0.14530270331760417046 -0.21018468046356630907 0.55077130606553748038 0.79982195759544449931 0.073544217593947053269 -0.60567344431886005474;0.869194396230095645 -1.0539278844685797676 0.058522073592516793417 0.56614611471744880067 0.76342425317415274488 0.28685941405610304589 -0.16158925441774132925 -0.63981840594044614434 -0.52456341003338124995 1.2753378339601404434;0.66520968647576461663 -0.62568835577171533213 0.42806079684521447515 0.97397520570607565293 0.95814329733539338463 -0.8334297268083709076 -0.014794877835003401173 0.46930413145468830027 0.68822912307427541734 0.98855741474376424005;-0.72438554890230266725 -0.51506631010187919895 0.89957679244802057905 0.041605873514108319966 0.60458801995422351006 0.33624088165545307216 -0.32583565055584567949 -0.83093457805728143661 0.58252356520790682382 0.046086859530513973882;0.88871155197110673907 -0.38843772842222051844 0.93457049795736935049 0.2572571038116204245 -0.0066125794133443313583 -0.74119220959941456428 0.097044241245359819104 -0.04702657674366390872 -0.47118150348295079199 0.79067644644905243911;1.3129213210376828869 -0.63107865487041825414 0.59594485220774595646 0.29436170504121145219 -0.24013440572900529579 -0.39023789404601444408 -1.0327128954080788681 0.39511016006811866541 0.28194954400215543888 -0.0031081874431565792438;-0.73971171112229416877 0.20229739561950971227 -0.024700999839780815592 0.98488947562092032939 -0.0033317072718829290889 0.31211116000742755716 1.2689956879445405402 -0.1863061514971593724 -0.44154621537224797434 -0.64476986638684119502;0.061232259841598121741 -1.02067911070960049 1.3800604940307179547 -0.24505818062523537781 -0.30141596747236654164 -0.10427071489114753122 0.2617668929387279575 0.81626696660417119578 0.44369916139773390995 -0.42329803362305795655;0.20760540951076464355 -0.35441779933293171556 0.94995979536868802029 0.96218431912882973478 -0.45069260816491074628 0.19194556433512630078 0.23526656019256902974 0.8203969768775971616 -0.67321016898344065993 0.27066813979194004336;0.86406400106084901847 0.9154033605984408517 0.30209740379790545051 0.85129736560485269603 0.48261063536020271103 -0.98127762495182635494 0.8661953983790217082 0.020582753101643036509 -0.45855672469961161752 -0.35069680133793496024;-0.058858254597811701658 -0.84415511109434160364 0.15085541991679315976 0.037328641898594014381 0.88809318662193925675 0.78932986579147690342 1.0028142661230490251 -0.18063151692223694544 -0.023403750273243636992 0.39293229436900423135;-0.22250337152636129323 0.60842203640097158868 -0.77313049831910374277 -0.6694742313556856228 0.7274259241777294438 -0.24387705245279997501 -0.86315348561831628516 -0.40687900804256821319 -0.79676224145211249628 -0.23212895643794867473;0.74060168211094812296 1.0882580274976165757 0.23415641742785980872 0.19140988590507956868 0.82232222601351745439 0.35625324816808290329 1.2421285878765830901 0.22310806201274818727 0.0006700536768985167202 0.35099307836056636845];

% Layer 4
b4 = [0.40105215265178062456;-0.097903195780659368896];
LW4_3 = [0.31901781585242994232 -0.28291599373275450047 0.46231009903530845273 0.15542242697052982559 -0.039432576980261466182 0.23667148083819986026 0.50135673391193658066 0.91692984637551022686 0.78115537225031728141 -1.222579774694218635 0.44834262059780322085 -0.96873074128939151706 -0.10330021542339679064 0.55701687396060373114 1.1575452554916751957 0.5704230296204124695 -0.22074528337514123799 -0.5449153545322671377 -0.29717504963236562876 0.77014832324872917191;-0.36933746767316727455 -0.67460178300452489086 -0.16063039028449560552 1.4514059318476772997 0.37158667101317838233 0.19622107245466519077 0.1983710149263528677 -0.45346520837854498165 -0.50064671016162198836 -0.64931504699315922835 0.54750374736667783981 0.58831564128122304513 -0.95891502606243383955 1.0342914285764788218 -0.29209125579940742323 -0.1225494726356333719 0.28640916371496039083 0.57863118863036955286 -0.2510953060301275297 0.30325151594260246757];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1.0000000000001;1.01639162834449];
y1_step1.xoffset = [-0.999999999999798;-0.967745447940794];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
