function [Y,Xf,Af] = nnmove_11(X,~,~)
%NNMOVE_11 neural network simulation function.
%
% Auto-generated by MATLAB, 27-Dec-2024 16:17:06.
% 
% [Y] = nnmove_11(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-0.801945638638892;-1;-0.881804843746703;-1;-0.973682979654431;-1;-0.871051952961493;-1;-0.96736142527888];
x1_step2.gain = [1.33937173704159;1;1.06280946541617;1.28680884651708;1.01333396529071;1.09753168206265;1.25325738564118;1;1.01659002474164];
x1_step2.ymin = -1;

% Layer 1
b1 = [2.1101785811159414763;-1.9124362780424100094;-1.5934220843956241609;-1.1949824380123588163;-1.0725874245449751321;-1.3048213742876137999;-0.15221600769401380515;-0.87007061932521945202;0.1686603359178068251;0.19128017075699585425;0.022149289686186027226;-0.50185191222434588632;0.24667100272533820648;-0.51995524716831642564;0.5316305207971795399;0.68673780890521018971;1.8002352117157900402;-1.5817180898470308836;-1.8541276055344402263;-1.8951536861422455527];
IW1_1 = [-0.053637464939993759194 -0.47268195989917033417 -0.84531450924346407394 0.95855577304085171075 -0.55244315659035614363 0.97335707337200394473 -0.021020589197089611239 0.45517169491658138192 0.61535080139932363252;0.6714837134725265555 -0.73492930151461866028 -0.39730079310398130898 -1.2460855046791634582 0.054814382666282961132 0.46165904423491960218 0.7021024157000954613 -0.68610255215287996311 0.10599282288159171672;0.52428678118944826991 -0.47371852595266489283 0.042525959774368092547 0.69436393884095715112 -0.86335593090318119014 0.86052308493795504063 -0.63944844929034116987 -0.14575768507740249902 -0.74123250774866678015;0.13806796271162016798 0.51742379736969801307 -0.27865255068338667943 0.15649833717264341471 0.51212263475152941528 -0.62501713061210795175 1.3005750421130408689 0.090597746975184245688 0.5378563667494464795;0.40461396067233323937 0.4978128858803710366 -0.74371592448223888816 -0.48808488050159715144 0.96689931515196414491 -1.1660467163835575022 -0.014152695813875529329 0.40241020407977634576 0.19957888570523063532;0.8213961718065881934 -0.91443863471348696415 1.6275645908518405758 0.85946094110921644749 0.3588281586057576189 -0.97613129517385033296 0.052446019320944732567 0.3404335519186792447 0.17438220173133903157;1.7286879460353805626 -0.2219038477295731393 -0.93446607548988491754 -0.46843200535328866074 0.91871979383378665762 0.08539593722660804298 -0.71890366705955954796 -0.50755753916923629365 0.22835071255210534491;-0.030413660525025476566 -0.9575889718398765682 -0.99932160830588656619 -1.0047923735857287042 -0.49523380221370727483 0.61588425213749919962 0.058538690692536102245 0.38853163426634224065 0.20837023978066654406;-0.38155619976626825585 0.26798923426775134171 -0.88535711199146382988 0.18513479127841483973 -0.65070580356061513694 -0.65729395886966923701 -0.99249006797411698511 -0.57061748114552590661 0.9770567282715506563;-0.65268251064971494202 -0.34731633982302922981 0.42765472089803530098 -0.80585639670496467257 -0.76672168652493111196 -1.0197583687752755921 -0.29107763384867829659 0.21664348832924310018 0.19698617307606916538;0.1745178063051995021 0.080491075148740626188 1.316082158855417239 0.89492264376124341929 0.35167371923507234621 0.31893802230209405968 -0.24996388445194589467 -0.61776126888919846714 0.69057173317902342813;-0.5548066999592613513 -0.052330520052279956567 -1.2181959942510895978 0.63426795165853822045 -0.30644981137086391154 0.54671552055867078668 -1.1931447537092287892 0.60801325434987274487 0.58905268929487153429;0.57853523487920410773 0.36290433968071528215 -0.62306977972758281759 0.87213589696136595286 0.97072893510845914555 -0.053550848742429310589 -0.026798445781610238936 -0.16601916192789883953 -0.42299023573564237255;-0.67770717433061677948 0.69674919033759274978 0.88658632785433355572 0.8899630687407397156 -0.43240461271647911978 1.0108728470260850418 0.13102338312524572372 -0.399823486929573646 0.24935825359274127466;0.76482481215769793081 -1.3446399066288698965 0.63612618540833842928 1.0143481466789605605 0.85150478203756274631 0.52423881491616475259 -0.22933074948728721099 -0.38010823257783055151 0.10175873364281290412;0.11500817484940421831 -1.2253668793248861935 -0.61993601386158170286 -0.62816566855988176243 1.1581366611970378422 0.34483423079024638769 0.48057335204158607711 0.43817417688547477539 -0.47121985071408717394;0.28127686103526594597 0.064200149574862280799 0.25422166306253818346 0.51702628580095100208 1.3255622070084744912 0.37882593256381830171 0.6903487559828749287 0.39172051286732406661 -0.60080358097949759788;-1.1698509277835182907 0.29944803821769644392 -1.052976666130598149 0.54233472050651987395 0.19507132727917461668 0.58083583649044201458 0.1343544315911860132 1.0670706782810166491 0.72530361636718276852;-0.29936932316620623595 -0.52115077331441828079 0.26099701687782933535 0.3655926825616483411 -0.88328593181421499736 0.6711517789773217002 -1.1654876935779709957 -0.71387321104566980878 0.35148478616249895223;-0.72406562909077232248 -0.021541779160333791865 0.92154814928145634134 0.06678747137233925768 0.21828761112777889108 -1.0402727474970876465 -0.82065491588687966562 -0.53994745396893717437 0.68967307562558899381];

% Layer 2
b2 = [-1.5904346766978791905;1.1971864140469432591;0.94693487595394976175;0.46522576100158369306;-0.23679524477237401392;0.13385115424039184528;0.47583839787615289652;0.91740107017705530001;0.90610193764951496576;-1.6910455147147702704];
LW2_1 = [0.62208714758545335943 0.23776632281489831766 0.36684046549276594362 0.36550655559493810953 -0.40163315673920729765 0.045844589436392892134 0.29102832723279292715 -0.37480616403625754973 -0.17235950165302249548 0.19520725637722707857 -0.3045166805911402319 0.18464738489576332237 0.21692552930532285616 -0.42551597761103854278 -0.73535379438670933627 -0.30079221826105440041 0.026950081590621791788 -0.38397534203522798446 0.17334625231712952331 -0.11290382695080143638;-0.012416398211471491725 -0.52606843768944666628 0.076295354276820742667 -0.22390922744400112987 -0.40064310702597660807 -0.60751356745357698586 0.5504538993621393983 -0.24901714871297736531 0.4216342583473225436 -0.18234100551339813001 -0.56615973022910726087 0.12970394827661060888 -0.32253747340230548568 -0.37074460188204488853 0.2894091377860054104 0.66422227860154281487 -0.34833261954117178405 0.20216352489831718175 -0.15570318667821525516 0.15508349761482714824;0.40745598388441306437 0.22102678331499406306 0.2927254201025915048 0.41912340519505131287 -0.087569544214045308417 -0.56886980080887661337 -1.0744527597405906238 0.40659988875841429623 0.23729680581627327074 -0.094258623826932397272 0.40883407366398810678 0.66151993559237753928 0.12087450763043716684 0.51303933701001258605 -0.097390379620718697806 0.057692358015279179839 0.62708719115914191011 -0.10849170170169698812 -0.40187281681569464453 -0.66784214615262782466;-0.24366489215917969124 -0.0102915220001063238 -0.15423332233019787507 0.23554011236172334165 0.42012345489081232008 -0.79092613628130115089 0.35647823668228656446 0.47696604031203304608 0.055604782768371358026 -0.29069340267332027805 -0.37532997249254096417 -0.24943196672464137964 0.73281489933287824456 0.33452089943358970237 0.6132334466131186268 0.68771145057453553218 -0.13757657370350440118 0.62264955837962121521 -0.078713566680163674083 0.058158777615302470476;1.0521763873013134649 0.011885442123683608029 -0.51271223811287847116 0.20462517063630317193 -0.44845591324932027044 0.11499418218946109993 0.39716832455785755496 -0.45389638205339949417 -0.2226889135100361683 0.33417418220172501186 0.20268946149327365935 -0.21704425084060913198 -0.20622239147861998187 -0.42314729369003084569 0.79194814273587710307 0.24847774603685013339 -0.061659473114126103765 0.51643977928507034392 -0.10288551317492553028 0.3735742885025633564;0.31357263663446838242 0.18174871364731079448 -0.15763466886887284035 -0.21110413125662064182 -0.4550271536998271027 -0.11219954828090698828 -0.22631549625266980663 -0.13917695958809786494 0.017538946999631703505 -0.33200061239465311624 0.69108659286967122348 -0.25147642223047017573 -0.056067804162082894581 -0.11271727505053091845 0.78746064583160235717 0.3306311766938361818 0.61709375738044713877 -0.32275611307152657359 0.089345278592659310712 -0.10322374710547078946;0.28257383808240693623 -0.30293358450415763805 -0.14847780544766087107 -0.14464275909296919753 1.0020586086546630078 0.99949703270122569609 0.69057281951316629165 0.10593984959421803849 -0.052989748942779753282 0.053869535883581246005 -0.27854064510074938443 -0.13378548090109376734 0.68305520542976339016 -0.45846712746240564362 0.82126618901448777965 0.28284801169191270409 -0.078311118658626333033 0.069167259549748255631 0.41492317172976678208 0.6557142041561866419;0.50761604643645164003 -0.16759558004529509501 -0.42919924591935265656 -0.31899629896629522197 0.54907169894756324702 0.077164613572002230257 0.59424734981460725081 -0.46459420234450560239 -0.055344186924275451389 0.55648738595435198739 -0.065736825477426194531 -0.94921959108247722092 -0.64562713624264833623 -0.21223674884537463425 -0.13335208907522910771 -0.78958019816688473913 0.017140369274408460282 -0.29488226408142337309 0.12709777617835482655 0.24783225540632658479;0.048438587409044109311 0.73584386927072265028 -0.076222046155511050114 0.3498441554899361372 -0.3237155600946756695 1.1643322727744584988 0.51282686572254199131 0.17170753682105360793 -0.073886889174357928134 -0.066131258381642965549 0.16812681870489351588 0.17243237877244599332 -0.14720387433971249269 0.3508351677476515551 -0.15718808078300855469 0.44566702262136248525 -0.13899633108751141553 -0.31670402906503691831 -0.53787504418126563799 0.33141940091772381649;-0.12276804909284715073 0.37496533864930597924 0.097403568857835895467 -0.11517149417827819702 -0.079427532489518198888 0.13785394747336679466 0.733147058585390754 -0.16214974148603231163 -0.7672349302842565999 0.3382121877080496164 0.73483562986468276002 0.47500226047380805783 0.20943081205237076836 -0.061831035549907334414 0.41323696662192005435 -0.42647074744918889166 0.26240837842404246549 0.06842345330855398311 -0.063106942389003245486 -0.0053244260040097683706];

% Layer 3
b3 = [1.9375798286327405862;-1.6974031762861949701;-1.4840009993562477408;-1.4391294508442387112;1.0971061297529611789;0.90306335034929363648;0.72052800135452721442;-0.4356538919433960988;-0.36663905518336764588;0.16380177869613199437;0.076285167404216924769;0.27997452178139348167;0.41226913392171565809;-0.52395110124314181466;1.0207933265447530768;-1.0339740101775687364;-1.3219309779696519769;-1.3986869597191091685;1.6440352785576499706;1.9009216220396984998];
LW3_2 = [-0.7376823638829723695 0.45897641853154946823 0.31472098701556366906 -0.12472683228769770869 -0.50736246600542955765 0.59024915128287291921 0.79389833215171734526 -0.70750763192550281122 -0.59040012562626809078 -0.77608737239524694385;0.73275418602104891441 -0.83529786666296723663 0.54349599650727953293 -0.96736072564672159757 -0.49677201422503891592 0.304102098222441386 0.56858883620466660336 -0.29517756898599822879 0.42264425962279034144 -0.34311208371448348453;0.41150861126830307057 -0.80606459269223196262 -0.53759724940267183957 -0.17813224287900120135 -0.83183690727075010329 -0.51029347425275140004 0.43076033902407140364 -0.48386453262082779192 -0.79510253540062025834 -0.64348554101601385113;0.38779540822731223271 -1.1702680033090657741 0.78382030757724752146 -0.22574307386981626311 0.50406755867799868387 -0.34198346005547780591 0.55457287358641926822 -0.15195780320970952992 0.065881865391987898262 -0.41320169986571642085;-0.3345799169075248658 0.58563326211022437295 0.69922435502948954156 0.95160037602380476152 0.59111722104183650472 0.63946733528150079273 0.38913188609000554097 0.16093700912227701383 -0.3586898889911331878 -0.81944373392538771839;-0.92114377686587400884 -0.56280809105233542411 -0.29352632586970900386 0.25232942326130669564 0.76717638361219797627 -0.15740647330588769526 -0.30781498779760413376 0.70968550537918739796 -0.73774594629512491029 -0.64167212449652577533;-0.23314092511963957488 -0.60390574948012953893 1.1637765160096853467 -1.0695881123521406852 -0.028504410585499496966 -0.03188982249149514836 0.2067702951532963962 -0.5764849644450127375 -0.73197878987828268738 0.50837569721290620794;0.7456460321503586286 -0.61071081615007194454 0.043561606668452428071 -0.47534729034748213206 -0.099848866494397781057 0.79668222285713119479 -0.74891076926781829926 -0.91132372045667131566 -0.68496887594854027892 -0.29969332537467763267;0.93395208320110945088 -0.52458981075433919194 -0.63230913468548788359 0.00025290298540479871914 -0.0067792492099047856058 0.027830215069123143135 0.88500987231542560529 0.46254750897806112819 -0.83280529825976634672 0.76073571016957364233;-0.34928487145729825158 -0.50415670204402396326 0.64633993648807119836 1.1562079443115347299 0.51309849791667250241 -0.11345209007210557695 0.45642690557713033739 0.19128991909049469777 0.69020674993798991625 0.8240693840038506579;0.20878916735671232408 0.19618466914926241396 1.0848681292430124579 0.88380163371868802891 0.77794700241184389089 -0.34967847498229670533 0.79043733610407773682 0.25938422267830774093 0.24210082696346291176 0.046153986156736347135;0.71943756182995810544 0.62536640618560213056 0.49352213924553511859 -0.58500371921861937796 0.30348076558311604112 -0.20455700213134953014 -1.0123872541522824786 0.24642571328347590009 0.80914021302752636711 -0.52496932916603489261;0.71170218523963368895 0.64095405852639020239 0.66653566363261296246 0.35071621185245838159 -0.83543383873919641047 -0.63065129446207546238 -0.48521619752460704023 -0.49797482925848429725 0.21202511059547693439 0.51062620546383929998;-0.68859171681374653495 1.0224062308465455828 0.29431883907517597532 -0.82149306056747906091 -0.79638533025859925552 1.0331003711974782178 -0.13143493872004358147 -0.42219228303564587668 0.53915718823744263055 0.19122324824594671977;0.60600309147982112101 -0.52583399888059334515 0.57286325388225045607 0.32526226658582668705 -0.58474022036138317837 0.27614981868444460344 1.1414035912586288912 -0.75998031514802155684 0.26619547179104957602 0.42316964587935446129;-0.6173662410906813891 0.44128335221082631845 -0.37931334509993147597 0.47302948096336089323 -0.025680659534733966953 0.76872868912360947657 1.0118123760407480294 -0.73272889234702454075 -0.16976259283290426327 -0.96968487193185903816;-0.37606777849056832741 -0.99543779377147623144 0.80001812003177275034 -0.81755914960800046831 0.24382552598417914225 0.92704091315928771611 0.77932640738144187686 -0.12975084063205927221 0.073632839983865980282 0.73082436249817339657;-0.9980120655214645975 0.17566805235756066672 0.17393574087933807992 -0.39082589778663828772 0.73270129070314404807 -0.61449943356616965051 -0.25971094573655872928 -0.68162266593641507306 0.98683489343426700202 -0.19323338098897374637;0.41145495231220258203 -0.94701164007421911872 0.092793125064544790259 -0.85304147946466857277 -1.157621957735146756 -0.29879556160260545283 -0.80024054716170855972 0.79686473193002094195 -0.5124481344522255899 -0.4898997559000076718;0.48294891867422334863 0.8730419579554664633 0.86677118352749693564 0.90919075004108296234 -0.35013736119696003968 0.5834457181654982838 0.16584479506501384471 0.66392601135695161751 -0.26417693548477044763 0.10543155346483321089];

% Layer 4
b4 = [0.4350422732320186614;0.24231366932260489655];
LW4_3 = [-0.7662125057688909946 -0.41158107156984280461 -0.71044508243246184964 0.30870123476762612036 0.22055546291169345063 -0.047139345946859333158 0.88434900850379738468 0.45156819818835780556 1.1378880173411709542 0.49677022801372566763 -0.32584619980116374949 0.52886401158752538443 0.017941772403119074508 -0.84580365330032702964 -0.52924543074971341916 0.94412143402385029223 -0.24435081159251162419 0.093770677259337242848 0.44532560129717690955 -0.036376460947191699424;0.85358716556616121007 -0.81090972299696528758 -0.44129368637478583182 -0.069478990258410699976 -1.0538626179366235025 0.14385950791252932746 0.48068724746657526259 0.059106744348364631536 0.24311069982118679866 0.3787265906467953136 0.43996031635045623753 -0.58510308019896817289 0.33381967511616272848 0.24649352709326088906 -0.65403576525116591256 -0.49819631125582913844 1.0383936027083997544 -0.72182077875799843802 -0.28288458246243358696 -1.0688815580836268371];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1.0000000000001;1.00183681199409];
y1_step1.xoffset = [-0.999999999999798;-0.996333111396797];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
