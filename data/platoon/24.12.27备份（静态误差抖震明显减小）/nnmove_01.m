function [Y,Xf,Af] = nnmove_01(X,~,~)
%NNMOVE_01 neural network simulation function.
%
% Auto-generated by MATLAB, 27-Dec-2024 16:16:55.
% 
% [Y] = nnmove_01(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-0.321220646789819;0.0356049189431651;-0.639361590405926;-0.695257580172501;-0.193737586122427;-0.716167654575603;-0.580635500565854;-0.659597905524758;-0.768398236364992];
x1_step2.gain = [2.92257033440462;2.169791620981;1.53491027182406;1.66054675307167;3.85465281572799;1.56383361951151;1.7016882792029;1.44593265515646;1.26667977220768];
x1_step2.ymin = -1;

% Layer 1
b1 = [-2.0003758945295100347;-1.7568041533752178918;-1.6767446840881314873;1.3443768939007083585;1.1181570449893631913;0.76136034013694187106;-0.77673263594077013305;-0.66032032237738536029;-0.29428691440882576158;-0.037045173669096376212;0.065287129974941515709;0.34341346336704675624;0.45294277965460238988;-0.67678812887009476285;0.76356953542573458016;1.0811304147113216523;1.4245530471689251684;-1.5447118149062246673;-1.7830791061085806692;2.040546206176142352];
IW1_1 = [1.0512526353526461254 0.80874088444912584084 -0.56882005228252052742 -0.45220112427157077573 0.070898066853915850394 0.49268606000739367801 0.67299588832313061992 -0.38615370875087401403 0.77975172438067863467;0.29549187492332718019 -0.56055468169554689695 -0.76958567430228597139 -1.0265138696001065988 1.1186009608088178791 -0.62216548760017742481 -0.45974177518896985895 -0.10991573564083814696 0.17859969439124290247;0.88102558190357138646 0.16958295096098663368 -0.98162026239501432023 -0.37296408078630233218 -0.73816082484891776261 0.1122534102729347838 0.32461788571762545397 -0.81408142683091988534 -0.72455792712037681014;-0.32260651309407273324 -0.073178775510995719422 0.95491185838399339492 -0.39241681019409468956 0.64839858845459918957 0.81111231439110820229 0.23468757354518343661 -0.40369386124310435715 -1.2563565060436834298;-0.16417916828842904486 -0.97332223628669156668 0.4400013815030461295 -0.18289101426489895452 -0.57234974180641129404 1.0375923264737987317 0.74701632892126756946 -0.82948870753162362579 -0.040393917551677427369;-0.46288042489393810275 -0.22428872201739591397 -0.81911987866304680761 0.52616614614385548432 -0.90073411939237990609 -0.29386497921465271066 -0.16734235749078724131 -0.52400741748634460659 1.112263255633891168;0.48810282740860749806 0.96149816967817469671 -0.098641223048755125036 -1.0826313335538100269 -0.27864246577974927099 -0.23047208101715632722 -1.0898175992748428964 0.10689589406305463615 0.52037230213264984435;0.0056228562217019092961 0.77087873579129340129 -0.36655974877181057847 -0.99066016130219414215 0.19263649202131383209 -0.95326669447087841736 -0.76487100430255994254 0.79833574302828058666 0.31151903904438654758;0.95992987800093976247 0.89421205854720309247 -0.82208480161318653323 -0.93837657385951023237 -0.48698965839308161474 -0.25686450786970199678 0.21178275379384947641 0.41670218694459293385 -0.012027864783276685789;0.005527786154795870377 -0.14320836414598073216 0.32601173434813318641 0.83008473705690488664 -0.89804901742297404965 -0.92900962996474201194 0.53809305810322238806 0.0077765723980617457167 -0.973812750524645665;0.7261568909756861423 -0.74606506840407382786 -0.92261634473339415585 -0.53570033299717578767 -0.78488572874951068048 0.28187920358072698912 0.58895322860600474169 -0.14941350661191901694 -0.72258287345210747699;0.09094690103019820171 -0.69659802154778527328 1.1032121869725508567 -0.87291688111755616486 -0.11664375689202031994 -0.49642436470686118755 -0.097993379255272086703 0.86119280594115821259 0.5844807844582571299;0.060115251260294946811 -0.89752513173980785766 -0.89970576855842365749 1.1165074166958619539 0.37705039964163855615 0.57072062291435077253 -0.044896450626881224955 -0.75194325595391853234 0.190813362305902956;-0.37778315280983676416 0.36363272778388733286 -0.79701803320018382859 0.24075415264729690956 -0.24030314149730824802 -0.41961608846376935444 -1.050331186566135111 -0.73331219160639427024 0.91846105712310155411;0.65709050836547089336 1.3316832145337598181 0.27532449784051038488 -0.49134709205283866318 0.64070277978989687018 0.18981612728169994231 -1.2048358109544443639 -0.2476456094506217509 0.46025055826805011394;0.81048786332392219744 -0.57029555253936869974 -0.4246820015305485807 0.67425379809105756568 0.34777480277461436664 -0.78878943996724504295 -0.3540693567884160009 -0.71110681439850287333 0.82273145433468530818;0.33213354441872627865 0.1335273283730097349 -0.17234011965279735779 -1.0987065088128833423 -1.1004656589522003873 -0.86470109403519990199 0.29003296338550338396 -0.56683707917375580898 0.20687047054662782708;-0.91146088803775149323 -1.0858670968634354104 0.37735214593769961233 -0.37607497831120711984 -0.50058235338006262793 0.20718147952214979735 0.62312730026510410042 -0.77720557739737305969 -0.5859119545051381106;-1.2363260745383233274 -0.0086456756010214984298 0.65998468715517966121 -0.21186637888933326779 -0.55649312030554776154 0.71179727303193807142 -0.66401104510232566991 -0.68552964524391390988 0.47761444858310808659;0.20203270930820135809 -0.83775040420010959963 0.67370788235872547389 0.26384586666488341056 1.0284412461042560238 0.55684697303658847733 -0.19174409400613148802 0.8706616210568361991 -0.46860301448362357002];

% Layer 2
b2 = [-1.5919666554556839433;1.1313014252195003895;-0.86065901113450271609;-0.5493881510334849283;-0.094625826100357218751;0.26146688105950255387;-0.56517762220036227294;0.91883509429140863833;1.2026817847306363607;1.5900980819441836722];
LW2_1 = [0.47248702457989183445 -0.36293681786051690263 0.18570183387426358879 0.12075108872612708155 0.0045670863275287468946 0.34155834576915650169 -0.5174341631156434973 -0.30956324817846875286 0.04204824173704700685 -0.35578809428120505842 -0.3644559543975280369 -0.038119331363157510362 0.34306252169794471119 0.10561028938603153615 -0.25940334923175534243 -0.45021333882499048329 0.25225673167656664786 -0.46089597841925022959 -0.36660731438957711026 -0.47467020161777512266;-0.32340008520492274924 0.22185335047003168496 0.33406363089075263861 0.063909852625380014768 0.0056933749287822188467 0.4272273862725716187 -0.10574572591622607987 -0.43729645144954193414 0.24572496750504541074 0.45394947819513031817 0.48793734534300459149 -0.35543077930520805552 -0.32830336990334280101 -0.40958991424795443415 -0.60178148180207990947 -0.62743391025619410506 0.35198910078104345134 -0.064487661391153125456 0.40368622200992976268 -0.25845777431235716914;0.22622878914252822491 -0.21962981703229200736 0.038504312603463292097 -0.14448895523945146091 0.26913819537043798258 -0.20149659331082131475 0.56604801573819596427 0.10130655471436082748 0.067273361098178066642 0.019374422312173109062 -0.52518986786263788247 -0.59416259002990901017 -0.39752340571883892917 -0.10915501872502934855 0.58128287537749534497 0.45465103626230479739 -0.50660159757279410453 0.26746879900888936854 0.44582084179964459603 -0.14470511748597475465;0.044913705797788514018 -0.34791939936350524398 0.59129019721767439588 -0.60535342004464820498 0.47818000795911153045 -0.47109748949551605302 -0.44248042334448917101 -0.16602055013371427861 0.12367722378799519967 0.44278284037718068644 -0.27485831154417650346 -0.038126538192105569047 0.20093623159678147827 0.1272858517201044537 0.58607090707670983498 -0.3696359186193471924 0.1032175706039841212 0.35769792990852605774 0.20658313457436502936 0.23997361996294402919;0.37677367265852140799 0.64050680326100595252 -0.25319461770883466833 -0.37028140969411582617 0.072645140964636395475 -0.38369307738598967816 -0.49734986962490501661 -0.21870594220257336127 -0.1631942138352759919 0.14667702925217057652 0.14125364657230507492 -0.25191122043955832543 -0.12113982794495412043 -0.51830558508567015075 0.62370549855308865528 0.30934275101399749675 0.39481311311003869369 -0.17592331266071456475 0.44574423728760315111 -0.46817402569169463966;0.26723630544935472741 -0.24462222812447223519 0.59353122813043557304 -0.062021695748099528456 -0.53504566922138385721 -0.47327439813781496669 -0.21723485823781824022 -0.3938547532572975185 0.082686466911876282948 -0.40873199767645596037 -0.17658787869309319762 -0.52276716002884193735 -0.37990396791871200444 -0.052355043991184707641 -0.20061874482972905098 -0.47147157441774989461 0.24794260097079232064 -0.084137477552136075154 0.21035966215442053473 0.39706295080077053106;-0.37599514402141442915 0.40266734069829196452 -0.30384243471298544303 -0.55678925112561827859 -0.26550587662086039265 0.41943261173290491417 0.32744993124186350109 0.44701737288426873773 0.11943324676452971023 -0.10842810674341202271 -0.07087207971554175534 0.061706145082458800644 0.25209714547458145217 -0.31601626849198000135 0.72653350321288401314 0.23362323293471695673 -0.5900747696881364357 0.11413573610688799997 0.54626495039592748437 0.032891525581925422361;0.37253525101120787966 0.48727922843189769297 -0.58729377752887756969 0.36375530435058034406 0.36525489156616691711 -0.29725807133829085238 0.00023492388314118057419 -0.27226763525879482675 0.074683386365836615384 0.0045429324916154215086 -0.52460614890204415595 0.083017043515397986875 -0.15056833155227244969 -0.14114495113878083865 -0.18432698819243645283 -0.45967831460091018725 0.11727421106978479226 0.28639975298417030825 -0.66411559222909888334 0.02113619868220059303;0.51191928464415037414 -0.34294917348487435893 -0.50778765803258041345 0.13352388477382456933 0.42880427669732751328 -0.25643054820673577554 -0.42535558786540345055 -0.11188845683153685051 -0.3544334047516731756 -0.33168052616395493626 -0.026277173486718381767 -0.54314833660857186892 -0.16875661375563555389 0.54366777098366880772 0.49236623432240100851 0.25762408614293896836 -0.53245788608086841442 0.14666957281259640489 -0.018075899561785509911 -0.057366691292568189331;0.070539424115168170015 0.13620446916769562984 -0.33604358583239640756 0.58832316682574403721 0.051803803261504556554 0.26344637466792536484 -0.80712483545630508974 0.0029961690465574401104 -0.14538357236699622765 -0.66225445176392405688 -0.36111464990711789058 -0.24488453242387137054 -0.12957113768211389604 -0.26299533154547988234 -0.04799879323878042392 0.11282483384525991699 -0.24949780023855083755 0.75562221952275965275 0.45464876834153139518 0.090980507235688276579];

% Layer 3
b3 = [1.8902046459340999807;-1.7119111197230669763;1.4915416764517648307;1.2858831440812414915;1.1246688832667151026;-0.8911887950841781425;-0.61535719290127499637;0.61976536515283098261;-0.33170787825910025282;-0.13482596172326463679;0.16986880088183900495;-0.4458246954389453176;-0.40375612234823304858;0.72670751843946879145;-0.83375316849475811232;-1.1461285345728207119;1.2698641818972873363;1.6081013137164914539;-1.5608847770549800771;-1.9232391602520670926];
LW3_2 = [-0.67845621975543468629 0.52643398184075518298 -0.60512031000345256615 -0.74393453217593918936 -0.48378682943267142802 0.25707571852192440121 0.56099242457553677443 -0.62317753162373046294 0.67564382306034898029 0.67333775172231158379;0.60019514738833390499 -0.55597090982848951235 -0.73888588575567026862 0.087932683989698820493 -0.53300525239124474375 -0.83537105440586267857 0.79416141547683105628 -0.35292153932472380973 -0.55536581014390806743 0.46648678798126991252;-0.91223913306518966682 0.47605535412673327667 -0.95592870610787994412 -0.62610944336282714495 -0.19045792239157363634 0.055261425737636121758 -0.71216311798984477388 0.6816119522136857567 -0.32381883120879145777 -0.29794983945266573233;-0.27185175196812855214 0.95390349486122660849 -0.52554416177100871099 0.05769706266960065999 0.7379512943298681682 0.55879026056389780042 0.35974332720267299113 0.84323496091405714115 0.57179529623930092086 0.53659378816956815328;-0.88352586090843210354 0.63361923261773300808 -0.13882968129692688231 -0.32269594195062945019 0.68554359437803846777 0.94919776576566150528 0.080083896818763503078 0.71633915046755158862 0.13021341428588445455 0.52961840962874562333;0.66155613260119305874 -1.1597727876526726654 0.33433616937794119472 0.051026031956263540046 0.62673655793216109799 -0.11081535990001499525 0.34472599448791346743 0.61441441752035519386 -0.6651793285891763885 -0.56438419669990957939;0.90203393765813644212 -0.33025445093459643298 -0.57918934278251554826 -0.12623541929588763533 -0.085697555430287647438 -0.87107374826596017936 0.44052191167867282839 0.54906871272357860025 0.32857480033551211829 -0.99269281739819004162;-0.87009267441251691988 -0.20775619802094574817 0.96918108311417805467 -0.50483638002630903951 0.56091030417477893977 0.7096521913649918023 0.170528989198257791 -0.56146998572219186663 0.12733557322211092044 0.67143066361380931983;0.0013606730707023985405 0.60141342564229494094 -0.76058577177688613258 0.96354351946210325952 0.42774944115911339715 -0.3559811863660100606 -0.65101608240153741036 -0.68518011138184276021 0.31178816776565010382 0.64122261851623285622;0.81914079677572471105 0.77342434249079294872 0.69126922219323827523 -0.48753428804473131208 0.55336353749494726628 -0.42554667374792026768 0.40049019851170242212 -0.83648967704614507479 -0.52602668697289278743 0.51223029476538717297;0.08434070589999310974 -0.22791694500028195081 -0.81838122505247101746 0.49827959281104999834 0.39680750044890633621 0.86402297805948058418 0.56010696461900943977 0.78482056393083710066 -0.73845096942398558149 0.37255482853942389898;-0.006083122572449965737 -0.031993173750435789648 -0.34905312921404230142 -0.26117059476694554077 0.76399951524740006281 -0.63537590085514417115 -0.60600584184690275968 -0.71176391422792473218 -0.79946976229009070192 -0.83736715423330476682;-0.55807450357834276211 0.18326003626396211721 0.0037741000848726460881 0.3512506891334289949 -0.72386696469417566302 -0.87679746953546200405 -0.69547431181357677321 0.880170421945638215 -0.74090266980583274758 0.44479405919418674165;0.77616572763015700964 -0.48245923505476995263 -0.25094977120402078841 -0.092149824522064091581 -0.31323410868047590894 -0.95516901548433263969 0.0047127170551196206211 -0.90701213417152837248 0.62755784352212351518 -0.77239639542369553649;-0.1776865429790552009 0.86613641749806158376 0.41172238259517257575 -1.0450511230466010826 0.53802287830387707235 -0.58348913148244929694 -0.59022145327433350737 0.72579810834425495525 0.44620327299647699615 0.27382123043969180953;-0.10786420088365965275 -0.50368061450277079594 0.13134555214352611197 -0.75114562897922809714 -1.3253633879309163479 0.34410537623448761435 -0.14896215631000761515 0.4578252871703317739 0.61899533460067845958 -0.14790010348891921566;0.26822160229582764357 0.60729147413210282647 0.72691748578648007761 -0.75264125285814043043 -0.67639379953001899093 -0.44183715024191211329 -0.26738874968330206272 -0.49478234827840550381 0.64514924623199232379 -0.79100484968813111752;0.46772097846824889356 0.52475340917748103386 -0.3584802288585867136 0.29831901305299146632 -0.74388876235045653385 -0.60922627417205232891 0.6334470140459286247 0.51484695067760388731 -0.97493208633820249709 0.52665280535204672674;-0.43531430878424609565 0.56950607049107448976 0.088620474391961107097 -0.99813376502768969001 0.14942181675328841672 0.69979256295436287338 -1.064204290419360488 -0.69242927028602363482 -0.2489000005479624078 0.57154814158524991363;-0.51626024582228502435 -0.85953108471296246762 -0.23546527412173151594 -0.69621189840171882057 -0.2550424686692006615 0.86173724175222754518 0.23355205118269153908 -0.83504983393212806053 -0.20416890571721288405 0.62464031425888455473];

% Layer 4
b4 = [-0.38978202138489176365;0.41812495947386346673];
LW4_3 = [0.789052147651245539 -0.44784346486703929813 -0.66266656517538657933 -0.43910475130903176 0.46403595068008723912 -0.46438740839481362777 -0.88709548671051563495 -0.95128652691324810942 0.33962439793969817492 1.0234020842110462812 -0.41926246347423018479 -0.1618590400185781486 -0.1106555452856376881 -0.59241452476152167694 -0.42439613349542187892 0.81080558944985292591 0.39431942702510958121 -0.64189603958211938206 -0.91067922646996302127 0.27775737985195353419;-0.73363211609858924867 0.91980521385163338532 0.4509685125749282042 -0.2101334208705129547 0.2386751750046580689 1.0595292124109094711 0.20557023591877016111 -0.31529783382884146725 -0.30067027821273833998 -0.39540487936131746283 -0.88621565958201653501 -0.012319523440717964485 0.64707410225190153952 -0.11274125637133684819 -0.63646060562064632471 -0.67594860148847069059 0.3857501258048214865 0.53371949033605747825 -0.92880687685811302856 -0.5041339296436693207];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1.2404432944356;1.52163970280071];
y1_step1.xoffset = [-0.935164342218349;-0.633395004421358];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
