function [Y,Xf,Af] = nnmove_08(X,~,~)
%NNMOVE_08 neural network simulation function.
%
% Auto-generated by MATLAB, 18-Dec-2024 12:39:49.
% 
% [Y] = nnmove_08(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-1;-1;-0.881804843746703;-1;-1;-1;-0.871051952961493;-1;-0.96736142527888];
x1_step2.gain = [1.13109940850722;1;1.06280946541617;1.03005982197322;1;1.04673144715384;1.06891740597283;1;1.01659002474164];
x1_step2.ymin = -1;

% Layer 1
b1 = [-2.0880540221888930219;-1.5603785248312969092;-1.8699203407236912877;1.4444353496212118948;-1.0750944498031347329;1.0284144221430653321;-0.85356759622992561809;-0.62162343245994100549;-0.2953950592962949484;-0.030266502167821687785;-0.024015710274954117642;-0.35989987770780196286;0.25125053132073793538;0.83265206186888740536;-1.1503123552552128039;1.2370837204233799955;1.5095857952059019702;-1.4582624634585881207;1.8275620101093426051;-1.996429863310152486];
IW1_1 = [0.49717315010916973694 -0.46870076986479686232 -0.80896811977846683206 -0.45177203876175242581 -1.0003075206131737396 0.14072571728187135975 0.81848664635268886247 0.70911576017274979833 0.12783421633095098935;1.0767875487818066027 -0.72126296761342001407 -1.0329912810372798848 0.47568849889746445125 0.52239402313739446981 -0.65728080971266245047 -0.721905950510833061 0.094847367775826446623 -0.59461146206435344652;-0.39683709097864672266 0.63190372437573860687 -0.61496937738480617064 -0.77722855564104120774 0.83763205199038892612 -0.33980235339635134206 0.72198158222035679898 0.58814814743303589495 0.48397469292684613951;-0.99109065129924533988 -0.357888408750222764 -0.20926541290607994505 -0.44168568292163051803 0.80850832442998010752 -1.0207826271563775755 -0.86634876770193158801 0.53712427112301719401 0.24990075527317107129;0.84488470066844867379 -0.60432861832187778628 -0.86792843054930579605 -0.6487163578546198961 0.76898102678105317853 -0.72680876251115544839 0.68804900746829555924 -0.41299608379994307006 0.019379411388886453455;-0.54444077060085438458 1.254039910077505926 0.28697599623507052957 0.26043452598176219936 -0.76244723363046496001 -0.52967833758321802851 -0.66782211398560720195 0.12531264343595238664 0.61410483651704417252;1.5076732189622565894 0.054584494594196390771 0.1403598939247147348 -0.93348364008928286228 -0.031497601334192375233 0.60638633566335886638 -0.5082490121777668568 0.53956747868629639786 -0.44492536906091606497;1.109124467461319874 -0.45670121392383267178 0.79146724714767846542 0.91495793446276452165 0.73776629108071756225 -0.5147452048885341469 -0.3621074519974057937 0.25724416198230781738 -0.42003470872664189217;-0.18400819735400683608 0.86907828473739801023 0.16369743542799081171 0.35347104585190358694 -1.0904490765879346625 -0.29980323918904000502 -1.0879381032908943538 -0.53752025023586691432 0.19281630908043159711;-0.80690657651515318438 0.20460147156075203512 0.89669149665330327714 0.36856273959309721056 -0.8981141139451062072 0.59018737699776013805 -1.0850295518421884111 0.46647489288735322077 -0.44536194899022008009;0.48772075645905960117 -1.06168607192519171 0.8824483771568909507 -0.0310387163052736198 1.4810238796923436144 0.5147817904154052826 -0.27105638148520821984 -0.26317479859717252122 0.44300703310718003713;-0.64004454420243506174 0.69634547856535844446 0.89553705413034945249 0.24144523356022765115 0.85441104757988284302 -0.63450111281726362389 0.10283507979549735833 0.33395852719828894584 -0.66921118107398969155;0.51734685722767304039 0.056431368340670258477 -0.97410158340432062563 1.0514360813133631911 0.53248511355338445927 0.40479815024662191281 -0.079585180105674530049 -0.015231343643215189063 0.71140349306761574422;0.89573885290502475165 -0.29242034813632122869 0.05214938328709220472 0.12672672781745528137 -0.51557114371138401676 -0.73011419792593401645 0.92176341793606553221 0.75432250501447173363 -0.035799921785175860267;-0.77328453691986354102 1.0430631749088108418 -0.44392605439265409029 -0.036897817300901844528 0.12098877081804575162 0.65554784037719104894 0.80778167217554630586 0.78359830848574396622 -0.49299777280320344897;0.48374098787003932953 -0.82481276735244557496 0.92122108489514287211 -0.617113033088392271 -0.065589153201395564152 0.035260540819317599814 -0.93411872695179409831 0.61963969046628741832 -0.49376837844657550658;0.91443928506384264399 -0.56610543243788158385 -0.14071868262066467015 0.48412436570548933457 0.82632661915427518817 0.50349388829321684025 0.94790131917537345796 0.26097551743111380151 -0.48016201533914765198;-0.28896793429191630631 0.94593687421788508196 -0.99808664894970700043 -0.47759212270638840003 0.89745111647154607315 0.18944771648768526928 -0.66838886985249890138 0.12072198673863350493 0.39349342173418339064;0.76837628955872450121 0.53065290620650229503 -0.86053230129237967549 0.23478528615262916901 -0.59461064314034184353 0.4010238530257020928 -0.44466767554100616877 0.57514868543089836539 -0.95622193073319361467;-0.46620891726113261599 0.079148420008911576917 -0.092834243533568616691 0.081666866768554183253 -0.31679369189520678596 1.1947156697719267804 -0.470453621539899558 0.52573975326028010713 -1.24585542970081109];

% Layer 2
b2 = [1.6149263763866317234;-1.0718470185622561708;-0.79101045557725702118;-0.55026894054159669611;0.24961137898991545003;-0.11150704265183533637;0.54000771220621979207;0.92110357312539870023;-1.0989936638525907853;1.4319001569807319196];
LW2_1 = [-0.44253585544622453529 -0.43476087853025524588 -0.38978947723667717318 0.52695739576514855074 0.19200273057338448912 0.026001439437799228616 -0.3589336348309594138 -0.12570700416329072535 -0.11655654800906201096 0.26943660370041111474 0.40535560093923145297 -0.38267736094724147389 -0.11264418167450127028 -0.45346582758457354423 -0.020846015638768682771 0.52116461197856456256 -0.42825102896216604709 -0.4850015483163679364 0.41707906304280184528 -0.020759099453725435303;-0.24273022369874680537 0.30669170475060791858 -0.12515053447150278898 -0.5765231716687472252 0.02122900074452995986 -0.26582981395387988988 0.57212418458618452544 -0.037965094877303269538 0.62239121175121248086 0.30838850004992901521 0.81304358458880043869 0.078732283680672018877 0.26283705196440798613 0.17146994012691862963 -0.026631177729750269562 -0.2187796843768052002 0.23592342844140890001 0.061371855744418238321 0.55395848802852254433 -0.31082671869756911542;0.2847592854675836116 -0.036225488201154468215 0.36291262849930178147 -0.57631536626358026432 0.38227685619766543779 -0.12001397768317088877 -0.25667924172437744934 -0.49283678469011338308 0.4795369764841816429 0.23006370322528457706 -0.40084875606222791777 -0.61860424637669142456 0.0098661731740833386733 -0.44634282872829433853 -0.043733208636546880288 0.52176750454483733499 -0.1782791555342750911 0.19543590588867734703 0.017265660523081642619 -0.23028527054015651698;-0.024956045913179042417 0.17890046912213972141 0.38112272725957652142 0.41747672360303467176 -0.015181585087715580504 -0.3498252085164829106 -0.61535114885676001073 5.8031946323716492031e-05 0.33769638419215086689 0.2129788334069223632 0.47220397792808399551 -0.22913706562471169992 -0.1719380502113169451 0.026570637761376431768 0.14654565190248311501 0.34798330623598611178 0.52995749150062454458 -0.51324618355947670967 0.39548462686802260402 0.43669288157781288584;-0.72508738762769830988 -0.45338535972381344141 -0.07090251703489701407 -0.64008424368221616962 -0.1626502848196049178 0.27343098259044168463 -0.19055530753523117204 -0.28176453932515860279 -0.45406912711234215241 0.19067636162946088874 -0.47639863373297969273 0.013060240169704712826 -0.3102967468106786475 0.32559282203617689877 0.50349141853125556345 -0.19320717660940886495 -0.42699820769157997846 0.20818142551998417011 0.33697367187282722956 -0.21618707644319193339;-0.08449492241468894993 -0.45231708790733349268 0.28297234651099367753 -0.11425306405344504146 -0.79424133005154617937 0.058550074222608973484 -0.44513502040347313615 -0.83642605369761846568 0.64734537977816675181 0.63236697820907139533 -0.63339862316282802279 0.01684591383429928646 -0.35583453178148050089 0.076291747919414551471 0.24707551995921697707 -0.083966296991409838935 0.33569303097810027081 -0.086818967907678429308 0.25609150675870029357 0.25010629024286096245;0.13518840542792176507 -0.80333696935309117926 0.13690755223473372038 0.32714632106599256245 -0.69178911941120679874 0.084536167958922964205 -0.55937961706255590055 0.53151964636612591963 -0.40175609231381637088 0.75539973007590777154 -0.071032514710303959471 0.10603410568622412269 0.21364473421411622756 -0.05618403612686614923 0.23526733410467967622 0.30389649758666276158 0.32122734338114411479 -0.55759866056476237173 -0.55118423146480122199 0.093228697234034457741;0.13306495524293904253 0.04103582331944970879 0.19949041016517987668 -0.42018147472326267122 -0.48217583965276694657 -0.58448218855254185922 0.012693468937106232308 -0.48065469304493846359 0.63753549215674365502 0.33650758889769394333 0.13567739574364806598 -0.015894320104307982366 0.66956598672108391668 -0.47602100229514188179 0.2211158343710588059 0.27196240834456264501 0.56398647601084339609 -0.36131378166015831743 -0.37056515035179787843 -0.15747991902941016473;-0.072294131725861160431 0.022465072522090540064 0.24390110304709705646 0.26570782684531835116 -0.42343513088967682512 -0.64572339350429119875 -0.028959179259006120194 0.29298474291452453189 0.033171634906924742092 -0.35071846557932856436 -0.53675096921295151198 0.35212674718042263899 0.29660498406041813091 0.50522663323159888726 0.53493146999955620835 -0.22651711254758896685 0.6410453231616534131 0.16369078768878997376 -0.030318565836026808991 0.44842334316981968811;0.45107003409558538154 -0.23451568961118313128 0.0017472443988743010038 0.35084506037392360067 0.20659703535682805153 0.0098322628838124863371 -0.41285911512757184072 0.3517421664136928805 0.37909265950805753898 0.32342978484354156787 -0.55688824942313153166 0.052069678712142478116 0.59895954277033935931 -0.1347839221083547423 0.29780783485137218847 0.087257359483313104431 0.35322311537817424609 0.079750152548625899418 -0.54652193372595525567 0.41648746358609578522];

% Layer 3
b3 = [-1.9221393607986090313;1.7045671211412440904;1.4165841191982091463;-1.2676927048287525146;1.0075847612668100695;-0.93467372328139985971;0.64606862836785849957;-0.36798887784539913159;0.33910546728243884385;0.04680485600526895773;-0.081223495629230549331;-0.32188941616485983177;-0.55314794290262125909;0.55268011366694946851;0.61826553884258950156;1.1019107045277949375;1.3757401977783356717;1.4805204424003202135;-1.6925728125848515937;-2.0241159322239496987];
LW3_2 = [0.1138675411390103337 -0.81567842748853747192 0.61046247133474851321 0.71364453268613237125 -0.31144777157289399439 0.62959778644979569329 -0.70716151229015544732 -0.74087730381501726296 -0.20078822091609618838 -0.63965755470150453821;-0.86036507729364342101 -0.56807397355940292272 -0.30544621301747854059 -0.026243270136462628489 0.12929728714938459877 -0.42440762152069128055 -0.87549440664539412982 -0.11081388398031312426 0.86676459975024622295 -0.58641146167296287484;-0.42290760858319803583 -0.010513026817373222893 0.12105920055144539504 -0.61211126415089756048 1.2719927915291204812 1.0988273278905698049 -0.171510575149581318 -0.066290779047196726759 0.59278420907056983413 -0.31469071305003853967;0.6461535013107525538 -0.37942656312564509991 0.55382536881425425968 0.66720426974840807421 -0.30194219054977816663 -0.0026446798952995329013 0.54211293655119185964 1.1633766812845667271 0.51413943358477720569 -0.0029116011972930479906;-0.28592138839203096179 1.1310836793046850079 0.52620618166730814824 -0.14340601014042198003 0.72411498825239140054 -0.41535121074107306249 0.41554545289245375939 -0.34356009980389440317 0.4236657435171114483 -1.0217853256672830842;0.71893249099462464002 -0.095972384267228788568 0.14924199454958131383 -0.67214106404759688118 -0.56891658009600032386 0.1872018073899439361 -0.93408087746543899677 -0.45084085590627737128 -0.65412432109113682888 0.71510896177655847161;-0.22537592376610307565 0.96834018999277893247 0.5496341408422418251 -0.68578984097170792023 0.86787141996521011134 -0.023511392245538671741 0.18925848787015076002 -0.856542982834351041 0.25132783839736200227 -0.54197515636864013189;1.0270764830404415235 0.96429909988915496477 0.079433417245262372131 -0.16280629698527768201 0.84596305539896909931 0.046824407578580654055 0.098124298802856155244 -0.19255439510302285733 -0.80472391700977063955 -0.60013927773849706782;-0.26069301412066808732 -0.25948716200532295773 -0.33622874068257319058 0.58764676335018872777 0.70996359400370689929 -0.94620761106728734635 -0.63661034061002574891 0.74091412092601172112 -0.42912234657895470535 0.5358758284807720873;-0.14847148205113819275 -0.49689285394320192868 0.55130267669395105479 0.48046880745555886616 -0.34681913903913208497 -0.56034719119596565484 -0.093884237208252896423 0.861925180657167056 0.84223048923253940323 -0.7063055396213170356;-0.75905167519537708465 0.36444385619315849967 0.51794251912537425664 -0.69424750231979071025 -0.026146950844208954878 -0.28325726291781844202 0.93143169112971502255 -0.56551764282865801814 0.86298049150243205663 -0.38839929928561706118;-0.46386165267681078728 -0.57842585390977674376 -0.16638857091195422 -0.87090974423628508827 0.99951184447882479578 -0.20654529948568342568 0.65978088558737224556 -0.31262951827651991321 -0.47330193680834281578 0.3623365157543961268;-0.66268712773263993565 0.84750974498411590918 0.45930148813889015713 -0.96547075066473930782 -0.47521902181464015236 0.47961702712478865296 0.72645635726230839424 -0.65985718670171189526 -0.34562108032095562038 0.030330209434387002398;0.65163401765286477207 -0.40998218564488708715 0.038932493236580462126 0.68334839335078922939 0.42497696111762478521 0.70617601631233772874 -1.036648119010433966 0.26392145480942907909 -0.7376977195488062522 -0.31993783260981173422;0.096239429977596310795 -1.0463553276007186987 0.076493486668756521807 -0.62520173905266041015 -0.28302420901615610305 0.3425061602510890979 0.9694914322818817265 -0.7299267055748946964 -0.68496124222208654153 -0.51969142984377725281;0.89115485930874516196 -0.28137578246981020946 -0.70210315159394498519 0.84805940245310074133 -0.25977516980983700323 0.56156576119610635001 -0.72901388130506838969 0.25093034905638805787 -0.46896239769483766269 0.54769888204193051262;0.18058708557317440513 -0.67344568105113955525 0.51645981546112185168 -0.92795489475459158601 -1.0732011904539375813 0.20250945506580733668 -0.19885966103975333263 0.14043210426510491229 -0.020924857892322498709 -0.31321422070562576767;0.25631212557961224885 -0.63807901157495583444 -0.16539285922457355738 -0.30667816408315007326 -0.13135144895344036398 1.0914063335067780702 -0.62871258670108054467 -0.88428470233156108993 -0.86316135058695175886 -0.63743771263525927928;-0.89548500936262609429 0.81709171602350283425 0.17729610643131213377 -0.68682691132812379031 -0.44985929718339739969 0.68334184810133624666 -0.75077870392852119608 0.2368465782004139375 0.54649963138779844574 0.16402833329187888056;-0.18746278296513763095 -0.024710622342396400958 -0.87322398468833817287 0.80885252898319848214 0.884174576556760905 0.12068224518893656827 -0.32305121870570924214 -0.53599357385144652532 0.4323243664340344905 0.73506291888142716306];

% Layer 4
b4 = [0.17242119438035696799;0.76986783140127967862];
LW4_3 = [-0.051892418130991095626 -0.020431619147056198638 0.48975167256406082483 -0.17294603390578883184 -0.42003138913602122706 -0.29862697292526230175 -0.1254774200778015214 -0.33777275597040190558 -1.0075243013360659639 0.52652499372684957724 -0.86370188090819222104 -0.30992425808062012971 0.30365939023842686284 0.85260302755235950478 0.37266994805706804561 -0.46610699784474135532 -0.037740621200724876194 -0.21126789125307415818 -0.12543997766437031682 0.6731446203188137245;-0.41019399675542844719 -0.36137773559637542675 -0.007971210991598868395 -0.36384472374096826774 0.064766218044441686841 0.081268624166662389863 -0.058316482591928606172 -0.96246139079534676064 -0.22007934448563826191 -0.41574379383377124686 -0.69472047676124026871 -0.29520449852021823922 0.82188077798343905922 -0.067987517661145108194 1.1165559670731153297 0.37537566162578456241 -0.90193845685147777669 -1.1431313179947815151 1.1056826470558080988 -0.86920580817155812525];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1];
y1_step1.xoffset = [-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
