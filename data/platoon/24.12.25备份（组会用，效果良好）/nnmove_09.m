function [Y,Xf,Af] = nnmove_09(X,~,~)
%NNMOVE_09 neural network simulation function.
%
% Auto-generated by MATLAB, 18-Dec-2024 12:39:51.
% 
% [Y] = nnmove_09(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-1;-1;-0.881804843746703;-1;-1;-1;-1;-1;-0.976718263115482];
x1_step2.gain = [1;1;1.06280946541617;1;1;1;1;1;1.0117779742915];
x1_step2.ymin = -1;

% Layer 1
b1 = [1.4131753721336635099;-1.4498283025716895978;-1.7102543266538183797;0.90609401476450424084;0.58645998138725430326;1.1856897795088934267;0.55732514955608403184;0.83647144009745244553;0.14777462619192310855;0.39444408412513060069;0.35486671667385444318;-0.029650604806172757566;-0.12299457399765346965;-1.1010215380027696952;-1.086268270752405396;-1.3349189685731543964;-1.4065576264603001366;1.7028219640881994135;-1.8791656500035884836;-1.9416589324448345621];
IW1_1 = [-1.1004625594705625957 0.73200643224789208041 0.53280320280539916755 -1.1364965733861889241 -0.71170485340470601709 -0.1306506980224230452 -0.49565107639965516606 0.81689124257220835368 0.63438407854362144356;1.1542449779407060184 -0.17420249164283299614 1.1657080563419279784 0.64193815595710213007 0.16115014561517010394 0.32783890905478696443 -0.36360250141424804715 0.74930920086563534976 0.059294751345269403053;0.79365213157833180979 -0.14610826867079407254 -1.0015147261317216554 -1.3175882660656534906 -0.78863832072215001023 0.50447895181604618386 -0.48103242036453547348 0.4559235087602348524 0.3075335759435343097;-0.51436201618447663364 -1.119945165727674885 -0.73000140084114251149 -0.48939858870765245991 0.96097287402997566552 0.31477455483593064223 0.04497729162339205583 -0.14021901222626381722 -0.7508708839731470519;-1.3087599817400650259 0.063352660550797981753 -0.74068268690172722746 0.23082002295627279675 0.27928011972941152452 -0.37300206142666664233 -1.1874912110776054686 -0.63008661688781575361 -0.24322436867555730089;-1.0578177311817813511 -0.91564567594597812139 0.62496413737273870392 0.65653396086858384351 0.28167816865821160288 0.26009690315877248556 -0.73229821080564960756 0.014677216828890924522 -0.30062791726739968023;-0.35869174523135483046 0.50676678241559380833 -1.0420325815499817956 0.18822385193680987725 1.0850060561958223548 -0.50631334668218019868 0.77710423244107484919 -0.040996373359898301281 0.71835126008590610702;-0.80571419809298583381 0.37185395115522373866 -1.2457247905387114351 -0.46718805083292563873 -0.64479585787091098226 0.29625828456388014764 -0.24861095335815483476 -0.14950651179712740046 -0.78100135813451443401;-0.71175878022399896583 0.55852677383831594859 0.40033554109163460577 0.055223718528994422683 -0.48747824187406185725 -1.1776090313302380874 -0.28927234003449692201 0.79598267440753656121 -0.14605920981847761442;0.15293435482246142687 1.0361971369453304437 -1.0806140630688636506 0.67924592955503071412 -0.46926261881985414925 0.63882404924661184697 -0.1253412533775525306 0.14281754448177533257 -0.032209254818493369965;-0.057989207755368005204 0.78903095208825757556 -0.77214973026490718588 0.60801070829758141478 -0.29656756757481278486 -0.67933061714744680248 -0.79083974151341496217 0.92920764383912124451 -0.27616845890339369873;0.3454540401228768931 0.36574635481980605212 -0.87152905556273840837 0.81053160646965050073 0.60905058827809943622 0.46997782218314859692 -0.31454690085727021742 0.11890406995213852193 -0.83167807107709768033;1.7067912176109574229 -0.21219764910677235692 -0.43665795149740427306 -0.33435758163418527467 0.86415712845836878397 0.025197397180655053267 -0.55975426100467262636 0.21484369617828399934 0.33837347310435206271;-1.0867403829672954707 -0.7543530761469237067 -1.0484512841885469392 0.43712687200190808445 0.27278789585204160639 0.05749983612577593689 0.64839749474825680853 -0.027456146065095689973 0.85531636092336249533;0.29339155730363680741 -1.1721195715089387512 0.8480454123896793428 -0.87301054853358450725 0.61033529912062212119 -0.93317232065013044906 0.18044356201461969613 0.20093332434216448767 0.261817383576713969;-0.29450399742442523454 0.84646912586626876784 1.262274969409092451 -0.66405132485889661886 -0.44834831577126338376 0.36697650372778406469 -0.59169521465445995556 -0.81825827622886071477 0.09526515139662874998;-0.70137713186460848291 -0.5732592720113339757 0.56792752936971435673 0.85203896917991217563 -0.89756960373206562398 0.72013000866734566685 -0.08818567319192137377 -0.59535944680280983299 0.68333286207530175016;0.39241072812408706039 -0.45741913746358436876 -0.45011558393969081093 -0.64816953059810633597 -0.71724912551105957093 0.78785096018091549386 -0.80902541426854113205 -0.64028937571671717954 0.24409982417799719334;-0.1159472210028741207 -0.79528587823814189672 0.019829568821284671021 0.71435911559863662923 -0.62087239519554482392 0.4770858602759010525 -0.68780166451455826415 0.8634762491307792498 0.56120333045972015107;-1.0305224857676409389 0.62122265551884225943 -0.4243744639353314585 -1.0894108856520607898 -0.39641760172489681757 0.32021772133951492689 0.48046778288043118232 0.6940662710088484344 0.29500456514686329568];

% Layer 2
b2 = [1.6669357934692021761;1.4475572702367369704;1.0848268702012506814;-0.67906501237106009494;0.27413034054900004;-0.25495905324306622486;-0.31892177139205069025;0.92657750561511165177;-1.1030738745531061262;1.7827823266279221315];
LW2_1 = [-0.020037947592552642767 -0.36031107848190047083 -0.2499941003370288739 0.15108818097211573761 -0.23032213817428207059 -0.018790312638314085603 0.49745606140782955285 0.37915796057061512681 -0.58083702419525817806 -0.47058176706654369914 0.48117419439445074936 0.19547890420689906232 0.2155752946139996018 -0.58644893440025935849 0.45397819664682376173 -0.0052967994505829446919 -0.0089568604923018803332 -0.20834461478373259014 -0.4488883999331185759 -0.41183221562626681767;-0.46032329884396305797 0.16389301711849285637 -0.26502036906643738901 -0.30611470431214310439 0.11914245019094550637 -0.0037763340525047480595 0.50001364238142442797 0.50589979757644010228 -0.0052754168022913737468 0.25013353094751461514 -0.26735249536108951496 0.076968390036994446812 0.43301913592248741924 -0.012805353201985327991 -0.84737678860377252388 0.54751832532669320042 0.35246470412559954832 0.078808318329856560935 -0.26779257131991079932 -0.17507708780506914259;-0.18642467397381984329 -0.1216150866030003691 -0.38993085625340956346 -0.027046338203595643446 -0.34105263020110643257 0.1860274935427638221 -0.57741043372865130667 -0.54272565170170883331 -0.19148855941950621018 -0.55363373986291697371 0.48231398040384237946 -0.078140475021847718984 0.49729154176896528394 -0.2816586392942252437 -0.5272904480539519767 0.14409081209894861186 -0.00057359313068420375581 0.234119788271180157 0.23232272914461371549 -0.050916911717306959084;-0.081226687647980674867 0.14206332263137735894 -0.58079151787412930386 -0.29065593003255646432 0.16648567014562018485 0.51025559714628976327 0.064744858837910548854 0.015553577690160700145 0.30089389447719522286 0.3886454757481573874 -0.32106621886547459521 0.28665882160298578052 0.54675799338387831572 0.04697460906895596644 0.17340654347709491545 0.18818599530313145918 0.15767179493996352768 0.2502517065930395801 0.16634212613306248452 0.079500782652530257999;-0.52781336245311127886 0.45215193772393258431 0.031697937133586748248 -0.21149772914171999227 0.096820486290899815396 0.068605527190017542849 -0.12203386235947265293 0.36983355044684140811 -0.33720635643050989039 -0.1307979309551314806 -0.040871135929965829447 -0.27182438559290866831 0.24840349718253107447 -0.55993321846449639612 -0.49168058432536754232 0.56230590824470549904 0.012942221443345726731 0.096696188645149894203 -0.27962718801722752371 -0.42498860071889466017;-0.34181715997079270553 0.49187527175630652021 -0.1320830266123155794 0.40761840765331625036 0.047433537055882428468 -0.58622082012195952938 -0.25674023204487345096 -0.038575311436792575348 0.13426378630046720275 -0.33504011347192436121 -0.3039223339669469004 -0.51105378716200167144 -0.26408140405575281084 -0.508153324631331893 0.40676473011841535188 -0.54390271296768843978 -0.085885380533998120778 0.33443407041040446037 0.26778894105351563892 -0.33659937646225723817;-0.5481304007111322818 -0.20933286696963102069 -0.65686954320566148802 0.59803855194722410626 -0.47161138921816064817 -0.20458562547991440694 -0.075512976643927948173 -0.5618002189923941847 -0.042226445215030175562 -0.68586990076748433065 0.062556161155490827563 0.47836157136769119624 1.1547541753712242674 0.32214340635673416324 0.69240778512844647352 0.020415376106440830811 -0.28929545035789749896 0.06236876810707032287 0.27011577052888208206 -0.52409286682333244833;0.61110132509690384683 -0.16812345257038144308 0.1935285268546207138 0.14627991245589849756 0.49773983008949446161 0.49097547321863960201 0.3629391966643012446 -0.020120933613357792208 -0.52437151258721415026 0.30085972935497434788 -0.47138775498594120972 0.39028220257627038725 0.33302346571153934596 0.30356776643108113189 -0.38062782708070580506 0.012425409781825144662 -0.39927149524938670977 -0.088024707255843062659 -0.26528377621889343008 0.03895298722552129056;-0.61427538702497508361 -0.58522823019572633996 0.45162891669296034713 -0.55309285765283500158 0.52376981454454674125 0.50258001745556935003 -0.095616403383617445955 -0.12838482656321545394 -0.43203054662310269585 -0.21057921125373754712 -0.53442170324603521792 -0.079940739746334199545 0.70183466431629648596 0.23987533265085281275 0.39668585774805048549 -0.099774170156961869416 -0.65750258312372933389 -0.22448755417974683435 -0.0083336785482700584393 0.28945947501012031511;0.13957082467909268098 0.37701001755085522538 0.06335855255769261285 0.49064421623028037223 -0.25116782167926265945 0.31732658814999559205 0.28270468006310445208 -0.49934506091115338222 0.23020664636098986389 0.22383684494016772848 0.32132715386962368287 -0.31457352680804412381 0.38975258237473547895 0.22532111842416338576 0.39890885248814511588 -0.22722112574369640603 0.48992442354688126027 0.24751841750435291112 0.0026003546453209451517 -0.54565322402858462691];

% Layer 3
b3 = [1.8856764797337186579;1.7082225110982700578;-1.3687475583192176831;1.364342087034036588;0.98599081495906726325;0.864239857367539277;0.61255232903268064248;-0.435392021024810838;0.35911091093982178135;-0.17583011258391509357;0.11156918798087056555;-0.22181168750621632624;-0.62862301537472864421;0.75668930069249151771;0.94757858278139606156;-1.1253055044052642231;1.3041165048924094894;1.6583381422537128991;-1.6078196345345800999;-1.8245738610618906783];
LW3_2 = [-0.4417580065337056161 0.52404535541711672053 0.1642910523940531442 0.27287304594450173534 0.17956983482903057792 0.20358902581592977499 0.5879263584172481627 1.1164906328874302233 0.53270197226822968428 1.0158484035169064175;-0.28379564948350088915 -0.7590879734975587434 -0.61993024983242828174 0.14033194109482099998 0.16416704542451981963 0.88261630100718835301 -0.7816921152546013607 -0.51279419142801496712 -0.10911693236671889118 -0.35967696087026207463;1.0306377452504633663 -0.67147182187386111885 0.48018179542644096047 0.24046454049894405713 -0.6986380839558461453 1.1346122556113771296 0.37524907349817304691 -0.32576867681653398634 0.27747641266634331947 0.5425972988653190443;-1.2792825191218994973 0.42390489882425563817 0.89859822453506355 -0.0029180193420750427657 0.6547813309840181395 0.14468412480062231573 -0.23375932157623613428 0.02481765752229982136 0.37772960296099117317 0.38259794597630397694;-0.4630849265360633682 -0.52225500857219364637 0.40808321868311853153 0.45002403847833832851 -0.72172371478092856023 -0.48727187610296268661 -0.79721676385967565892 -1.1601627159519003474 0.41804485192952217654 -0.28687926989937739819;-0.74545282634282994394 -0.37281609410666272098 0.26367895264645724307 0.13875706933076614735 -0.45364574637128757262 0.47469612732185989534 -1.134609950439324777 0.28472983408619700896 -0.60598203191532717948 -0.45326719326147568712;-0.92653918164973170235 -0.021273158456520196991 0.89312982092282577895 0.66853142185001679376 0.31489883459770978691 -0.33323286846065380828 0.78468090437476833987 -0.38405634583239245394 0.13972915354312787084 0.24437168424077088114;0.57303911983214239623 -0.14313808781944575843 -0.84933702972781133234 -1.3059429330742475805 0.62301282331550300597 0.61597642579362499315 -0.072659050903225413931 -0.51103266837882355134 -0.12466597318402272698 0.037338689774793674958;-0.13326069324600775534 0.71066128778889592343 0.24475059110762459325 -0.67019195764855699071 -0.85906723957711139672 0.90643097063225364085 0.5779424343753768456 0.59703384613998622399 0.12285349320034363862 0.41878593547258985419;0.25078825274935900858 0.18501546278240149634 -0.017130073967377073413 -0.71734931201115825772 -0.30444258126826306832 -0.93984924028379690508 0.38929675243374523008 -0.61774882296599575859 1.1101189442693761844 -0.076043544322485973064;0.79769798752415488341 0.59254721543362331992 -0.55445646344075660839 -0.813780831698694751 -0.15996255987236271401 0.20153120601858276473 -0.2880253056357040542 0.81367640627525972263 -0.79724274303325903812 0.33427405902907725288;-0.054586518007598713864 0.47233066346364949162 -0.27853002924704645116 -1.0049898393755980486 -0.56373817709685358768 -1.0712395462135586577 -0.70810459674445547229 -0.014392321450528593185 -0.63558342053071514854 0.54240660911748594941;-0.16423230302975330708 0.72200508083995840192 0.6631892015302509602 1.0645769467724901514 0.20327114172503193967 0.072018877745130938095 0.35203842316375821841 0.70651132412059181043 0.13221283619631690742 -0.4333534302725469689;0.32071365670981094587 0.10801723898246233524 -0.53446925887113294618 -0.86085857034424717593 -0.68049499910390420787 -0.28510164653175251726 -0.73203165947947301806 0.77626572263433546439 -0.72134296123565788683 -0.45534770966580723206;0.83497128934640008069 -0.44272471650208866656 -0.56744251298514547521 -1.2406114911105341481 -0.4911716836868462166 0.76325552529518803091 -0.0607987611725463728 -0.20239920893429952375 -0.026161849664055797371 -0.41227887762895765178;-0.69364301616133405837 -0.32607975266519456659 -0.43103992908516547411 0.30095222675617755437 0.68194179739958826758 0.94780653549175175598 -0.78922871290528051613 0.4513972659658855302 -0.23064418171849490613 0.0056541512680924055356;0.4348255180565994138 -0.087712395421162533959 -0.71168642121903624709 0.88459546066087324512 -0.74621618525639821229 -0.078536623994198473397 -0.23587761097009024569 0.32110020169741665397 0.78035297281544369064 0.50588678271848375179;0.29912199143495066256 -0.31440981790767491555 -0.69566706053137949972 -0.63000581235141217551 -0.21211742723321733162 -0.03639328879471746131 -0.71137952052962682981 0.81189433117727427547 -0.6947232896504152988 -0.71220511714400713821;-0.100847237657468905 -0.36026342810279582407 -0.14816368318123648851 1.1950396720230440639 0.50327892130114626479 0.6374588315012384987 0.21500661942416154915 0.70701302068283811142 -1.4013478288074523448 0.27406329342970608964;-0.60862861200708318066 0.48975372517685805684 0.41701997481156893866 0.33921463891325259743 0.62691722301425234498 -0.90002727524382053481 -0.26262975243518665858 -0.030264748720754477973 -0.12210044923837025388 1.0181878868503431157];

% Layer 4
b4 = [0.63246856697985698315;-0.51795746583544877151];
LW4_3 = [-0.89592252124498517052 0.17220884459101931663 0.37464462198873921261 0.18365168821315688841 0.41287262349550896134 0.76696710892659014647 -0.6120998214788092584 -0.75547618936695259961 -0.047640273989365225504 -0.28738953238158415626 0.05218486909187126932 0.084735007830429628917 0.32272011811698519956 -0.078769213029595525066 -0.39412503881496235847 -0.28334748312826835148 -0.68340158201639078506 -0.05495226965147337328 -0.59816773258123490109 -0.53309242323172001399;0.44367631329790691019 0.18075003073676593202 -0.61691030962454296294 0.010342320649388002038 0.093827406906500862571 0.39055275302695913187 0.54866390457240499234 -0.43569491082756567346 -0.14380287634392588392 -0.69537957312042664171 -0.78810002929843681052 -0.71329025156883618664 -0.46548798456413476021 0.18443161586951931086 0.39099187292123455117 0.3205456062285769181 0.57479992605348217971 0.4820004529591533915 0.86686011578695376656 0.094662840611670795443];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1];
y1_step1.xoffset = [-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
