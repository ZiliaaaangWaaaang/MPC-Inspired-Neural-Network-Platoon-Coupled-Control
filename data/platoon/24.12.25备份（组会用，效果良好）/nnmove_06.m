function [Y,Xf,Af] = nnmove_06(X,~,~)
%NNMOVE_06 neural network simulation function.
%
% Auto-generated by MATLAB, 18-Dec-2024 12:39:45.
% 
% [Y] = nnmove_06(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-0.801945638638892;-1;-0.881804843746703;-1;-0.973682979654431;-1;-0.871051952961493;-1;-0.96736142527888];
x1_step2.gain = [1.31966094825575;1;1.06280946541617;1.27569022651577;1.01333396529071;1.09753168206265;1.25325738564118;1;1.01659002474164];
x1_step2.ymin = -1;

% Layer 1
b1 = [1.3140007908588478003;-1.9902676511430623663;-1.6407732488093742518;1.3998893173790580846;-0.78072258394069238285;-0.90764011430413282788;0.82765625092493988468;-0.86658985941756117022;0.37992627468669060153;-0.36927245903738264987;0.57525959294875439465;-0.34113753277024783106;-0.25312737391581752178;0.7339242694445266002;1.0119281298602575969;-0.88561486605520078896;1.4512422961243474084;-1.6673533479518916067;-1.6057945461817004773;-2.0860470020945913738];
IW1_1 = [0.076914615062695521064 -0.54376554240279140195 0.31601607261675512817 0.1131011460144054348 -0.49216085472537279832 -1.2457083878654120479 -1.3293596433222023556 -0.28172691999775473226 -1.2827939018573226715;0.6029259081044794355 0.29669413866392435608 0.63652027368741048718 0.73975678901458108427 0.9466846186271288266 -0.42898531696043873396 0.44175254640265676498 0.81185727100401472445 -0.19829035980757941937;0.054540888654599481433 -1.2673192940663038364 0.81948582474529851893 1.0552494819500324308 -0.08543425408398368226 0.42361073329621212746 0.693398376137916439 -0.40413697586732522105 0.96683007769503481743;-1.2877505116538223717 -0.80340610266804823869 -0.86515027329039007054 -0.79793082689326799706 0.6567113106311360804 -0.31683136477074391735 0.98329917819916456967 -0.7746562301949291296 0.50438138864334447486;1.3969717234509551052 -0.84370968446720884248 0.45702036628973552457 0.2133305892086640454 0.94095966520892626583 0.26230603871813312766 -0.53139380050827822455 0.19466749925364534857 -0.63412257256588233645;0.38727369996100713401 0.55713129467877675616 0.44919892852335602251 1.109306314076738964 0.22983202310697914417 0.88704571246352770242 -0.087012065824203926878 -1.1602910846518046384 -0.088134627767610898563;-0.25640332945340216231 0.61787921714611082624 0.49811665798626353352 -0.84255587221464744996 -1.0961394054473727611 -0.67724738228143888108 -0.70547081376563991473 0.20473145640541834389 -0.42589442896479273726;1.0879544557598477272 -0.18434962766027546133 -1.120753919065424542 -1.6475732452409441731 -0.13855214289434414354 -1.2874111563271375402 0.11189877455606449252 -0.28734973883643766257 -0.14602873282794029408;-1.7066000897173851936 0.53874056996052066548 0.33649091700321465126 0.057350746944984175302 -0.099966808731290338064 0.69236338149271825504 0.34077310933467852561 -0.45401773820869217868 -0.51293846870146386774;0.84761609807529991745 -0.57470842501072993969 0.5409327021934726698 -0.65579898925747637239 0.42696506124481614641 0.8673839900222313215 -0.16325253367054737286 -0.61567100576408073653 0.18935119421916141169;0.36783285482635913466 1.4257745038367248824 0.6420083404587125786 -0.6264486032941977145 -0.28515086485457952215 -0.49092077396456196281 -0.59813524241295723538 -0.29139522065068884649 0.4844246081101927226;-0.66592024661136406394 0.5317790012589380666 0.88594886498763014693 0.56292816735605522016 0.24758928939775182165 -1.2497365376849738361 0.34777796798758764396 -0.64196066351498770608 0.14135146744277890529;-0.13275440827463763638 0.82878842472436298205 0.50366744604379665162 0.65847281210527675022 0.12126388452083337877 0.40382083209329633355 1.3216347596867312753 0.097536126407589782139 -0.74971410719066133854;0.45687109301157663444 -0.63590504926030255728 0.78815250619288179657 -0.22313094017994733465 -0.5723288847866032647 0.28352000877845490168 -0.73335794934376075105 -0.6794113703305200147 1.3616211203949089015;0.83303251294952207484 -0.78922879026428749416 1.6042006288129599945 -0.33365745842041810709 -0.28482692973620860055 -0.61691911044268854525 -0.17560899515449010511 0.53814852853695083201 -0.9222437999266120956;-0.40975080068877650641 0.30886775744171435232 0.62668306823501074287 0.067534307739623017364 1.1755757084326712292 -0.95173104683464115894 0.46256689161083097694 0.79812716747009737617 -0.57926086978466673205;1.1019665899593695801 -0.10582422423974532921 0.99797986551834017011 -0.53693058556645723023 0.50801413705762721307 0.54493895308992779114 0.79340902049050199274 0.53346594792503931881 0.36872071379010029624;-0.12582543969574622178 -0.34521734539462767266 0.23153975983695196383 -0.43031786310788933125 -0.64140188438581091646 1.3787921416230508598 0.51396998755159395422 -0.68531150292940790081 -0.55609581516287909242;-0.35211633124538188611 0.26608627271070817155 0.24062041385366883528 1.0127550194588879062 0.29939577981111492599 -0.43552870287759287704 0.60506667288567972385 1.0696507793923688556 -1.0679000908007347803;-0.85329236785333262283 -0.40705407777472485398 0.50366648193809226974 0.94132441126570198797 -0.60856822875471994205 0.5393023208809996083 0.143284184503449874 -0.50003724879154609617 0.93715940844288958544];

% Layer 2
b2 = [-1.4917792594453080923;-1.2385062022955550809;-1.0436338415602062213;-0.34310528739742734983;0.51313241473902948542;-0.17989485785310654897;0.43978888922811160134;-0.68857663954779968485;1.4025956101630199235;-1.7317485547878852525];
LW2_1 = [0.14767807933615939575 -0.1158038949553430591 0.088339733821751476039 -0.25401754720644781349 -0.78910151689562924027 -0.40468368470259530323 -0.11622237883144474757 0.42913038041801104816 -0.53616147670530767133 -0.42472805422264559017 0.0018913330989066175214 -0.36050999007595008194 -0.19779924648526511777 0.45960605404001747543 -0.46575361818421240345 0.32410467331992820483 0.72598180233057207911 0.8336982385602463852 -0.33334303487676031352 0.61350767057112265412;0.14160008635011295253 -0.69472520566751583271 0.39340937960794264416 0.20308773885326653064 -0.36963260461820934832 -0.16817469980207880309 -0.19024416671950453162 -0.01678583762734251611 0.1875505608573315719 -0.20514775294067674749 0.35177621480066278981 0.13846882140403377059 0.33218275248179562897 -0.64800120391770821282 0.050986860740144301918 -0.077286965099492010989 0.012240932795822303397 0.36989577387062921865 -0.14640087334268739316 -0.17308985289382367023;0.34956239994797372317 0.22740484983986331002 0.3120633530495942054 -0.48696919939536426059 -0.35415942602805755568 0.44133228250316808294 0.6585340597691590192 -0.56666083905183606273 0.68783510106376788418 -0.58299159383387932909 0.020405207153479043569 -0.083081434988623470428 -0.37535947663467328361 0.65391250537713607738 -0.3289628749981415301 0.54941701805179832263 0.46437164379293072169 -0.59933408062829429674 -0.38966856853017356466 0.77659351411725452419;-0.32971438905215577631 -0.5731270155615678652 0.49982186294626246292 -0.39291579546550259305 -0.11823278514906708503 0.3513830464439152701 -0.14364040503963587669 0.90538373022153562086 -0.26647498181559731156 0.13424142521492848923 0.24167629116128211408 -1.0386321759600349868 0.05214277053761234848 -0.042682318308740641033 0.0025390818273761332075 -0.61975315007906894849 0.16941557342780505513 0.025252219820467911721 -0.29898765511358676994 -0.10759149176705601336;-0.17986771600306136754 0.42092978431231597991 -0.33674365930336502828 0.21976024318258741141 0.969560460455034967 0.34261044232238330176 -0.93076284461458358432 0.41765967665793679586 -0.7602032677321129972 0.75131222494980609561 -0.0012828694283954691219 -0.059079145505785704562 -0.18289859463005983531 -0.12946817253791861879 0.058327876987300866785 0.56086284610372827419 -0.18807894147148046526 -0.52889250131535181509 0.011962203517044862899 0.03219575398602630284;-0.63747809874345839898 -0.38412917876767532777 -0.16029716146346001393 -0.52750087096377928919 -0.15146713700742084341 -0.24242305770330244141 -0.25599251561823965773 0.44015026851056915369 0.03046011714098664433 -0.56152668841012587375 0.31012698316867493009 0.31137849452378513204 -0.85083260692922302315 -0.38911583207381073013 0.052964388807723514208 0.36476533444615444335 -0.3433752322876155727 0.17484449714610236781 -0.11162957910097273673 0.59988371232734405414;-0.27776627140642501379 0.07761016365573884801 0.48898792217929298864 -0.39846601447936413898 0.21246557210851146902 -0.73321949356571458623 -0.51579433692508713794 0.59761120222055930107 -0.11414245679102902331 -0.49458369868149687498 0.4869971399729402517 0.16011258394501864943 -0.50366383994958874304 0.24397292579410395641 -0.26801974957212032491 -0.36314915726970836696 -0.41544044821617170937 0.74784347386625815712 0.19423830655669657719 0.025686877023027271383;-0.45631065556441818831 -0.47522910208094459872 0.14718066659234679827 -0.11601623549973784366 -0.24266100895263151282 0.33000892878411763887 -0.40588760144055802126 -0.15411238866313325957 0.39527579058852763128 0.096479223301587438422 0.47387812727904260468 0.20550823877909979442 -0.15734765253978474919 -0.39377877854906395694 0.50755690305282019636 0.15308285121931630712 -0.29428458378120309069 -0.25697838749792761837 0.20178101821442090413 0.34898371504893582751;0.59303488385834313146 -0.30522261271356820878 0.33306355377684726538 0.72565880752714062574 0.63824478157830943914 0.067757504864077111595 0.1591424748358425123 0.74290517405299583142 -0.27261358506303279281 -0.90345150286312680965 -0.33461018697417010959 -0.10621169613799250064 0.24515518268558053605 -0.096359898390865408868 -0.078304382280735024269 -0.14146671297525587052 0.51508391009895271306 -0.18271251987865907984 0.26115958924765114713 -0.51068993162061704361;-0.87424471670826586767 -0.29911866993286273519 0.04981963412102875105 -1.1281773610308936107 0.4011760995178811906 0.51501071048756907889 0.062845108232739463339 -0.15209240624125061614 0.20655498404188227246 0.74633054588729519363 1.0272405663372239371 0.15225218587029792916 0.51129491341690702644 0.097290222621956162774 0.6799419102819624916 -0.85640564034039456942 -0.23004608129004219808 0.5212716136740384032 0.11549422558324090593 -0.17648218933533435515];

% Layer 3
b3 = [-1.9622694228223129809;-1.710916082662342852;-1.7604161392271873154;-1.2951811944538624832;-1.0957433997913612611;-0.89490513231873414224;-0.68659531324747358205;-0.60708186417201071006;0.42813089849759811134;-0.097152128342320995258;0.055017703444053975281;0.38185320677347933671;0.56018407535954917176;-0.7302434534923523124;1.0118002476343967988;1.0661223028684903014;-1.2567886202229223702;-1.512540080259532127;-1.7672211814355647252;-1.9048974450772671041];
LW3_2 = [0.61264518327036820988 -0.36986374380160247366 -0.85128673375743180163 0.51498793278582155608 0.99188646211671749331 0.68421223674989517516 -0.41897464286311808523 0.38185965477645117394 0.74882183555110459761 -0.9898387867123663586;0.65412321345525581417 -0.76841727538995763247 0.68168520822325406883 -0.80213743810555437896 0.18396510607991856112 -0.12093061980707073277 0.85807782071992078077 -0.18643853480009311974 -0.38167848262862619224 0.67230822792546018896;0.4651045647578949116 -0.013533032314860395096 -0.38720115201780758163 -0.76407196990308601237 -1.2790678828203048134 -0.5034368504017144863 -0.21206374871872116228 0.70234043937335677299 0.5672480759027249686 0.3864584361314280514;0.93285422170376608442 0.95832849333309899631 -0.068274231753860784022 -0.55902145819361792611 0.38954999386491095947 -0.076599377983792113489 0.15301327872066011748 -0.10699614349667424529 -0.89648458524272978121 0.68489298021770073088;0.95776411123288662797 -0.28219731927219948719 -0.76922071844321859846 0.21768696477116966648 1.2910721504198963139 0.30473081600413404191 -1.1355589151367313505 -0.037539363953107703076 -1.0000270210188400011 -0.84589975409681217311;0.29106883422128920769 0.068044255500920067248 -0.66218324219995261526 0.69257315406760677767 0.68008893948551285558 0.78343782257144789494 0.70951174789146664867 -0.38072233858244264315 -0.83334305743314573967 -0.78909000596378020553;-0.0077184079037969401116 0.99255865214840166555 -0.031333568273015234562 -0.24906855654812365408 -0.89543586906537608883 0.81274285363411979954 0.33068995120108751751 0.38592554026455544447 -0.65163292292439445319 0.64423590147354714563;0.85927356353807915479 -0.89409466833953887832 0.27096481524812615627 0.58759493514972938044 -0.27817638134711347719 -0.56482748910436619827 -0.76454644702856033867 0.88278844000837475292 0.66662055628828675857 0.40281326573687326054;-0.26677285911364706505 0.11007612211073618258 0.7411395920537482418 -0.50705886349384066136 0.50155396741982039011 -0.1070155043661602523 -0.50632806490703230473 0.20762586144044453684 -0.63989100755186789637 0.43756170543198658063;0.76293936604247514222 -0.020385562244250109154 0.0977101336160825229 0.7444528409146925485 -0.27851849944703283013 0.710813560029258662 -0.52325986398905688368 -0.80524099589389985798 -0.64079645939819140921 0.96540473979209395772;0.72652794688232336107 -0.086878782489679465262 -0.44164233532095997781 0.34728178456982572442 -0.53748790282021197129 0.52010486229171870587 -0.35605182333047846743 0.88212598854684021177 0.79211044113550510559 0.53368388343597994439;1.0357455668089885492 0.7402166778813571435 -0.91772258294841579929 0.39194805619076383829 -0.81333433220958384346 -0.84576219024715382222 0.10229961568852889708 -0.1148974402892101454 0.50375790261870045939 0.21089168818758499691;0.1641084068692590936 -0.34094020126104856994 0.67308023285435725214 0.76446481536009913693 0.91516310722085003615 -1.0040412322038234638 -0.56156114192385886419 0.38517221202037132954 0.45000280847424145581 0.51026109629933402712;-0.61503394389971532963 -0.19057202529305450334 0.21800592057432260917 -0.024887969638254604787 1.0112320961067817748 -0.63398586721929528487 0.40058457038516198656 0.69219609256626457583 -0.42026906766614674504 -0.74586073069591707352;0.68763238654289737806 0.50143888112320122996 -0.32064588621642930999 0.021979558196923789509 -0.18550233641109528659 0.49433948050522441564 -0.85155748587956758833 0.73342013633562708197 -0.74956453448005211371 -1.3236720453353236771;0.68848936441453056911 -0.44179975755215217248 0.88051111309080032363 0.39325274975458734961 0.46680458585041795239 -0.65112309498897458226 0.55680133585668534213 -0.95222591987216820275 -0.36468817997489660909 0.71806514273981192353;-1.0956616666976102259 -0.88276274121034792319 1.1636073130517252672 0.5441908758952201941 0.77805567269501585415 0.071238233963595770648 0.50934058642489810076 -0.018273717587534162032 0.8687517304512812899 -0.038801739176512972662;-0.75527778349703611482 -0.49850134095740078477 -0.036717467096312947361 0.7247480335258047468 0.27222407995648106871 0.71494966814333182903 0.81493897678728510758 0.026546345358768777545 -0.97952234867099485793 0.0042134027933196831553;-0.69087517227262373876 -0.75263877638418286153 -0.30179365045388045763 0.58705068410116034716 0.33336590283030742565 -0.64638882176256251544 0.71882942382554226857 -0.83020795017418425044 -0.56583257119655760992 0.1876138618884281295;-1.1084561431088240102 -0.37627227881302416357 0.44646143425966533513 0.02097558381646066894 0.10316929787724546386 0.99529883472077196327 0.58021373785544450019 0.51507288069096124339 0.42959125549637788843 0.40796918762209838372];

% Layer 4
b4 = [-0.0089367951340019891743;-0.18346948993058725952];
LW4_3 = [0.011642547462743072645 -0.96043557444810101487 0.9264552315137197791 0.065465898437032266077 -0.37265751676952796334 0.84446502739826312389 0.047818102629150337213 0.83604289662187603049 -0.7696384787550621942 -0.49063635476610595321 0.56622329161230866568 -0.81081385122311733227 -0.43181222613297859381 -0.84441452906447356241 0.34877121605562955153 -1.1071532619654387286 1.0639193353477609527 -0.19069210250330148604 0.074836111255259421537 0.072904553434726876437;-0.77363965548557767082 0.64562523339569033443 0.13686065656558538128 0.84461284803406388999 -1.379349586418481266 0.68650790621838686523 -0.52903571144483885202 -0.86719984703319707986 -0.030218433153636096306 -0.76413010419270677165 0.48509454784165662034 0.10515465312828166378 0.29160830823129324507 0.010124306158581421883 -0.66705063064055747368 -0.23421274214519488543 0.58072030722551704063 -0.38456926134667274164 0.64401577148652844329 0.28488006366761731147];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1.0000000000001;1];
y1_step1.xoffset = [-0.999999999999798;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
