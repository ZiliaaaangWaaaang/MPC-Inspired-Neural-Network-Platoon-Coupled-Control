function [Y,Xf,Af] = nnmove_01(X,~,~)
%NNMOVE_01 neural network simulation function.
%
% Auto-generated by MATLAB, 18-Dec-2024 12:39:39.
% 
% [Y] = nnmove_01(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-0.801945638638892;-0.587040224347201;-0.639361590405926;-0.695257580172501;-0.656730875905293;-0.716167654575603;-0.581556487918271;-0.745213963010481;-0.861207253266562];
x1_step2.gain = [1.69825171189909;1.29500746457081;1.53491027182406;1.60065309370616;1.26826958496911;1.30001945712979;1.70035585197589;1.36164989450668;1.19635825035271];
x1_step2.ymin = -1;

% Layer 1
b1 = [-2.0296796224341573378;1.883039187881157428;1.8621458638241970007;-1.216050383265167012;1.1061913951632820208;0.77814165841098115184;-0.77492531207490433776;0.2916384939073734528;0.24579190958758850849;-0.071248366820269165567;-0.2364469432067740351;0.63266360991607939468;0.58561687327854672347;-0.48868648687033183764;1.0456182530538808972;-1.07084438812733862;-1.3781352740804999613;1.696135468368259902;1.640367126584859836;-1.9862007761462809885];
IW1_1 = [0.27280808610749468501 0.66615986938243976212 -0.84988388626803379466 -0.025114559776639608368 -0.53329363598180101746 0.80701895182125193973 -0.82690136495235722069 -0.73948525849749735528 -0.11010141481178897793;-0.063520955667679318557 1.086495816231238587 0.027083552939191020414 -0.096715228316670065478 0.5607774930543583114 1.0567764329016793301 0.42037165188326897081 -0.4999276834051822882 -0.54144978204471316818;-1.7657093783377997287 0.13871167526923205982 0.53937657792760418385 -0.1643507335730771679 -0.60064326224159403367 -0.15244352183286596913 0.56992918455871466321 0.17108561745770528573 1.0399761340612911908;0.46413983196353492122 -0.41493857748773810279 -0.17106101853731428553 -0.022941347158725481498 0.27966485137376456693 -0.82853167761427803928 -0.75672981745080503124 0.96988338308273480681 -1.0564685077935553892;-0.44491409685979188549 0.52748219588504874356 -0.090245005633419556057 0.70377717091648650527 1.4651999544373692785 1.011854548675653831 0.70414516407771043927 -0.046866467866303551659 0.37330697648109817388;0.14979330843599233947 0.34350493918495178525 0.22374697677010849106 0.28934409711866454495 0.91145649753682334016 0.54469474805244999516 -0.69853269079651159057 1.1647944648293109271 0.14959880041553480501;-0.0018665680467394168973 -0.13620425006894251729 -0.60613749958092810743 0.16513690290456115028 0.80347717342110591687 -0.31513634800123302426 -0.47046166130918820603 -1.186898500926672595 0.58877903605511727747;-0.40565488093452739538 -0.65417416211992673869 0.85014254114108311899 0.84352814633878314687 0.28181761928118637117 -0.85027978479817467594 -0.28632112385162045154 0.55412798172247779149 0.56905510767510281145;-0.74181951618804709003 0.54072455303727273712 -0.26823026367281832538 1.0072298332806535193 -0.78220120723207975377 -1.1189693437403962495 -0.85806692548715335356 -0.28619087547826377316 0.33733705965446625363;-1.5968951819398706782 0.72268455291506095151 -0.75251427817002358722 -0.27191503253792115302 0.08497008617954895926 -1.1220920240086504904 -0.22810463367986597016 0.19847403464013135821 0.23188162583926391624;0.57359305686460770879 -0.8783469802808175908 0.68000182455968971595 -1.1684677821924693841 -0.44723925502793637765 -0.85967830370571962639 -0.72462724341723250276 -0.38423443407445978526 0.25422734596949192465;0.37974204165772806885 -1.2284340381511937856 1.2170930091152463159 -0.036985906769152934737 -0.26301972473627149851 0.80458809096266947769 -0.57073637907539043201 0.84722054938507540545 0.77336942024684329766;0.60557112908252108685 -1.0072825973381074327 -1.0007011416702547013 -0.88265679067014524151 -0.079223190857345873739 -0.93824263250192696528 0.090403658298069886068 0.064704131397578107388 0.23950416451646713845;-0.39420633505966445886 0.67322967000650080216 0.32115196275744689602 0.46353023131746240448 0.67207776632426219354 -0.074601115384213656512 1.3245503306447377057 1.0644159839724629535 0.65716578518692947419;0.13169080263664001418 1.0269747472485570849 -0.52615805417065864003 1.398306390693428769 -0.050562016631886384788 0.46535042790853869965 0.40732141598573323726 0.43019258915356822781 -0.4472246325934954303;-0.26738277512432268024 -0.5843551861062649122 0.15699311538958390932 0.16962941032110712136 0.57257201880246855197 1.1356783280952968962 0.28022754590152720855 -0.43469703139980059303 1.3519395586824962674;-0.89761273716277578671 -0.64503688448570473124 0.11319039566736918689 0.53359587349313453153 -1.1226687321522021978 -0.31672894613296531663 -0.16866111963806770802 -0.39252424776766209336 -0.91784120404294722295;0.57950942785410641811 0.26045519790981319641 -0.46108981483641925392 -0.72446582005184323449 0.53540613112126600459 0.21765973764169413429 -0.85265462758786136899 0.78351412826542232715 -0.8116439536869536342;0.57602718537203778659 0.36748626220031999079 -1.2603413336040929504 0.090768851388895677168 0.40772362336253870074 0.63127028501722626253 -0.97827832770650346994 0.41228060248607917293 0.42652058535148723584;0.36505381700464201167 0.13275380536597425341 -0.29254934454211273254 1.2286113741069850658 1.0473322573511718581 -0.39611437791862363911 -0.23998910696776237783 0.55388270167009046041 -0.77623458268617828715];

% Layer 2
b2 = [1.5053939153289790376;-1.3419206061953319331;0.94602020508779149921;0.4830983307500075763;-0.14572541118780946157;0.30281594582786847125;0.57241567062309395286;-0.70826645151212530571;1.232720842623182822;-1.5813357296114867179];
LW2_1 = [-0.27536149409915494646 -0.56471022535858494962 -0.26660674890163343909 -0.65214735253052646957 0.30794431873297972713 -0.098938143326710720205 -0.11168579228603696396 -0.097935005270432348712 0.68692396206416073134 -0.58701509018946362861 -0.074220782837569235224 0.025788262245720654925 -0.36955178863943027867 0.37966700938655872921 0.061334125706422909508 -0.40340346250047648402 0.52842230437944048838 0.12819750908351423835 0.19319593297404033527 0.47989005514642391059;0.44460961367316498283 0.32915751164658746397 0.45186272001245580965 0.26507820323429348575 -0.12037322792463577004 -0.29320875555883496588 -0.10669436765599152328 0.1942999267044665801 -0.019738545960441583604 -0.62530395721391307529 0.77588134662335184188 0.68467648476475517771 0.16009704197914115253 -0.92576978345152516336 0.67702227030963879617 0.43978677244455866013 -0.20701354045804451487 -0.46433709779508958171 0.035074481705025972733 0.27260926406725910498;-0.3603053549377251974 -0.38847965573890341773 0.47387010373851379263 -0.073002746779725444237 0.43234695236211401204 -0.23748554401573840344 0.32389135122350753981 0.38394259974590932982 -0.26641525351429268254 -0.16099509025583685906 0.27515618929827811989 -0.22599687459646083942 -0.41483053409757447705 0.44105035279335191856 0.58754152454591102028 -0.48584794805605074908 -0.48477956700953117597 0.28340454880972043572 0.2407699439571747424 -0.25093529062811520403;-0.31244883945999069041 -0.22114677752682423972 -0.60687166513694268399 0.25786620358687101229 0.094176797874157142099 0.20453189429377008346 0.35675165388932805755 0.40862390930138431377 1.0593521464482786865 0.14566357243245375841 -0.35965919246628730299 0.013097752758147743202 0.47969669200651926522 -1.0012766331463960334 0.36593203709604144036 -0.67658229909807710012 0.72075129641995039353 -0.12178026265841349063 0.463220506299576118 0.752609397630075172;0.55292930834842357601 0.3864125840497414921 -0.051577978766475941763 0.12056581688809411834 -0.34704919422342977997 0.55282667583937983302 -0.083475770955141789798 0.24131669712324463339 -0.32212780113324113174 0.20867411729494753092 0.61975850960743128493 0.50798361588019314006 -0.76364950978170542673 0.52204663031331532963 0.63181021938685810735 0.0087185478251150250184 -0.0694669089968305703 0.17577802218249052868 -0.5142252448082519356 0.055273917631096153302;0.1674824978374854223 -0.45545598363270434206 -0.52567119970240250293 -0.026884532149356932251 0.26584882556163375034 -0.099460176669758371126 0.18758105883565312499 0.25099073927965637187 -0.66237823168701670529 0.56388039400955125569 -0.07646030692943657503 0.25576263538928745156 0.49874627423166190132 0.34846012243182122869 0.36134927391702448274 -0.33355553595971265679 -0.14251799802167269826 -0.2965641224885876559 0.52650546263237285594 -0.10041070106305684251;-0.04914188161248485287 -0.20342777235168252314 -0.71176490932277780566 -0.0079939889650151411959 -0.42099174734255379038 0.44324267092822844383 0.40971707418692127067 1.1061631533015208184 0.71311805057008570419 -0.21111260694082317757 -0.24517466288693939847 -0.46439137653800344196 -0.36407842173089655091 -0.018727358927081029505 0.16912936859821978142 0.070728743244140884761 0.29857061369133192086 -0.095347020550256261773 0.68724066905878511413 -0.34639887419183640338;-0.42163724723137580019 -0.43647301486705541995 0.37345404788374436666 0.89011782194457544914 -0.65161062194860230878 0.080083833909555673936 0.10141540960735780097 -0.58063079559795915952 0.16306450754234214084 -0.1487356528470570316 0.050031050908828415824 -0.27870076657202846881 0.59721051894960119899 -0.46244540468225170393 -0.020550120573991345618 0.33020563550027759447 0.51409660492121056485 -0.32529933198031152353 0.30356219600128536706 -0.28734450992552612592;0.16031873391754775104 -0.51135563348158885599 -1.0595774773460875373 -0.60159722341782240207 -0.74463172557205070667 0.25405416025561772253 0.31772255550056710538 -0.021884479660826988701 -0.70092427651075384087 -0.22975543602877623872 0.20144783390292994585 -0.039250537852538888717 0.0021321693282696681238 0.85345593585049162044 -0.87505729218759198407 0.1852590732783532812 -0.36425442438941985079 -0.19045210126613598689 0.12122884927407137634 0.27054951023275403132;-0.44272766933454527072 -0.51908356796858101667 -0.51032016374492206179 0.47667838952079738535 0.37379122841463063853 0.20074677637417265297 -0.29180358929895272579 0.12054735350839299035 0.32775058967960546408 0.32750965353711902761 0.10761025759890713305 0.023847260864196084817 -0.36464669236595181889 0.72129340201932967691 -0.030348898060009621425 0.34303283305246379253 -0.1350363479102103248 -0.30528376884543284575 0.50311630087113523579 0.21935286808351281418];

% Layer 3
b3 = [1.8018839456309696523;-1.9188187671059808714;1.1324728469011720033;-1.2270674262807732546;-1.0915570297348606843;1.1528911812689619509;0.779479947552972674;0.58027571903501296013;0.3615971192746837426;0.34991884188281008328;-0.037809354549135795742;0.41502425031841094771;-0.47150940236783872583;0.49211614868785613641;-0.92280600938394385935;1.1160551930624089678;1.4450024333005597743;-1.4445700059309558583;2.0199397316096874277;1.6906700726859003048];
LW3_2 = [-0.10311015485568945926 -1.4171084372916837868 0.14743102006614294819 0.46067009804154962493 0.68059887999772306078 -0.19209589857579739691 -1.1634278670317370619 0.2247270164439470197 -0.23450736317618381399 -0.13609831380305451032;0.80319809730741309473 0.12158669111207397184 0.035393112113882699288 -0.98102406783258566669 0.76878185835613566113 -0.5496190794472307628 0.6073182595687047769 0.29574356416626729205 -0.21358892543773114192 0.064798724193604412269;-0.56596468578011316364 -0.27930192174880730249 0.064314296145332516819 -0.49479876876237316452 -0.52708123993570099586 0.77484522830349711331 -0.86154640916183722332 0.4721824547768677105 0.55390507054308080193 0.95670092504895520857;1.0689294230827990351 -0.20674740571730770844 0.011699192681409887468 0.6859806897643084822 1.1709980181741115324 -0.08747947479708970131 0.34036712455446660464 -0.25390313322876667534 0.58249074609374529299 -0.28110475596662320985;0.40209102530706153367 0.090784867417299131009 0.70566346468466156772 -0.72803056186681314177 0.87011420632357205918 0.25115525502922192436 0.15167602401906934984 -0.67924939220390900818 -0.5025001292237012418 -0.88906519541529738238;-0.59072055338716367157 -0.60244151394024547663 -0.38068596928677139735 0.99659799647628755093 0.76334587235385409354 0.23162952306714454376 0.75000257028081274147 -0.14938301077350230051 -0.12004801686942065397 -1.1136339245889570471;-0.39610006426908822563 -0.70234511711773595088 -0.16390189440664126863 -0.28990727425664974959 0.56881442430100781493 0.76338905776945431558 -0.089827636191595491844 -0.28699751894916691874 -0.40002921258680146366 0.45269089442946325308;-0.070604945687820469535 -0.20530688110095191012 0.76236082598659427045 -0.75409635029997879041 -0.52688051407212388444 0.14399202702968247336 0.71743825181020781656 -0.30837319491947434713 -1.2255649305835332186 -0.39287532680630765647;-0.14919465410776508452 1.1810481651505408962 0.7760657677403103305 -0.23641149498051255984 0.59988746832498029971 0.1362293115410048161 0.22860974949418622071 -1.1380444673029459501 0.46176477831419293629 0.62738996523517409631;-0.4445060893893778009 -0.1464310895547619451 0.98621879526041944519 -0.42185910014089961217 0.50824904192705300243 0.59353413686039335762 1.0585474004700126116 0.025873324698637768793 -0.77662705319045421959 -0.88805846941904942327;-0.62101378927144357256 -0.69741126140574671854 -0.30997238924566744567 -0.8255566844555818351 0.74585312275679738203 -0.26445686608458213174 -0.76101859834490503953 0.078126184548752433678 0.94832205263237345783 0.61646193886905797932;1.0643345492298812438 0.1105355207316723043 0.4040762619495105179 1.4500145887820292678 0.35883248594144978583 0.16640999451509652651 0.54325658974591384265 0.81794971708022923274 -0.0230452099862982554 0.59735889812858411485;-0.67841941632218505376 0.93171135009827166229 0.1353446044849213048 -0.41797142118138297384 0.16660866004331664758 0.92902558747929930849 -0.66385681214088532176 0.73530317787686760855 0.27395353258945726038 0.0059424258843788872742;0.37827712995161516529 0.4382064700771585164 -0.5029613526251439648 -0.16707324986459543004 0.65362254648355144759 -0.61919343400335080663 0.83556133458737369413 -0.65962980547249461249 0.016539666038649012553 1.0510472186163786201;-0.70284620107276518652 -0.28810489275391337749 -0.10819882916542405971 0.56652278216407925271 -0.91869385619848298319 1.4186525175939335153 0.84609949340074575019 -0.32142250136377770175 0.47390425826946730448 0.5671448360350760387;0.76515922702944494382 0.54166547022080691054 0.27818893998059435191 -0.62158958391228591456 -0.42918269496253225181 -0.93661293818631763397 -0.017871096937893543588 -0.48278284418711603365 -1.3923387117996885998 0.16779308571680542905;0.17158420066705151741 -0.43734990625653646923 0.57946518797214441321 0.85545532396515466811 -0.00089199134960261678567 0.35813189332429357092 -0.52574201346556326264 -0.59838138772144822131 1.1441863116487323015 0.077959725862982082178;-0.97608471039745869913 -0.093788363399674820609 0.099031700842098988047 -0.011303342671999672131 -0.45797745555257307615 -1.0580254088270408808 -0.16197458544858700513 -0.38327602366961688318 0.028394002429889181327 -0.69055659249847900494;0.2294170100474386409 -1.1484375923033747213 -0.50286743783557252829 0.69881249127584643688 -0.22679701214000619336 0.76319249568726343913 -0.52332365883595355349 -0.42831573869447192582 0.559325614385625558 -0.047203046520530027308;0.032062899189460640492 0.77876603537575084246 0.82639905986914008462 -1.0781830182906009252 0.7101125802731775849 0.70665738613822770553 -0.14435539784830583865 -0.59979600253382792108 -1.0348188651384651049 -0.10237134292290478443];

% Layer 4
b4 = [0.054553378915599332055;-0.84916342926862697915];
LW4_3 = [-0.69765158600040944048 0.021953087997794402259 0.018498635643979965959 0.49974115897475940296 0.81303177134999582432 -0.25896893487920974453 -0.0065294988702203973774 -0.039870111961953141888 -0.69469680543663825389 -1.0019247429485118595 -0.094459915074731337636 0.37675592061465029703 -0.5875432187216995672 -1.0516506066830531019 -1.0447818931548598087 -0.77444518592851308014 -0.39551672473124288576 -0.77998487307508157507 -0.4419251115765747695 0.65344010197183954869;0.095908024247759612879 0.4908384795794923372 -0.6163694644289257063 0.62635356667190489333 0.11255045251634480941 -1.1583344469271930066 -0.53696636957199350704 0.64772299279492806523 -0.12146924337697523333 0.25368401375182608737 -1.0287106870562303662 -0.63134574435042190022 0.069078810410995256097 -0.12136158709213060169 0.13468730575624077161 0.85165660789249231222 0.039501334629906535711 -0.5861053618576412827 0.68729123845483208743 -1.3600323190296359499];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1.09398986611323;1.52163970280071];
y1_step1.xoffset = [-0.935164342218349;-0.633395004421358];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
