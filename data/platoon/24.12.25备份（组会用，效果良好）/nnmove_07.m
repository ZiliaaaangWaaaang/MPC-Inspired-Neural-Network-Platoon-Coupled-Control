function [Y,Xf,Af] = nnmove_07(X,~,~)
%NNMOVE_07 neural network simulation function.
%
% Auto-generated by MATLAB, 18-Dec-2024 12:39:47.
% 
% [Y] = nnmove_07(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-1;-1;-0.881804843746703;-1;-0.973682979654431;-1;-0.871051952961493;-1;-0.96736142527888];
x1_step2.gain = [1.16713682045576;1;1.06280946541617;1.25860803380294;1.01333396529071;1.04673144715384;1.25325738564118;1;1.01659002474164];
x1_step2.ymin = -1;

% Layer 1
b1 = [2.1830052364586371993;1.7965868873954105034;1.5674792724728190407;1.0561079234915085046;-1.4279023438921816247;0.91893200805660557595;0.27065795141785231603;-0.43787664941283416242;0.10930742513075324129;-0.090718542122768641711;-0.13922159079011581229;-0.1702381614018008138;0.26325315893462697403;-0.37747078756966873092;1.2539715958251362871;-0.99956416281184778949;1.3281859852192450244;-1.2962479653980780725;-1.9145804449423682314;1.6218367328676444039];
IW1_1 = [-0.93023036080922272273 0.53701157459125858917 -0.01011556846493616435 0.74791937260687813005 -0.29609296384385730416 -0.28380170699532397682 0.80233439291699615303 -0.81168059911248413574 0.45399317657738380571;-0.70078516072895158384 0.58181304724335536349 0.76502239621938383785 0.19877212249223957796 -1.0084738722868549221 1.0386529298832587465 0.19827487801034832104 0.029973949006761257952 -0.7306277967747309976;-1.0713087220525923104 0.022242156424710723961 -0.5474737694269974364 -1.0747663692305375882 -0.53170347237232851167 -0.49140313789128470257 -0.61134289782619100073 0.36628317612467148345 -0.41058956957838188551;-1.2505503868733156558 0.33599184710956708777 0.049952126767327603707 0.56500667634621282165 0.40515587847752981832 0.37697907513810419156 -0.48418885055878324586 0.39476715878443952024 0.39387425880585102966;0.49161941033821732194 -0.56868225323635368529 -0.30877507446585555906 -1.227689859559530472 0.54830065041786335556 -1.1411651302070786596 -1.0713583899409730993 -0.6399741141708921166 -0.0079510172387056224363;-0.31791328562409010283 -0.91495854999108128247 -0.80377183535763008226 0.25152219279617465952 1.0669681119876188724 0.66904242024637694541 -0.60684514551521784309 -0.29770537732686486176 -0.4607329929703484761;-0.42016645745110925425 -0.21821109203530736353 -1.181861332993177971 -0.061086446031021340852 0.63068336127075830255 -0.84542921791240932539 0.90043835562594676247 0.28642917956965502357 -0.46369584730387070071;1.5378149574023207702 -0.33710509608233168999 -0.13212013960855020778 -0.045123440396746691827 0.57867236967191093555 0.79065686170275240041 -1.0550793654785968201 0.22494621228846867211 0.10645581655338781646;0.55558217883558647099 -0.68040150782666586338 0.081430439969194357008 1.2346206196301181546 0.057455362545811253239 0.40535388061126897963 0.94163858831475910627 0.27779045029887844409 -0.89715279891578825211;0.15007723850863841086 -0.72103703660262608022 0.64124066585870531654 -0.73328409943470196364 0.88410412022456663639 -0.64872752813673439931 0.66321586414111233232 -0.21721620406164340866 0.42409269865749421591;-0.68866564672299879213 -0.011542266873650789544 1.1017092647857393839 0.098326757646459747586 0.75474512386929493157 -0.4945361366449044227 0.78698905349438996737 -0.26913322408703843625 1.0532123918753020231;-0.77089454939078494444 -0.34637147613090513154 -0.55890890625543343528 0.48978938044447312139 0.58205716175788213551 -0.976078919231357367 -0.36593990542880888706 -0.58242959660392357168 -0.57699309073792481861;-1.7369009541846036626 0.01212487759139351147 -0.79764734595550279561 -0.12229648888477165358 0.1717176079722464721 -0.90262656372551086648 0.28624472487666097198 -0.1771495370064574415 -0.28858937153761121674;-0.61474003873848492852 0.10080838427809082902 -0.72048667517231756996 -0.60639676097117312104 -0.14872304815889411667 0.46017787072325783138 -0.40618096603653064403 0.36264913595215708675 1.1068592304284559091;1.0239097981175691032 -0.71902983877866111229 -0.29338594951065743999 0.7000705015055681546 -0.61331310098260294339 0.55931751431216858439 -0.069019702148246195317 0.36687446823649444427 -0.65877981571672183936;0.27057688722163569794 0.41169421439395209594 -1.1245431200179685227 -1.253343930260092387 -0.48836148179023863847 -0.81864306028950661887 0.023701950604556609042 -0.48977810338082977681 -0.078211567076680962862;0.78223367732558035659 0.42479484454748200895 -0.95892607889982195424 -0.22205483279886178982 -0.45915844971243718886 -0.88713997771706143425 -0.66091574283405085666 0.26675586871999673599 0.16617315289198619777;-1.0328848683498463856 -0.77247696874392679511 0.35912138488649736345 0.76478001558580488428 0.24308047181698341777 -0.90737645930472365929 0.36654293272470317433 0.95631314776002629419 -0.0668110486744487031;-0.10375038499711765339 -0.60539019721816833552 0.53874904144656354799 0.80272771780320173463 1.2146353474992257482 0.84784909376505057654 -0.56022675706707603105 0.45292450023147556859 -0.62677920831776012811;0.84037745061675550584 -0.034113051265157783021 0.96727738487622316743 -0.77700540027839459789 0.072230158598391394631 0.78109247297116746189 0.30189396213592012419 -0.81839122975176359365 0.96232651582161654602];

% Layer 2
b2 = [-1.5100374910207587931;1.1777536570817452866;0.56268832615954156307;-0.4728622738513782453;-0.035154716616135499307;0.26510329008961330821;0.50673006314458135524;-0.84591570265708582177;1.220155616031423973;1.4917268640045096006];
LW2_1 = [0.61685136081541969144 -0.27007723873517774926 -0.25592257124763895249 0.31993985733116525605 0.21087010466514227724 0.49478931845097839926 0.41462089123426582038 -0.27452235154753795721 -0.044134701913314609845 0.67600562280690779104 0.34510831710006123485 0.29141565164475813354 -0.43373696480640067108 -0.3283721904975647754 -0.18940592878618656147 0.050533251452088506772 -0.38176630367844199831 0.040784080595892772958 -0.3104222691175859139 0.36043337429716842957;-0.2908529449342214801 -0.13323208637633335294 0.449959182890516729 0.18298930095231258353 0.26658857302900046404 -0.36734190411052869418 -0.98928894206932826982 -0.045840833878763483089 -0.2405183065674396381 -0.49578915810101426009 -0.14429391024427906665 0.23828676320635966412 0.18964279994322644218 0.051817164583537377032 0.095387148836597657198 -0.3686591026766152801 0.27289108518805188508 0.14794160413526977194 0.63179928132048146505 0.082637523593851472392;-0.4350693131090130894 -0.54950298528189156499 -0.20067396114585919764 -0.16220055537802241519 -0.44290956919446944351 -0.54151514715097903707 0.14775703164391176814 0.51276093367286945668 0.87361149010289995687 0.55602267463768217937 0.36896460190452462502 -0.30917249434096671923 -0.92478355887722807349 -0.51192318862178187722 -0.22545887405020947902 -0.25230747902622813195 0.22706612656175956255 -0.044796269908251508396 0.45083785908925144703 -0.083387008216767560809;0.48256905039338371388 -0.10554351711136472636 -0.36324281376950917632 -0.19226181540414949422 0.15883957624699160394 -0.15488106801559226033 -0.04812476184288844161 -0.3736152477972314867 0.23396443211946246765 -0.069014761756548317906 -0.22905055033770591044 -0.37588221018658352079 0.30094554388963373759 0.59428703539801674971 -0.08272028831504105173 0.10314429032851520074 -0.25873122817856636368 -0.52124522987015697861 -0.067867967124007208546 -0.55298118666358320183;0.59434613727403862171 -0.15342155695182205233 0.16840684701870184403 0.0838898445259338571 0.78874702568011756387 0.6708786756849544064 0.76673742488728791056 0.63680830391003040436 -0.18549188876866390396 0.1181103937180013469 0.18540811636206960822 0.41801852612741952075 -0.46003253513905645322 0.70349701571907552466 0.35592760025587988348 0.1228837321806763444 0.62718575353077754553 0.45834931500237041657 0.27321204892085859672 0.17683454144683558029;0.2150946991457235169 0.50100143526433837948 0.36328829460938677487 0.46427937132046848134 -0.00087448191392366567392 0.56528947911783555824 -0.22743054785485145031 -0.39675373789662243817 -0.34246039298727892763 -0.47022656365481158014 0.10051649776578680529 -0.44652314184655533813 -0.73159982094672115771 -0.293315234912630729 0.21617131350231302833 0.15327866866111092281 0.33652297197552777375 -0.48644166717536135858 -0.22362702884174623374 0.080433264840090723524;0.7122675558481622593 -0.41533922853051785662 0.88259722460391232257 -0.1781829071500734829 -0.29685497752179285103 0.43476587316818365858 0.0024438808708826982585 0.3419054093039068376 0.16897000219563937384 -0.67681190219338005498 0.46318457428641424123 -0.32150579041957955129 0.33388684860413203603 0.19647936570585902705 0.43507313310852130384 -0.077839328849013261769 0.25217058818680132548 0.22392900783406802234 0.30438096943353354362 -0.12835045079287782377;-0.18138740933339023154 0.51574037188714949576 0.10632710395282450599 -0.41720475859587691225 0.48384233090038925029 -0.051058094173965694329 -0.38123109640799729414 0.37171732771263588102 0.083912897030499811191 -0.22535102842163684533 0.057510196099420596294 -0.38222150869944593321 0.29992220236873606831 0.23825895292169838036 -0.72640436567965516179 0.55100273839791025221 0.5943351095403786033 0.36451169401418120897 -0.052981657269064431903 0.30676561695088033765;0.1828031851880461689 -0.20250608646582354821 0.24428804907989626338 0.41141178913481707413 -0.55881955778560199466 -0.64505602199332889857 -0.91781562078495049217 -0.48710079244270348964 0.50941001483727288424 -0.048867615698774347077 0.053882992515194613747 -0.31944942609342291684 -0.52408968281588530491 0.48543346845006485335 -0.23201334473419024662 -0.24937508507393502111 -0.071665554314524135271 0.55336354627493411495 -0.19928615534799018483 -0.85737139161383368879;0.31600165302392585476 0.1570333308210803136 0.44956875936447404651 -0.0031332045849977036012 -0.029475945077042767922 -0.10799121516651610797 0.85735633407636935299 -0.71024317205763853877 0.29250313027044932968 -0.54630179072901363657 0.3414677150652420945 0.55310063947648047122 0.30274491376591422531 -0.22331641138016805614 0.56125177787164559629 0.56258618320338926733 -0.36100584574712824004 0.038892737896694673516 0.44230882211952166072 0.30049608137469668856];

% Layer 3
b3 = [-1.7961359716814102594;-1.6974575083989642543;-1.4888185353794127774;1.3404495290898754689;-1.1560254857157756803;0.79354664384153306145;0.88068857737601935476;0.52507637300015874704;-0.31963679403349021246;0.12519500219367291072;-0.038049871438129288792;0.28239319239589871779;0.54944173658050732278;-0.67778068655151257893;0.9230595926485897218;1.0842384930001058851;1.1327469264763010415;-1.2456397460452541814;-1.5427001547400556181;-1.7584102590421866186];
LW3_2 = [-0.31807396210422100857 0.86518267852055008582 0.74160213476606262617 -1.0085925929608408058 -0.85482364154595491534 0.0074944418732574629924 -0.58057442051645158365 -0.11623128986621836245 -0.32400609345291014884 -0.18994918165659047116;0.82518923389374587707 0.10411549464621489003 0.0076172964258595541806 0.57464581627311295264 -0.85953132676478904983 -0.60447438931180375032 -0.78386152324786884105 0.37419128264968376518 -0.78761527725564473013 -0.28404184630463957806;0.63395867212339851449 0.55293625337959684263 1.0305308925852154633 -0.38842833171757984445 -0.16386814064132587676 0.52208670904659093548 -0.082307355822466760076 0.049346182719789223603 -0.042248931702262751409 -1.2725413937108727147;-0.45107417181805065098 -0.62852730946486901065 0.23546751067378118849 0.45751458335435934988 -0.70570508082524474602 0.56073598886137254738 0.13551572568415060083 0.81360494421141205112 0.53267482120593789841 -0.61590127145656692331;1.1212498112925477489 0.65285845952070409304 0.53391323081419173047 -0.542231988821600841 -0.61660185617231877409 -0.4499873748321749356 0.44785351779909887693 0.24518127734020292441 0.64096593665577294985 -0.6988059235133173841;-1.1046000306069407859 0.37297926016298010854 0.31930154988042430686 0.79303808873834613635 0.85015247896481771495 0.78213681765664333501 0.47533151003091400622 0.0078036262955505685326 -0.54721542107533305277 0.6278804510200585165;-0.13824110788834836905 -0.5295372433339390339 0.055962871981559587919 0.038140086565896250126 -0.81297696492531135171 0.53503921548714761247 -0.33019592163697353282 -0.8669767489040296482 -0.78281114544095953267 0.90274437377537997129;-0.8975736670418679175 0.5042086258138361865 -0.47661271400562177369 -0.15743819580850154649 -0.32810417764435745314 0.78067909076267272273 -0.77679432036761930647 0.11267454364054124705 0.99077462513190917015 0.53641180824271328387;0.58372220463594970408 -1.3016248029818204834 -0.20500816195580634504 -0.13449268891437779483 -1.2759458784803281439 -0.35653151844677982707 -0.010235879227843327349 -0.63776562963772731596 -0.073055810948746011113 -0.8481193394705764943;0.15894765692436227389 -1.0213326878486570504 0.21592449861799198341 0.55536683876147729944 0.37935445357383168474 0.83964662329779271577 0.77999006913332369351 0.65663438423061282201 -0.66682855710622157552 0.17493212399158766801;-0.52869341566296601531 0.43841507389745948409 -0.02479543952933721887 -0.4444955576404418518 -0.5089082404375926405 -0.2683029896414905191 -0.8201774618353274704 -0.83288557502361748597 -0.19879528154927128547 0.53124491443767785093;0.39264086065334996567 -0.62342629725446097044 -0.7089604349454770027 -0.74110029464321103276 0.57565619466878104049 -0.13692457871640068001 -0.83901370740695979666 -0.93575158202334651758 0.60811301030539000045 -0.030990222874167538264;0.91252428889471037809 0.68684215155805239394 -0.17254807838747712734 -0.88470285274477178383 -0.24183337714576272348 -0.4129498754458408305 -0.075261744034204797194 -0.73594193756169923315 -0.55380371030662856047 0.12812513138908862564;-0.17657705549710303594 -0.771538046533065347 0.39387959569245861724 0.82065201042884072802 0.10096560696530054724 -0.9522498322391940162 -0.52649147819598651754 0.59657721814455832998 0.7288731067547850051 -0.011688185614799877915;-0.05566163326074320683 -0.50858387166613372443 -0.00022009741861523930521 -0.60883667502778693326 -0.39899593555507600895 0.15936889929414324585 0.92659785887619172673 -0.12693614537842959344 0.79432282939461895666 -1.0731640457590072568;-0.086459551656963923305 -1.2668197935945031407 0.37282434803812652957 0.13510409766825079436 0.99955842075895118271 -0.15634363446444329848 -0.2389536409080542656 0.23766810149151165743 -0.30738922118109568427 -1.2697973184498627663;0.36733227376962568345 -1.248980842821143078 0.015025102922572620978 1.0942166280642198206 -0.51551157160504834653 -1.1311356094676177086 -0.41377901227829494424 0.011882385428515053818 -0.88068333502539264401 -0.065815749230213077547;-0.43151054640587599431 0.65142962480191246577 -1.2497412263650942155 0.34509140747446714892 -0.57431206610249063704 0.69496590507528754888 0.43721884079857131766 0.28854667263477501438 0.25915725174421549992 1.0716574304271133666;-0.27444621669095264904 -1.0870523438074009004 0.60934337760924783822 0.35953938001287888415 -0.57659093336257605245 1.1527654144713568307 0.23311593734025692903 -0.19660863988571680716 0.58247484032013419064 -0.61149570649567519531;-0.72578782142061781801 -0.12405633674371367714 0.42329080604246532848 0.20613734006615180849 0.59131531652863278392 0.94407138538179158349 0.91763045260613751442 -0.20987742972202191871 -1.0969234512879020293 -0.34375665805929239704];

% Layer 4
b4 = [-0.28288807204984334209;-1.0068274496836377985];
LW4_3 = [-0.98442455523439997833 -0.56675335065166576598 0.44076871144708446026 0.68766007664827544232 0.56211714084093400423 -0.14275762299647135056 0.56669826957842728277 -0.67394636532082496938 -0.18748049724810178507 0.21802675580267050215 -0.75228830818899627975 -0.079866677508332289959 -0.37293723506360093589 0.87563561673396994589 0.46377417152257860433 -0.62356973728832276738 -0.10617655545974530318 0.7600302448953897283 -0.13287988892640173466 -0.071729790153907416195;0.99114766157829925497 0.20645288885235510423 0.074924769394896395536 0.15461894475466203547 -0.52568079536597311918 0.87568772836385944114 0.53648304474483776705 -0.99285114030235666061 0.83804128778425712731 -0.53744471367462620659 -0.90550918170860950074 0.75160917559473505722 0.10696327055319347632 -0.59402654525314024792 0.031089594591290632686 -1.0677551403657947748 -0.86769109135052913118 -0.23287221148564829498 -0.07420884749038306194 0.72590350780321621915];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1.0000000000001;1];
y1_step1.xoffset = [-0.999999999999798;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
