function [Y,Xf,Af] = nnmove_19(X,~,~)
%NNMOVE_19 neural network simulation function.
%
% Auto-generated by MATLAB, 27-Dec-2024 16:17:20.
% 
% [Y] = nnmove_19(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-1;-1;-0.881804843746703;-1;-1;-1;-0.871051952961493;-1;-0.96736142527888];
x1_step2.gain = [1.13109940850722;1;1.06280946541617;1.03005982197322;1;1.04673144715384;1.06891740597283;1;1.01659002474164];
x1_step2.ymin = -1;

% Layer 1
b1 = [-1.8383597248170335803;1.7692240528306091285;-1.6208300497274730212;1.2663138419876018848;1.3074522498862797271;-0.89502793534959868005;1.1685693876461453744;-0.27902743352665054788;0.1618289341203211773;-0.15397491039793062551;0.15966070181478975165;0.52565361476778382777;-0.60639822001340470958;1.0143250439635229654;0.78228345315764258316;1.0597860569737427294;-1.5462910207040954091;-1.2184456244660937241;1.8532036520703503157;2.1759343875797894086];
IW1_1 = [0.93819776257126552554 0.56426465754400612074 -0.21305090089990036395 0.47708489827284616958 0.79625050233618288598 -0.50609680354422981186 -0.16162738787213412617 1.0451664491943775115 0.76577366254057255279;-1.0742167495013887901 0.55995789952594898775 -1.0046030431679435768 -0.19426618960554253857 -1.121656245620338499 -0.25222001066141924719 0.75815184228277820999 0.48540515167559872278 -0.0043987726741528954122;0.27912834970915018085 -1.3552627480766195056 1.0946470021847913845 0.81145930021805046106 0.023319917808697389339 1.0113994502832601707 -0.50969253183025198251 0.50091660045351038555 0.84714970902569941558;-0.91536204193055081824 0.37522091456212985916 0.80378648108601580269 -0.52436778150156271305 -1.1521225407503952187 0.65248127597458782656 0.39605658779640062761 0.27468839872381811684 0.53581539055422766626;-0.09270733113393900271 0.4085187462966608507 0.91743961893895220605 -0.86399609881447902993 1.0101929564204519263 0.38717637159766149502 0.54806554805045271106 0.3632458630584920467 -0.5789299729310427578;0.86273716004206013608 0.0068389411148580079441 -0.50182546256532545303 0.24218530883669955878 -0.82446542567742986396 -1.0045243320606098703 -1.1444571036143753595 0.94461920444764790883 -0.22979232078666983474;-1.6932084974255869891 0.37513604204667583275 -0.46837580308134058038 -0.54012741946178466357 -0.91790442707237529518 0.35064105248226701272 -0.97624882838196569423 0.05311160671797120203 0.20948259268419691659;0.2827142819619363201 0.33640389259299152691 0.29189084484931338004 1.4004554156261466158 0.28941417479906184074 -0.56178146199540202055 -0.4209942613411425949 -1.3811381474865493946 -0.77938861447895069201;-0.36966676956383393016 0.029812029353281244842 0.51455955145026655018 0.37918224201228151182 -0.87311657174996915032 0.44744363778038787061 -1.0543210385867731738 0.67831189441641193127 -0.25981939957265420826;-0.060322163788027426123 0.85480408290043297104 0.12955182175256033106 -0.46599093810076908095 -0.99893606080043062523 0.16228325159456696847 -1.6731134132871678943 0.21667266730283718523 0.55595225103137724254;-0.71926472958448284256 0.91769259952989246099 -0.26236938879474003272 1.4385150355978228998 -0.29718052236488223805 -0.32938058202501213634 -0.64384721981100145882 -0.78499701058467818982 0.0097677478227903014041;-0.31625403207388691484 -0.35640212049947050943 -0.75954222732516907257 -0.15171472797745436112 0.036476189909304443382 0.9004569638432605716 -0.26253326860305065127 -0.34696007506785114805 -1.4341234208696891361;-0.32365428038700899682 -0.004352776957886567849 0.45794368693790404867 -0.46107749844746798162 0.88198964575050231574 0.034938736687579241558 -0.97620071305945144147 -0.86649226435076187602 -0.63882844682537665015;0.36600829950371155386 -0.12517820014375422022 0.93997136876160092278 -0.72103164104554007263 0.41882206554573736534 -0.88003841854029463132 -0.99190838200528319568 -0.33714030252746601812 -1.1022606808979564796;0.45059346944456579731 0.71376470668693714483 -0.033790630035124245845 1.0140393265546512325 -1.4448414617217792966 -0.39549008445921685073 -0.0088311129997227857946 -0.032295403028111735466 -0.14939020590190596471;1.269466446949847338 -0.49457889999737669751 -0.44959758915313680072 0.56099234028740718738 0.042069451054279886903 -0.30616847732978985652 -0.20539297214379464984 -0.59175650440618110526 0.75414774781085525124;-0.61933735052559391043 -0.076910627080184895688 1.2224384960853591497 -1.1551917399517377394 0.58804698898644314209 0.049181831513832763303 0.35057438823112269111 -0.73188752963886671843 -1.0493286672608086452;-0.84365220879704427848 0.7877637823692363872 0.0058293536008944130122 -0.5134730045866710002 -0.73537394040010561902 -1.3217864934409992994 -0.17303954169991261902 -0.39711829808524590213 0.52078849042294017568;1.0149102457401846245 -0.17271419164505624755 0.9021017128239662286 -0.30442710958131180554 0.097767734975709577605 0.21344327733519652401 0.87872457099222822663 -0.2152691528645380159 0.60210215111561704582;0.65352537745415839598 0.61369678538624350406 -0.27987289918439489655 0.78377130348085521927 -0.94145273061365142286 -0.65843756499926542336 -0.2315439973766520998 0.71608692079218594362 0.19033446474435763984];

% Layer 2
b2 = [-1.6816512419789781951;-1.2452296009746690597;-0.87111960005754962566;-0.61139559035495349981;0.24323513173473154669;0.27107568244980484451;0.59948312630985911564;-0.77946271415435053331;1.1909304061990848567;-1.5238073318618188257];
LW2_1 = [0.13077772729938602625 -0.24289756280785773646 0.10955314147332508024 0.62000224050805208265 0.033156762906521974887 -0.085173613188423133447 -0.15830404887989182883 0.20078546915846159915 0.44762330018772700235 -0.96699741678955319912 -0.3377368527972701151 -0.37659496633953243316 -0.38362075476825890918 -0.64090332691233398155 -0.91454609397763109158 0.062566437687023426784 0.22716937949903714955 -0.53163567442231218774 0.44918162204981232355 -0.35351656801785924511;0.41206873023703527448 0.31402891670796495571 0.43591491490272560316 0.24724533052107963704 0.4168259458521508809 -0.15654346152562267913 0.34264818790836087947 -0.42435359388490018206 -0.4994645039436470535 -0.42852977179100792959 0.30754049585093617969 -0.088544951657200804407 -0.012595039684539559299 -0.29241474707004905254 -0.25012026530679515313 -0.4267550106446463265 -0.65406721534708123222 0.70677137881251184126 -0.39968012706575661852 -0.1255600787393466311;0.38659245143582521287 0.18089428804021942532 -0.50873573659658843926 0.46471789122650530857 0.55983134766398401361 0.024549083452028788721 -0.33451200987201673565 0.50272909494681405906 -0.4628191037264952068 -0.18759231440683546421 -0.017205467840507009808 -0.29609265385364952339 -0.24533890568259525411 0.4046861183581160204 0.56757949931928319831 -0.40244816908441427561 0.56157101796618469347 0.11359177324268475429 0.22059123367526245474 -0.23011381908868089319;0.10919474129923648076 0.72682387916947699402 0.46154308867144216988 1.1040461438368085467 0.49594248894171977238 0.31078150555423789125 0.66039825766753845748 0.32023710678503891636 0.25549895885610063306 0.057326648651231083831 0.80659215294214148262 -0.047419195850379000645 0.11396195405309871018 0.57059393815483194778 0.33600612799998980096 -0.34246954907505045007 0.68706412094410340696 0.59793839873054466239 0.36287166626077355103 0.029098494581078410137;-0.090694899382152915912 0.0010647470477649562722 0.40239097498493120453 0.10147185766398583717 0.45448082299088993219 0.27579565189978144657 -0.6079938710429780846 -0.42365856603803525582 -0.27721558337379320625 -0.11049956635567526053 -0.34454414944001210408 -0.15204418139349154537 -0.26937900745124310209 0.049383339191784288158 0.45446954975126885312 0.0020855647031941190739 0.17886514901736544347 -0.22106555952761239303 0.26540795867577665623 0.52657078375049559682;0.10525322216754337545 -0.0088849367249166505411 -0.52347352976947703063 -0.70141643146308341183 -0.25722037540654962839 0.49458506264189810997 0.051231519053966216581 -0.24968720011382508628 0.3234260331464020588 -0.74057350446116798626 0.17795197847273741543 -0.51961474848919286806 0.16733452093395673188 -0.15544359509418620435 0.1057521557870592932 -0.22773256227588983824 0.80178258602120189291 0.27629769478340204802 -0.12265206761285167569 -0.4106824108356092462;0.33999991288525538424 -0.17468988587488848419 0.21487564472183662279 -0.17625290398820012139 -0.32488128194391197034 0.82231567992243803644 0.10813071261499759834 0.36646158958352381685 0.73918862363419923778 -0.18363319772130221041 0.24598294324831174174 -0.37949139085414773653 0.92851586453681944633 -0.55912175774067984779 -0.05948891729180856569 0.56966990959622609836 0.15512060719121179009 0.01936843637562679632 -0.22100263089054594801 0.39638469774018936231;-0.21202977401507028254 0.79750318016863330772 0.73356449901084785914 -0.18780858891431481683 -0.09031317951784295639 -0.08819052559736470509 0.17735396642120426769 -0.59295696912660778022 0.036253727310274097562 -0.71586220374536024824 0.053850449662196604728 -0.19582395098706537051 0.24876896904220655027 -0.062820297011369416462 0.47064645126704929279 -0.39972962441410336831 -0.34230713607978091595 -0.60132276833579678677 0.01477937402085534313 0.075053846753195790908;0.28991129615129035413 -0.76489372886390682993 0.59845895383302782911 0.41084191989328633365 0.65143875935121331455 0.089787652346918586654 -0.27024399744772420462 0.4860234294989901338 0.29850846955962057061 -0.0071542977002746789561 0.50436756503999413681 -0.23924496760837443698 -0.48383777132022559586 0.6690753317516192622 -0.27365299409651794305 -0.036369276074809588073 0.50646239396654835208 0.40502582475022269604 0.076617161239570810705 0.16838167529474004636;-0.19047155579370836365 0.43044448951566033346 0.030644264035530433682 0.18061341875806077861 0.2371598921282558059 0.52627029782419898485 -0.50385686849176525293 0.76222543754135629879 0.53357241667146637631 0.52159952535638032245 0.80774531551400685636 -0.21971839560906863964 -0.36813943955455347146 -0.19355072125122280147 0.13714621903401036374 -0.25144299095933853039 0.05915633250079569555 -0.16715215212258596744 -0.58009682210139801306 -0.32508130048544631174];

% Layer 3
b3 = [-1.9152310098324378806;-1.6612761105703484077;-1.435728083546207845;-1.3148195845368364498;-0.93791224266822181832;-0.91740603779229157322;0.64784679541676404302;-0.55063260350532516885;-0.23522540682471332341;0.16558940286942230857;-0.066859067650339443212;-0.4774859143171697462;-0.64365317973508617833;0.65239083438303768769;-0.93193759415798838042;-1.1973028398380096693;-1.0963819929964917499;-1.5318815038929161076;-1.6051813621941899424;1.889286345467807271];
LW3_2 = [0.67045876898390577292 0.10638274557055202307 -0.72760550758809972027 0.018047558989732398471 0.59059413408746763707 -0.32631260307447984559 -0.26043700666853880632 -0.030100831486280194699 1.3109081383848601998 -1.1709634785680489433;0.70928776910856661253 -0.086913421811857974331 -0.68094594865193458499 -1.3512408347625284311 0.73906476428088552222 -0.46303182225393618721 -0.18371766145148529792 -1.1475141478508945614 0.21053099914172304641 0.72635026600522623053;1.1053624078703445655 -0.20882971596903796008 -0.34785433855467817743 -1.0761104354985797649 0.50165671451023130523 -0.96636219244235954662 -0.050959040543337393026 -0.65135934147775065295 -0.46995268129079720287 0.22846540742819435033;0.23883114413672212883 0.84738252936104196955 0.80517138846767910554 0.053717663555927927521 0.95318269743248407178 0.054399706734468027125 0.72962284291679446735 0.60967747399665639385 -0.19578411729746555969 0.44799319631808487419;-0.14808533246891394941 0.91642870202290660497 -0.73480013234477437045 -0.22822761956444620468 0.38606237743940713392 -0.10601699193754843265 -0.66727913063097787916 -0.45130293423951611809 -1.0550473186040245643 0.59252079379895761235;0.49345758443836085227 0.085629400996417359693 0.85625722814537663652 0.72553850248626483577 0.20512170774976767884 0.56921955406192314975 -0.15041631002338307077 0.72826167464327540291 -0.95780221429901557517 0.50478610932110756782;-0.45756581350969893762 -0.21645794113919841761 0.47043801700166909541 -1.2359760011721543371 0.66190966829398012461 0.96404409429141157961 0.068946489274487876564 0.22687652630689156275 -0.20426949522254128633 0.56952381547318964294;0.23550938891645997741 -0.38859853337129418582 1.1516555070141996087 -0.56021937270523969321 -0.078822363280927870699 -1.1037622769695294433 0.24683532599141547181 0.15129187861463497256 -0.14889966820563416139 -0.58908900741298342307;0.64122723535709669207 0.75770264219642424752 -1.0516331533711114066 -0.52047878871361863418 0.49104218962791984504 0.04766760040901441009 -0.05645216363152688599 -0.59856357939839455184 -0.30568489938049198118 0.80168204208859839;-0.62095664418998286482 -0.67610917680575899347 -0.56890985269749794195 0.52629263012450455683 0.50508073670578101932 0.69291822885325793369 -0.05983028937752556814 0.85543085170289256958 -0.051850651395892434492 -0.41989901725659739551;-0.0061286173498473241195 -0.78130708529543202445 0.71283367922520946003 -0.17958862952325080342 -0.73527176347213640817 0.50244444843616076213 0.16632158495478566174 -0.75651567575470046734 -0.65963130353393095717 -0.77535413070061454111;-0.39084780424199150328 -0.15408096998081688422 0.44261954003475845187 0.42686409978821571176 -1.2347686352739712934 0.55005219580993525152 -0.67060487645704625059 0.46467557420950189595 -0.93393066576804495416 -0.52177325035037747103;0.0049034767321790295735 0.0078889353258249222955 0.64019384531412437678 -0.26795144176377416745 -0.68711303634350251457 0.89994677530721012282 0.86300741941645076061 -0.55127523261253819076 -0.42047278690117156907 -0.66000152707550308051;0.27752630949542056449 -0.33841087741028780256 -0.35103401858873606312 1.1088667475812905572 0.14081814561091618443 -0.12364410871048278628 -0.49493686034007439156 -1.0922723383341730319 -1.1530657771990378002 -0.71558884281443790876;-0.51650541291632989793 0.80323548646813602847 0.59282749823360025854 0.18870408218889733742 -0.47255996763564328544 -0.50345346490903220005 -0.29184628624075514836 0.34456509356885905992 -1.079446833571261033 0.48965258234980535423;-0.87869860427156964988 -0.47814942022042994374 -0.28721151037705694442 -0.90097468237414002346 0.42142378962207321935 -0.67727994050178907948 0.21240447134758405623 -0.20896079001514955564 0.077715271594719734227 0.48783103987599540918;-0.55144866215758481243 0.71892602096116586807 0.67787979803051845451 -0.20795580422439935431 0.10897102412866338517 -0.84882582111301219108 0.83695533321356641032 -0.5375432247353466586 0.59001917774511736248 -0.25068485765906067808;-0.72598169114509092381 -0.84883095310227563157 -0.31796795904517616282 0.27217463138668662737 0.64510468135997756089 -0.3590335264795652126 0.12794328747278330138 0.74437530735496548751 0.53689089736609663106 -0.79301155318324179078;-0.66312152215490993701 -0.4130090361738847915 0.22972531746933821939 -0.031900156013580788228 -0.20898679065081490758 -0.87186611096910349161 0.36936661536263565297 -0.72930236759468458629 -0.67740642081886848214 0.3872901913556057174;0.67157719720986830403 0.2615317155579512387 -0.089435118241395231142 0.014729917527537132391 -0.59876271278721659996 0.51783073889566666459 1.0650792436545197805 -0.8071774989493779584 0.90330030709630693142 -0.5568530303800556247];

% Layer 4
b4 = [-0.093447899345154558648;0.14769572347271972546];
LW4_3 = [-1.1888246511410636153 0.8538803734006346069 -0.54012006067213802485 0.371064636722736374 0.40464367228732073256 -0.30003816040378666896 -0.73205746190724052536 0.66751069363626625019 0.18901340394188673177 0.77740606792501809608 -0.87552436282741452622 -0.50959560487826616182 -0.89015093002658218779 -0.16027171035276835398 0.43257439133012343113 -0.62766380703487600901 0.34752472922961480384 -0.85790468133294517372 -0.26390164582861852516 -0.39359705082261853271;0.32896065453393219524 -1.1338554952180581736 -1.0955769176011982413 0.52782005914134477731 0.33580128323095737031 -0.052485477193757505698 -0.34838040524919211549 0.44894065969727930954 -0.48859913705090329827 -0.28316636329078093137 -0.57997637913289090683 0.50824799549404753307 0.13977950913883907536 -1.1786208002611850976 0.45818433513669937218 0.74584716386903360252 0.092927612885025628886 0.38677171916911473604 0.83107050528513082277 0.19600902195466868294];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1];
y1_step1.xoffset = [-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
