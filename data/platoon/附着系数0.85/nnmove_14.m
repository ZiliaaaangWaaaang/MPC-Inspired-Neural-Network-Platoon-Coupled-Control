function [Y,Xf,Af] = nnmove_14(X,~,~)
%NNMOVE_14 neural network simulation function.
%
% Auto-generated by MATLAB, 27-Dec-2024 16:17:10.
% 
% [Y] = nnmove_14(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-0.801945638638892;-1;-0.881804843746703;-1;-0.973682979654431;-1;-0.871051952961493;-1;-0.96736142527888];
x1_step2.gain = [1.31966094825575;1;1.06280946541617;1.27569022651577;1.01333396529071;1.09753168206265;1.25325738564118;1;1.01659002474164];
x1_step2.ymin = -1;

% Layer 1
b1 = [-2.0068054041596643522;-2.076331209367249464;-1.5564964142723354268;-1.4114532909341510614;1.2599908704117597225;1.3412444008502004689;-1.1232678544925578379;-0.79655950849295087401;-0.27908930368701451163;-0.27921056332118554533;0.18824193356234147911;0.067982903830134805423;-0.47870218544691894857;1.0317335189527103712;0.77553690683961273855;1.06066842595595201;1.1683131870299359178;1.649383101203941715;-1.7576822531663229832;-1.8863015481645957205];
IW1_1 = [0.71232669994487718412 -1.027506208267370047 -1.0811146751998701454 0.62428035623982236491 0.33215143922473105986 0.74770907662557717366 -0.10242509202186364514 0.15175289959926846484 0.32345872399024178101;0.75645295365465359261 0.36523292399815437959 0.93264509272768325587 0.64406120576167424918 -0.6143318477225964136 1.141584801483128242 0.22287320654010192578 -0.32354391034191914978 0.05560443679827886676;0.76937336969024694433 -1.1255526125527703929 -0.53156809096666080006 -0.26152069437542674324 -0.45692819461811384762 -0.10967389140433221606 1.1968049252363679447 0.11185998874272132242 -0.89042812064761234225;-0.1337627007508144783 0.7725349688549746352 0.47953579482919844734 -0.58677129134781469411 -0.82611564484463406721 0.14769694276616721074 0.32020661385167586976 -0.12783468674724213221 -1.3241110303745653454;-0.50004157271668336904 0.13664163108384994039 1.2871340744676338375 0.50734130427380796924 -0.11766248866807468842 0.76346169198879787476 -0.61733808250974242515 0.56929820090035399005 0.22152581111151642412;-0.60698280844997754002 -0.2806001095859873562 -0.73641977365952637768 -1.1418529730193018867 0.82771704865329787104 -0.13288561355784184181 0.96552845225990213684 0.016089035391290057442 -0.44396665408235480577;0.47136662540217511008 0.30952218818859444927 0.094971590727682742017 0.28339184004824252705 0.57862535255207170337 0.51254696894679008246 -0.81579519986207493787 1.3299324854522489581 0.22840943740379499038;0.76861022548886681616 0.75307845460697098172 0.46818811898734580268 -1.0672474614153169004 -0.91722325996371723011 -0.25916205977152956264 -0.76235486366999416497 -0.72672791337579345505 -0.1671125242915911524;0.89416234709585984408 1.1803469034085996014 -0.75685632535460056758 -0.61422746850674514452 -0.11637517893080678855 0.11251422172527815457 1.0515878531767564041 0.33420034730133435508 -0.17095117155342437476;1.3856736054432756688 -0.12393185086452779275 0.55366275407610032744 -0.1571147028718826999 1.0008524181567182154 0.2084524906604978689 -0.11239906530585647149 0.22727138445675806877 0.11903164471033217398;-0.42088176974353419535 0.14340488833766520949 0.81205690028943378067 -0.5729176585546703615 -1.0183994251846550938 0.68745175241134248711 -1.0190282289046097564 0.14261381997029348723 0.35561275031952171988;0.8742038598325756471 -0.48648430568375228278 0.076517342564670576266 -0.24135611074339002879 1.0129053981748783464 -1.0166957477827895939 -0.93671831120178294938 -0.447857908665018567 -0.56934994238644598408;-0.73597092141763942319 0.65338874356944942612 0.60664072036783411868 -0.31512644772040532271 -1.2619297652056231662 0.26131744149975033586 -0.12075566511795544911 -0.19386402003805108807 -0.5503442527737029133;0.78297812688742862708 0.031723846439166585032 0.6966494264385536539 1.0488474578379880509 0.45374495992699770408 -0.74690196280587806132 -0.61032497961342446757 -0.48059580470422080811 0.11340811783358287212;0.681222011395886895 0.072578277001166729976 0.22963463417276150369 0.32243391894627410066 -0.37695821309462484994 0.8857360179237240283 0.3476409860524745099 -0.93581262458741698573 0.47318559279484967428;0.34359680969833078512 0.92796576433902200343 0.31783288876267840051 -0.31446666608044587798 -0.75151575861360897512 -0.54392150563934915652 0.74697242005972364076 -0.4965214875090930291 0.70795146485229820676;0.18192076086323402673 -1.048173474283004003 -0.83684883896411865756 1.1967803949757465087 0.27377395225012746138 0.45625898572895673411 -0.12575096407311447955 0.7764549564966517492 0.25419493006884030795;0.66393561598867933959 -0.84991217959736509169 -0.22982411127281821006 -0.83183507076696527882 -0.64505799915096295738 1.1581641356286764832 0.17206173484037998178 -0.33341309586205497562 0.043888984175674022881;-0.81570189498192580135 -0.44281504213571704076 -0.57296639936163806794 0.86783938405867422361 -0.76382814132881760028 0.2160314903854002877 -0.6273362481853871353 0.44083940789701586693 0.8351598236197339542;-0.28018607453718746836 -1.1667765447722306948 0.63038592857249897694 -0.041974265824434989214 1.1025964543322142042 0.76430731429193510262 0.39277093591743694745 0.033127781468265372899 -0.35628467579139477817];

% Layer 2
b2 = [1.4956218934416101174;1.2165000853804441849;0.93635222733599676737;-0.54683990875685029032;0.16434766504372613771;0.2643920085202559056;-0.56211151336860365468;0.92562985078170156861;1.2797508111072100068;1.648252187059179974];
LW2_1 = [-0.54567746679709616675 0.76781881498312254397 -0.227670219634437343 0.1567661208927014771 0.34809494178181588087 -0.12737721425886594506 -0.036850494157133817374 -0.72949330551821811586 0.39208657659386841887 -0.044599226323803212169 -0.62937447204693008906 -0.092997986960647358035 0.51553690776551741592 -0.28845657275389274821 -0.43886653212373932798 0.17813615211468880606 0.33837051727019212821 0.30733418332743300816 0.25032788538398553779 -0.20579442315043997014;-0.64853590810595040939 -0.11581910805336048664 -0.72599480961543905178 -0.39826229115739847364 -0.54113788540448459763 -0.38626492441125748201 0.27563447249970962627 0.18315025006947033281 -0.12843262499971203061 0.32495669734797216766 -0.21785285821420330432 0.36147328615984425371 -0.20734954428227295176 0.41360452047087886696 -0.40424476535193093474 -0.047675773637326439303 -0.20667175914101204581 -0.092689072598500538147 -0.18827188257819851835 -0.085420895230678750565;0.048480604069356988961 -0.34241365712090293671 -0.38319540682832997636 0.17978820501586226244 -0.60040779929999599229 0.37650866595250676028 -0.35210849540398397872 0.16633028650087000599 0.10804338511223864072 -0.0043664989788825964157 0.00055234166521991867604 -0.69362418197810304932 0.17756889481420776167 -0.065651407645015494308 -0.1059766982120076001 0.41039089145862372998 0.59174453809292704154 -0.52409558480297047112 0.20324056432207998624 0.17094895507806118218;0.34060876516167493122 -0.27306080486691336473 0.18048344463004731275 0.23762333027773346883 -0.34451469078597113382 0.24675608546354960149 -0.19889808280918513939 -0.22391871559410264636 0.27078462473659486998 0.26913078075692020708 -0.92052999929164358583 -0.75615832298972507353 -0.16911984445860867021 -0.41144438706131641892 0.14494590328006842772 0.55422123405671364083 -0.33104066421165073697 -0.36038823313706375151 0.4472916281620165635 -0.21759578567363846435;-0.2462045973594793602 -0.37012696123733490605 -0.83472117218173058628 0.48375923633513290278 0.37720533697375097093 -0.083501457381637070321 -0.23554895589461533056 0.85538770117624352007 0.27836017440463517447 -0.52374436286827685816 0.067347387303297173711 -0.48454179223880422533 0.27685248402322165662 0.28693782129027750605 -0.43624217760241867925 -0.091060925375836820894 -0.25519961583535732963 -0.39178697905016612868 -0.099555023566065964369 0.094207390265085622083;0.055060976744365629221 -0.41913457455724562051 0.060150405494452968691 -0.098842509997023736412 0.052227683939639349409 -0.82113994260315870122 0.073426827109523404302 -0.63604502869644952145 0.43134968050787519944 -0.81821514407102458044 -0.14751296326230922684 -0.032286202106250404265 -0.099625872053760444746 -0.38468597818374000719 0.51155958738980811251 0.39657963903688903118 -0.1287725093119727604 -0.61079135014327012865 0.37028494888950724828 -0.24984007853905035312;-0.38805876317349136118 0.33432019180417393844 1.057882085122770599 -0.22496811357597373826 0.013776943449017246823 -0.32101165432766931573 -0.02296496330845353151 -0.076948679758815419216 0.49740644670224909429 0.39506542296479935095 -0.43809739811167824897 0.79652954751003735012 -0.29580980693455805053 0.21464249350663638927 -0.017331709976655174099 -0.54575302819584348146 -0.67061002946882553033 -0.50427659570271732292 -0.24555025324917184593 0.21675540155534378517;0.17845830968597661825 -0.64870848738922615162 0.58433552046561276772 -0.47191914986769140095 0.26640283252624830101 -0.046440352043969304607 -0.29947326929607365198 -0.23776936346377650078 0.49083710071626496241 -0.66214903028575899935 0.69303375837047365149 0.32242517214678323434 0.03428230606516330381 -0.076783427031921133721 -0.012622332543668794008 -0.37351982715071785357 0.05786758445996057626 -0.58149431567376741459 -0.54601616874864289386 0.55379827141525372891;0.57123549834276499126 -0.47501257760273157826 -0.027457396172606347851 0.2911912254486041518 0.19307742827514406958 -0.25766742758110650069 0.81779376958997973546 0.10502610168461039286 -0.58389035648000453538 0.64982311047895779943 -0.5657449344168998806 0.12867206424305330237 -0.028279683709519443102 -0.16034355928739749131 0.017250479565964017825 -0.079341518639576003036 0.64850008944070114403 0.15033485869196100415 -0.066144698898946557852 0.012129489412713204133;0.53895761844442691135 0.39841910971304722588 -0.37840723835082445969 -0.28347322058130158817 0.17177499918717858973 0.025867986110139351563 0.3449060668673207819 0.25760125041113529631 0.31150842937403422361 0.26527348448465393194 0.33286923043912014508 0.57231522869432283063 -0.39964192632936262894 0.029329917135134667833 0.28584325293856605033 0.13797229881307124244 -0.25057580174734833678 0.11600847610477565963 0.2006186663101971468 0.4080739859067114006];

% Layer 3
b3 = [1.872163214283506516;-1.6700987707956558292;-1.5520267597383639036;-1.3805397707093933768;1.0576971544733984043;0.98673351218485616521;0.75835139995605160834;0.53355533695700485541;0.0019773947863380367251;0.17761544634301390522;0.11985841459703311385;-0.43445576604354951833;-0.51127106699580970872;-0.73980268409458005419;-0.74571233952064330808;1.0379444523397434175;-1.3096098753629645817;1.5009255992150190018;-1.7952042793427540612;-1.8897109735099868466];
LW3_2 = [-0.26290008204280890247 -0.10276707205600427164 0.68649757928364429915 -0.59524282827533514517 -0.1418458969328771635 -0.027488081591077507398 0.81160653689114314879 -0.07979184512804109175 -1.0165932715702250544 0.89894980668157564718;1.148258275743005985 -0.74051869412015591809 -0.25583763761539024539 0.073260751688891206923 0.079394575860244592791 -0.09981328126019166358 -0.69339718045846565619 -0.58333414989657406124 -0.91622168902651490718 -0.1255408081648293761;0.67229461633304210544 0.43697861499312484757 -0.63617215322433884328 -0.00031370737490016981086 -0.085941425319843681163 0.045495658183928901208 -0.35103632755676272836 -1.0391188481912079222 -1.0163919477870706487 -0.37489509406175086648;0.66824109858124658423 -0.035223337328570032689 -0.70037938947824540659 -0.88280148568219773964 0.30726493915642122401 -0.62390041207452173744 0.32636282375969666303 -0.81200404960438710145 0.81252463379801864729 0.057697011291642466557;-0.15554920899843160953 0.61690749828219049178 -0.85159599840499144996 0.69362091691606231336 1.0005630081130050257 0.25045865256385074771 -0.76946498724154288595 0.53294967085446409705 -0.26883707479512619631 0.059041372639922630461;-0.81162536195554380036 -0.3507518362894916919 -0.27221656921909026527 -0.65970500977277013455 0.67098218880382187734 0.50447797766955082555 -0.034666768364341141173 1.3533521089289228811 -0.051603107980950774225 -0.74961058297178340126;-0.92826058532023925096 0.64020595701058813365 -0.47253851151507447748 0.1040730121801241026 0.77579859666645856198 -1.0281927895153268882 -0.44285828068996613283 -0.11931854916615831919 0.44401497867711503531 0.29316244167125149467;-0.41800321838666765206 -0.05246685026501357596 -0.10729686439507266082 0.61906079303664862667 -0.18013220665266063691 -0.41575378488746445038 -0.92102276338564526004 0.45635180945781794737 1.0310396197684370545 0.75105127827529816198;-1.1586242045820129842 -0.046043863286168364157 1.1163650980967541049 -0.054565593960399366713 0.68463496922071243045 -0.69454805294535792992 0.072120126900799039205 0.00061779159606513943392 0.32669898011492487511 0.54400367559883922031;-0.39325352668071644757 -0.08480513939440254001 -0.63094368206295514678 0.57451993676907953112 -0.91172554063769462029 -1.1787899639176924182 0.93242522629581803262 0.025457689449483834193 0.67656400585460352293 0.71645811192975328296;0.7251517135983865936 0.60912327554083689485 0.90766431952584414322 -0.85585077579423118888 0.86694090202808682388 0.33037099594001467784 -0.30183288040358446924 0.38867210128199608521 -0.1846842851449174705 0.34962036277068841983;-0.13569904648150374338 0.66230284485334423028 0.056107556384282997186 0.13989506207255042458 0.39197365500395670024 -0.89553834031690948692 -0.67641644566127667737 -1.0634234188324600545 0.61377049692085383636 -0.27768631050114722658;-0.38072187070513763274 0.56835548756594500563 0.41286176606126234745 -0.67062008288313013082 0.42727259002619288886 -0.87531057439076698223 0.41707620278480406206 -0.95388065177753778023 0.098394976710475395842 -0.69208932149467683459;-0.097329058685121830341 0.71415656278810446533 0.43774668905652219797 0.54115922096594781809 -0.43621382415056092485 -0.62670784075870644703 0.69212325090229431801 0.64472250174537049094 -1.0460155864093567679 -0.19388705135771261423;-0.25209290051619931416 0.43220026261495680941 0.61876807897345942333 1.1368998206999514355 0.45542375496423825876 -0.85728314123208271269 -0.46954361713283349067 -0.5300515839630109971 0.90909091254515062008 0.32608717776434775759;0.30754479959239411357 0.0028999984073017001651 0.58284166509062163009 0.66724496058908255858 -0.42730495032353704721 0.26764274691408429518 -0.71306755376784058953 0.63779934141979455209 -1.0378629247584585382 -0.58873477649699246239;-0.49966160811015114529 -0.90489292592080594613 0.19983281479211992271 -0.44854533837893301174 -0.14912757788748567944 -0.54178363210615276824 0.670754953113214758 0.81599271111947757618 -0.86987506808171710659 -0.38257574573455938038;0.58524449594887084647 0.50917182725689469347 -0.45663956848140596634 0.47357703631374964415 -1.052443410175793792 -0.54430579457739947102 0.17940792548956047137 0.32160491097892562884 0.25983081232365967672 0.95857053730823804649;-0.45255196317338758361 0.59078842058725877795 -0.23557776352442150181 0.92728809838279557809 0.55992215176672055499 -1.1945657045009334674 0.31774697708856497469 -0.26348130776686695675 0.48813755948992204603 0.2025841283205248311;-0.15496832042369390603 0.82092658407822427513 0.57290619882590387846 -0.13410246557294938641 0.94391287367808296427 0.20599588774359212096 0.10663064658632159798 -0.89141524686965312174 -0.37176612086859056605 -0.74121809912780567409];

% Layer 4
b4 = [-0.45089039026831356782;-0.1050469877583627698];
LW4_3 = [-0.70045738512710919998 0.54039904008403460978 -0.52864552483486948464 0.081849649965538590068 -0.70056861439803286284 0.83567628176599750844 0.82452186918480285804 -0.32942044566054246024 -0.86637136877956233416 -0.83753268440171835252 -0.72821737966732280611 0.23265494611270576275 -0.32133398953575303958 0.40201972856294754255 0.77231189203430616885 0.1852969057747356485 -1.2440992996082598232 0.12983995540228582266 -0.14808479319511044792 -0.050297238927865292601;0.21720494794968431274 -0.37401440548046605006 -0.26814345815205964385 0.64070955170769938736 -0.015380109275873063424 -0.14739993735561557342 0.78500846395364154429 -0.14087338254818942973 -0.57282899591060387756 -0.57929282483127919612 -0.87430872365675438296 -0.76719047222835157207 0.38152299658049365627 -0.2026444676886730023 0.21346118762010130032 -0.38121341283646459352 0.043847167809785481118 0.003787355137489824275 -0.7259286455036754182 0.19615208404947248599];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1.0000000000001;1];
y1_step1.xoffset = [-0.999999999999798;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
