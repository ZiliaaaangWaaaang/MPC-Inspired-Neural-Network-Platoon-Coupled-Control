function [Y,Xf,Af] = nnmove_07(X,~,~)
%NNMOVE_07 neural network simulation function.
%
% Auto-generated by MATLAB, 27-Dec-2024 16:17:01.
% 
% [Y] = nnmove_07(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-0.801945638638892;-0.832381007605849;-0.881804843746703;-0.695257580172501;-0.656730875905293;-1;-0.581556487918271;-0.92174258681972;-0.874312231364002];
x1_step2.gain = [1.40069505009147;1.09147605858083;1.17425519538329;1.60065309370616;1.20719667212524;1.09753168206265;1.60565698304423;1.04072211008748;1.06705807417398];
x1_step2.ymin = -1;

% Layer 1
b1 = [-2.0235149215102503639;-2.0338494399231148435;1.3994622581315490084;1.5462541826982802995;1.2132344630884293046;0.73596855539639671751;-1.0297802672835829618;-0.92199026185340138273;-0.21072448656686332269;-0.14939724442967131091;0.064905155551942803061;0.08460733717078239291;0.84043017766012895198;0.65552928333136362138;-0.88875435385146883682;-1.5262858985845970672;1.1827046420087874434;-1.6162868024473793227;1.4020188696430955222;2.3215701410152815853];
IW1_1 = [0.5460924217469644848 -0.41870943208354416409 0.43871924180791438408 -0.20220014635657865276 1.023561188190120097 0.6035129086425033984 -0.46058752443692196898 -0.6480816020364726926 0.9930696019632152538;0.41438090112306458224 -0.14868112792877682948 0.92740484423509439438 0.27001653585399798541 0.59419031183382542416 0.6037252635129247702 0.73715376929777742809 0.35121505693324456265 0.91760229195722120554;-0.017343549865062580367 -0.65189090893789392034 0.88474877503951621094 1.0923412710123707736 -0.31347911376904891156 -0.55696474460006351048 0.76001992346734859041 -0.5976172565504266343 -0.65405578530943242477;0.20500669597025550361 0.58876004775782242451 0.38549579258135530102 0.67405970869003006829 -0.079613026863722791138 0.81287863506932855895 1.1860948776079471845 0.58440457670777146149 -0.5198622655787925595;-1.178340600615601641 0.14145473234124109063 0.52884479993827038236 0.21907396159172495831 -0.47598608868055314325 -0.90845936949577343889 0.046311208940686188207 -0.56007390866965867104 -0.37687854938776677027;-1.1060208480190896196 0.80319726284918258052 0.15345924419315501441 0.85244163534172967545 0.49047045726742316551 1.1417755961534725717 0.32599702888683201873 0.086242854320757442177 -0.23375332527761888413;0.95919910567054356143 -0.76683209554029985178 0.53840929222327527093 -0.51676357780745696413 1.0309479822920846193 0.30221278199827594779 1.210846211691495089 -0.13624670386494106 -0.0043546444440300934725;0.037283226702568200706 -0.17406964462120344539 -0.45247615045324401928 0.95019214156387687975 -0.19185264646606975392 0.89402566079084166972 -0.15007443535945308444 0.59266338152450881438 0.82436633626437827438;0.58477504906508370741 -0.55984581558574997295 0.24386528148624872503 0.37640626883495165167 0.3416306324506318548 -0.95458091628470187473 -0.6742024169864369032 -0.31829362058923504897 -0.38046817888112949291;0.97842543541304571875 -0.16647429206015706971 0.4627506840975185165 1.0436578066982533652 0.74223532737126840519 0.89769812583744135193 -0.42434763816997983499 0.57563527684263549045 0.1618102407363304629;-1.7296238513452262264 0.56761960532916089228 0.85123983730479024779 -0.38072126410710294131 -0.96410324428950022746 0.68847686955982534407 0.84375653742381750977 -0.13689899999958279886 -0.11366616535383927689;0.40413723077344332335 -0.3668024439719121399 -0.311962655889194862 -0.76394592240404490813 0.81299327451774017206 0.20326375674281549344 -1.1001623666989199801 -0.57793564603690317227 -0.93806440122737222431;0.37855874767382502455 1.2142174916177510546 -0.084932493020177857179 0.88253455589528351233 -0.23058781327147956364 -0.34614246977010332262 0.41161445329761026102 -0.61286635102517406093 -0.76079676584823530128;0.33631592411634797513 -0.99788237317624328693 0.71999232002980551037 0.12586366170030127698 0.98872179886068189969 0.80542535151728467113 1.2163175558424672573 -0.09918934974329129961 -0.67823165742650093346;0.45987481268503332954 -1.0789521689089527356 -0.86789600764684493583 1.0860558088191454296 -0.45623874155508581385 -0.15869335012377774885 -0.031401131775097290699 -0.48865889254387012697 0.6365087342293360706;-0.37576747131646970335 0.54746402840986008176 -1.1561325681138137078 -0.5185660534845261127 1.0423252617528984132 -0.18122831772837591502 0.6936153169335572688 1.1579414566937302755 -0.24303082610661225216;0.27981201579277098501 0.28830638418015036573 -0.9541629220323843974 -0.8156106117611149342 -0.82844059109002154973 -0.82635276172118454774 0.58281011205971144928 -0.76142641664969679116 -0.44945587206053344564;-0.43976760743282677923 0.25388639141878432959 -1.1015809053150620311 -0.1612214059705443514 0.76477082922389238995 -0.18633415879448472774 0.07597087165426356925 -1.2661185541333637161 0.47329573106816169581;0.14986943363696880738 1.0785222513198351457 -0.15389008375764415271 0.080138924671016006918 -0.30933091319622935123 0.23129173286241339058 1.0774259546275684052 -1.1717325748068772029 0.35270746084578774582;0.48060208547061489259 0.18097500442514688479 -0.59455897906360322125 0.78140505742765442587 -0.70766651324384644006 -0.31503531393262446114 -0.42156941139467163371 0.43249443243514851254 0.30382675595530000967];

% Layer 2
b2 = [1.5035525624332208849;1.1964448820725894773;0.9304898933971140762;0.68600591665623023019;0.19631120102312940578;-0.11137827993632122558;0.33808172605155140111;-0.85049701193307536418;1.0730627134737134032;-1.6890227045730210609];
LW2_1 = [-0.36898799006440374804 0.14474900976665089347 0.62246120808329030716 0.24522334815956942089 0.22645009815662769936 -0.65138670370775009211 0.054123966651056974742 0.23998822611462286569 -0.23697778977280692381 0.30168599724757483305 -0.21775669359701363414 -0.25878873974684762915 0.20999535376631617289 0.96854057001816484807 -0.060939833521602759792 0.11293576789826254014 -0.16086710545495375158 0.68458809957173327732 -0.72269286052801673392 0.52932613510707982041;-0.080181435416981389208 0.45606767283713611771 -0.4419389041024160969 0.55511451141050938141 0.083997911542703487808 -0.47896023091027706275 0.53274668120722645792 0.092735700981454921576 0.52459011681580869357 0.50007922903339752096 0.47258562176781498954 -0.47930867963247747454 0.21302739587504465613 -0.54415468864967442286 -0.278539033495261934 1.1176615948602255379 0.47801685453800818459 0.39793656214356037948 0.073326157742817116292 -0.060674609244523565466;-0.60349196479502054125 0.28721426379622366776 0.10877838703439964008 -0.38626919972026757533 -0.10506173257019667255 -0.36578185859031980831 -0.40715953937081578173 0.46534986757390062184 0.77719130842562711425 -0.52523430094816681013 -0.19914844300606818206 0.30806787126516382846 -0.13846161366166023776 0.60527281169193747346 -0.11657180130946845353 -0.60242956567179095639 0.031074779424897155944 -0.22038259249279465446 -0.15773563151786174075 0.080650067840957101462;-0.49200671920002292392 0.27340425101623427873 0.040273995163284691257 -0.07289221384962196737 -0.17605332689643254929 0.30132405891269253839 0.094341960089772552989 0.28036134056191969188 0.248950124901047537 -0.34252378932970434233 0.21602031927585321758 0.079515702911175767387 0.38987977695852976678 -0.30863682336575992693 -0.40809331246150770678 -0.03410119884949771446 0.53727131758036361653 0.29561006615030571698 0.35749140125948453139 -0.57447894951678835085;-0.632325138277048171 -0.31160051979282649137 -0.56545687615167217199 0.73218829215459135806 0.20875403419686230921 0.21552326237081953497 -0.86327201210291371059 0.03407901122209834599 -0.25998359546266192055 -0.20729663928112768145 0.7205145252797887645 0.21940438704737177944 -0.31913267383463395088 -0.58092195585828543258 -0.11869204021566109875 -0.51526394053038160337 0.054701906005030435931 -0.15582466554420551508 -0.64552479157671605048 -0.47793359923371137032;-0.57306764573311552713 -0.15221349885156260084 0.42519464295061948356 0.44493220778040437624 0.57144477456587616793 -0.21367858630014141541 -0.13706192976880665624 0.41462148173670909657 0.40113760657567842927 -0.64552330611381092407 -0.58879399091667150579 -0.3816297776355142557 0.47108822739573563698 -0.22184035510205279973 0.14889873925352806183 0.52047658698151022527 -0.21316218771011613553 -0.10290775474900014375 -0.25809655960768318472 -0.18457250623418441915;0.60440325927757787561 0.10273926727923358981 -0.20525161990119747402 0.32794544448832796402 0.17597499966727445098 -0.38989562969838020834 0.024253886155692360588 0.36525756502960937677 0.24269534436455489357 0.29598234378972687608 -1.115756763135187013 0.19714828440626713801 -0.38233094360296704384 0.6543489935592382567 0.072513735705498461037 0.14567520584208934475 -0.42467921611130299286 -0.029040396469285099934 -0.25723560103734127713 -0.55667684522056881669;0.089051674291174581777 -0.11683335931019095399 0.33484525168308237886 0.51606861979276341668 -0.69374637917106485308 -0.26685846412422381535 0.59248650094672739019 0.082683162013679770141 -0.58689843287251930448 -0.51152004494807556956 -1.0196778547710656504 -0.092987234640413085618 0.24739167600832140392 0.30965545703744196127 -0.027513045593139186934 0.23062151057455826386 0.21812462037477572951 -0.18584244555444542901 -0.11324717436759046407 -0.28656794097950288869;0.451135564184386606 -0.42194603698191135432 -0.28608989221547481696 -0.59190023782652068096 0.30034674918834136648 -0.94797421803570269816 0.67081707762601994194 -0.0022078124850828675062 -0.345679026268363776 -0.31198410974634110948 0.18244402605837783948 -0.086200976695741990397 -0.44146764275527827781 0.10141429224190845471 0.26692792270272042154 0.3252836588568484566 -0.27980426297785898626 0.060999414412001011498 -0.77153727801716709411 -0.62026435184674688639;0.018428995242030954405 0.54133707282273324513 -0.56233897679434685646 -0.55745314337757623235 -0.34652965727108342442 -0.019004911567107440201 0.73529697229245083445 0.18686573944366680067 -0.27931877683776851207 0.34942151612439009689 0.28779993433381095835 0.5120106478441556197 0.37028058785230022476 -0.036202494330851826831 -0.24806277781120522619 -0.35587764934997095922 -0.13578766666860420109 0.062411216523603527118 -0.31537739034790340797 0.35659097225631980477];

% Layer 3
b3 = [-1.8953878425950099196;1.8123758857772871433;-1.4199242303318952985;-1.2311239584289050963;-1.0741525084776013532;0.86520300004225936252;0.76731932603954799976;-0.56595214711410746222;0.49303258025510487972;-0.012734849881729071175;-0.19409397251544391327;-0.32750181819007018191;-0.51716012008292222557;0.76543365687193876123;0.61985304362576654214;1.1416485428078235742;-1.2312261887002644567;-1.4081355822564403102;-1.5667053686273755275;-1.9957470040191589433];
LW3_2 = [0.79024090557788706501 0.17425134692690877336 -0.19670235034204908153 0.011471212241331124951 0.54619036622581629281 -0.40281718029429131045 -1.0392159977242130253 -0.49336892103272372845 -0.98951538689871798571 0.56501420313679617813;-1.1269487401975692986 0.73866538622163113725 -0.11610487722193395255 -0.1320371188099232207 0.46432527994584466002 -0.68832258418989167303 0.16753804761792673306 -0.37934308471494032622 0.24834655696549781667 1.0411938563705667171;0.7253352765988904105 0.68834502817511922235 -0.48411884249336822883 -0.87796082555554966209 1.0125489997288255051 -0.062262823101830233608 0.25464675990885843326 0.39751095742200243111 0.037506037067660369377 0.59897103824273278949;0.48393358678965386899 0.83981127553630918747 1.1128660878583491733 -0.43630717704516464028 -0.03830432657489326459 -0.4250671275349341971 -0.91782369813955222426 0.33057773582260646661 0.21020213613815097453 0.10188369007272168876;0.96525781008968558616 -0.01617954998965483171 0.96004113079065034331 -0.81020233100594163389 0.2025019097741536378 0.080264111834010942736 -0.55077109950386049508 -0.71332283096458548588 -0.46920021075680701239 -0.51473916777876016493;-0.97525602873077421595 -0.60737270919682762038 -0.73669923933772052393 -0.85826989763878791528 0.53876993249332327807 -0.099667257096854394716 -0.093295727343984280466 0.17343669778057421715 -0.021546221167178497558 0.33858124814590634388;-0.94113633620957426462 -1.0769158245027854459 0.70175609315784348574 0.30901576372923089675 0.36324057890514277469 -0.47679382344775772529 -0.041197560292243723401 1.1659413987887741193 -0.35928326914935815317 -0.19523905193904653177;0.63028959295045949851 -0.7376644621690048309 -0.95282406386533002873 -0.91047746972519438824 0.19533920677852376069 0.33680851318960441931 -1.0009198002632127 0.21969712701843405189 -0.41159923820651611592 0.25329596635091206069;-0.24311243877160895743 -0.33844555479086324556 0.65606157895668448798 1.0363646845996514756 -0.50598182599328866971 0.40493225566695101314 -0.55460379698270678706 -0.81097512294754103834 -0.62203653238757983246 0.081504634010926516052;0.96953601119984911261 -0.15332793950504211566 0.38643354669576357452 0.072490808150583438407 0.877551663435712892 -0.89527972622595863861 -0.31748008810551187064 0.74747647471751366144 0.50300244882713329719 0.13723044466038070155;0.27799535544708875445 -0.4891448626960633872 0.30489687610813342999 0.1148571729480340059 -0.099430130647513922937 0.9714347545668287065 1.0413634658569066449 0.87644372847281404315 -0.50470205224351261108 0.70984938943964503988;-0.5647487459055664516 0.75173211901260450496 0.39808047417178055172 -0.39064251275833383747 -0.98742378613632098006 0.83843198657745177105 -0.62698555653493537321 0.49074034053383902565 0.56820917268430171099 0.10053709186568811351;-0.073188962440457194791 0.34867532088208996743 0.59745270998457555844 1.0378122385547394746 -0.3855350739453117237 -0.57680028722062670621 0.42190864443774794834 0.13381922969260443002 1.0658749480287259548 -0.24539499823501392806;0.081343243153966640624 1.1900913731459989986 -0.28086341287027372093 0.38201566399527897566 0.033593577609676406048 0.62208851619881100348 0.68700255420718470134 -0.20278255688921059674 -0.94600767206606017901 0.76101949516889533243;-0.22107721865497567681 0.48299635577469912651 0.46250592184996053291 0.12304594912295128972 1.3220427949518966937 -0.46012300968757569031 0.30115062561906019711 0.2688823121172360664 0.50020615898800613319 0.58528648963981244613;0.5026796883112030212 0.70171077835864770211 0.76428849239898621892 -0.49903952110834409739 -0.098167792687126470552 -0.0076288340526259679555 -1.0039773735428705326 0.2510444743901115161 -0.65494531074111794755 0.63785953832928699025;-0.86446567012443664701 -0.52459051940175560613 -0.25700422665179656345 0.84965005114211544779 -1.0158525260899013976 0.049630344728092475048 0.79007158840160973678 -0.27580433849963092996 -0.48824125134671936266 -0.16605099196532546735;-0.84824604331080599717 -0.10427298867141782113 0.33021169316230186697 -0.5856249297890774308 -0.90687231457850192573 0.62082644738817671648 -0.72359258374611379327 0.58003088680168157776 0.6416581584261218385 -0.087050373194783009501;-0.64147687778734097108 0.27366638227365924774 0.4205275743719947279 0.90051978413546385216 0.12139581382543183918 -0.51637724359057457502 0.0099431024039317097984 0.81624215189196280829 -0.78404425205111039077 -0.42897597964646139168;-0.48141145252692468803 -0.48673006603947538418 -0.90556860629642799143 -0.40787002671543870491 0.72860084293067506334 0.72634287964258537063 0.1098214179338478369 0.14871445539883929032 0.89825682862825628749 -0.30419470986353913666];

% Layer 4
b4 = [0.31419311698477370154;0.043655040387200208518];
LW4_3 = [0.77938348712081884084 -0.62934727601767148641 -0.58046654433574351728 0.16581702118479674235 -0.84067028892327455569 -0.31929242702206855897 -0.63774567172865292974 0.61417094984240205857 -0.51323999174962364744 -0.30754553515555066445 0.46541648899301152342 0.1046680817659945556 -0.63641293864770898114 -0.47965787593319686444 0.61878891372773325852 0.1065129815070976621 -0.65810428138528453967 -0.56043744588263599837 0.0049332049090619759305 0.99069906467674673234;-0.50362782438620645742 -1.0437131538275137288 0.55238649470684586529 0.024294970997987545835 -0.40247296544060123802 -0.18558708989560288027 -0.008050432032900661089 -0.20784828482797021443 0.52330460424298663735 -0.52224436486058845031 -0.74532039514870196406 -0.63977241669253104295 -0.16280397647989514054 0.2497721505454056079 0.40781988373098115863 0.23615136096640171326 0.5949578341428414241 -0.13431642991098413642 -0.36406756798895006932 1.1869942090065654927];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1.0000000000001;1.01639162834449];
y1_step1.xoffset = [-0.999999999999798;-0.967745447940794];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
