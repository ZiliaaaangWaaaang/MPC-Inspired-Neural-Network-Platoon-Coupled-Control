function [Y,Xf,Af] = nnmove_09(X,~,~)
%NNMOVE_09 neural network simulation function.
%
% Auto-generated by MATLAB, 27-Dec-2024 16:17:03.
% 
% [Y] = nnmove_09(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-0.801945638638892;-1;-0.881804843746703;-1;-0.973682979654431;-1;-0.871051952961493;-1;-0.96736142527888];
x1_step2.gain = [1.35943184961436;1;1.06280946541617;1.28680884651708;1.01333396529071;1.09753168206265;1.25325738564118;1;1.01659002474164];
x1_step2.ymin = -1;

% Layer 1
b1 = [1.9775057581950861163;-1.6358242288318369795;-1.2987121058317947497;-1.3566530239859326823;-1.150732464440550995;-1.098944094586636;0.91307936381249077407;-0.67526529714746041932;0.59769629057872974975;-0.14484046138435177631;-0.10456346282472077369;0.5027447403844055307;0.94653283730206883018;-0.75929056536178352044;0.94264851904088386991;-1.5419701031850951978;-1.1812050812074199602;1.4951020522970681625;-1.8499223184721305113;-2.1093382658183137401];
IW1_1 = [-1.1435260483231572959 -0.44255990281231832872 0.2166237075098597642 0.25807265106983767744 0.1732716027662334346 1.0184824577778406329 -0.60649182238678500667 -1.1529870145304710327 0.11781363885170267891;1.0758782963552746548 -0.26870137613219730044 -0.6891341190034804276 0.69011049406116153904 0.68658077266632300262 -0.48481692234726514457 -0.70197775266760376045 -0.60549885874475539715 0.63943166435894660538;0.61996600363919063259 0.76739367638039834851 -0.41448358343807162329 -1.1047034268792534917 0.71106617977163877331 -0.31695086132825689429 0.92944016681459051821 0.86819812632172554956 -0.75583171373672120019;0.61591650115339702243 0.35744808176168613167 0.15832224483627163614 0.3014523303194601711 -0.31422087999589820573 -1.0434689265822252313 0.71964881028307847721 0.50306707076140866342 -0.90650497590231504663;1.3673920319309760263 0.03757323366211866994 -0.15115702106846043429 0.11398899468065501472 1.035486671852381857 0.29926176761887895994 -0.032018516951064834863 0.90453707306997388482 -0.33296820425244061381;1.068132292874083733 0.63377506931113991584 -0.098845969757221124885 0.26645104683453191274 0.00012347285550833551893 0.28703295691179514515 -0.83219214039748845568 -0.26362086007866813997 1.0450380397641381158;-1.3416441210245007021 0.92960474880726318148 -0.6906919302516857373 0.62957687081056556977 -1.2644967252326586582 0.58099378513064270368 0.2614420028320070255 0.18760956667360900729 0.04751517621604078867;0.57633756737257968439 0.11730315216841895321 -0.15051944065208855417 -0.61387835623353081971 -1.2199787244671955744 -0.94504262996764754057 0.02285223833946255223 0.74366679053905415664 0.22100314788245295494;-1.2057670735840628762 -0.16748145166464900591 0.42130184553167077111 -0.97327013948230944873 -0.62890460223725197508 -0.65390705153214434553 -0.63308738480875059729 -0.10845195854680865499 -0.19603080125859959071;0.63335019961176608483 -0.46969566249171978978 -0.43406421395397215557 -1.4108387165021387677 -0.17101221728703072666 -0.5442481571129595963 0.85700716010750466189 -0.57310207759201559075 -0.71290208449353542619;-0.81469117264231027953 0.45134331651203574154 -0.18358366690785640762 1.1917989551904437651 -0.27722420028438343742 0.1311226722076660467 -1.1907616480512506207 -0.49016095415643995414 0.1148171941101828325;1.1027606070335846944 -0.20103928386650160576 0.25124637759915025015 -0.51245545025871985789 -0.16517873931669549425 0.4750078882900028443 -0.37294630547443002877 -1.0573851062503127896 0.72325828478216602768;0.28432732768090424047 -0.30352947423777243419 -0.48131513605340159323 -0.72872628772392111784 0.771039135974381451 -1.1638594527178391935 0.62277443637225504691 0.58123159978199534503 0.66519725508335703079;-0.20939784681468454064 -0.12307217122394989439 0.090532765572349516159 -1.1226751485041095435 -0.42000526437794205581 -0.42789269343254210387 0.29943449928706267205 -0.83133831437380512064 0.93808750516403915931;0.56421643940345644896 0.09045764549472523619 1.1110330370282719414 0.15532839429973330225 0.51304237123176910096 -0.067283241785920988587 1.2014480441817410039 -0.82651722876240418802 0.58318895999996034352;-1.2372959350018970515 0.83428068379574771285 -0.1236914198610027521 0.14042632012611530601 -0.005917788877055315741 -0.34985526820189255526 -0.65025584463793439927 0.95231413225339234252 0.48366142799380029693;-0.22005586639407201388 -0.51855549651809718092 1.2167648654592948532 -0.17943396986897020007 -0.24796858493146248237 1.2149215517268792119 -0.34416061653726842673 0.21064230341550049808 0.82917942961638557708;0.26312502434475870672 0.79591611818816332402 0.58002209784933012049 -0.28206090051898652371 0.95727341896301310076 -0.7924843518241591056 0.70900452507330546936 0.16273000108017382503 -0.79918433615702033634;-0.27190135980047708264 0.27155984243867598016 0.20320532229928087165 -1.186460482951386064 -0.23393715926112745862 1.0643497511919415288 0.40623100083671809246 -0.045988611547952494563 -0.76156978742245717839;-0.71372005803723137518 -0.94829884999376523602 -0.69687256762528837495 0.46324665101950374124 0.44991789264235015899 -0.39883024904564601254 0.0049647607860600342575 -0.62304688045201073177 -0.65834009304420371134];

% Layer 2
b2 = [-1.5079924516625169417;-1.2242199188360185502;-0.98174152865420449832;-0.54932991685085941214;0.14993303665120505386;-0.069864338212411544737;0.40739173443983761613;0.84618239061761046926;1.3090028623273741726;1.5514801856977911143];
LW2_1 = [0.66483643576665441 0.091465655072347301635 -0.034562462942183909409 -0.054784862880502702143 0.17408010638343310306 -0.21930033063270767957 0.57453731669007779281 -0.031013686047349317554 0.50775049666969307438 0.44203972327030827127 0.28360869056891213624 -0.49086488704003244932 0.16030733274384664777 0.28902453505634928543 0.4082805619321184798 0.12612116986728377777 0.40845702913615600238 0.41914385979927115677 -0.55416037930773776043 -0.51783307652915011587;0.56366346190685046036 0.57282623736028914774 0.70807140302357662875 -0.060629672347188481862 0.48935465247611881212 0.43991426241984304957 -0.27038489835368562098 -0.05305342872904763446 -0.050573601494458289562 -0.15237863806812959599 0.03392396543591005148 0.19625752744395436045 -0.42706527754038187128 -0.20579704298908951809 -0.23734543209721517543 0.40131884669315659453 -0.21716782062907635797 -0.34139352157731978066 -0.54964543679043187385 -0.14820550318105044085;0.54290921593419683155 0.27899664757779468749 -0.22257753918075451338 0.16870785263977852719 -0.27490981489272942051 -0.022659759711266054538 0.0069853173699338877781 0.62413143153666872376 0.16201042567823970009 0.041329891206855748353 0.46303473973587427892 -0.2646850477489811615 -0.16680898108878877695 0.051103573644292604738 0.76041837469552897577 0.2601511971450354288 0.44553351067961688425 -0.056683883062692341781 0.44822197480621761567 -0.038891439725331669597;0.29650054579762552542 0.56067567067535606373 0.47824973443685209196 0.16377885844006112581 0.003720487090056123769 0.62963841160722944235 -0.31508074356292536944 0.4035093041039483075 -0.15577029757856505898 0.78947894146611874433 -0.58711999146240156922 -0.087534980942336790277 0.52822604701891229251 -0.23975883449850812768 -0.13737720801614650146 -0.31561770754314261156 -0.274727996662631202 -0.50231564815180151928 0.31514682289197892828 0.49657563635443829897;-0.34628504550726862954 0.207919012130498293 -0.62591962267144407583 -0.089325832594703377665 0.53440972678068787705 -0.14125568023431586684 -0.64324787946361772217 -0.65094083780413336537 0.048037693074473114541 0.40922697742515878883 -0.93199689632943283346 -0.024305920883198529892 -0.52866961803202061621 -0.17799523516288079383 0.33717920352567137821 -0.063999550866671028881 0.014381932559834094063 0.24750132246374254019 0.20072993517267634367 0.4161415414660405987;0.044365342350940750737 0.048573442354851961711 0.59363431467820881871 -0.33688404214478273602 -0.14911926358720253849 0.044805512702148116155 -0.52999746001346581536 0.57446440172172463789 0.48792617754212280756 -0.30046818783637796457 0.64509678181302854139 0.42940929743937805707 -0.16999982836543886533 -0.014315541421684518236 -0.084476600614533298161 -0.37495852821474029426 0.29529328915909630604 0.25569071272483956392 -0.25301183321592668474 -0.70449679982108026621;0.29984871160406434409 0.25974198732456516003 -0.41574395254174711933 -0.18268502655738880214 0.56379638830934053484 -0.22778314730403861899 -0.55301016038310402134 0.099388366903207847614 -0.23272473391145501176 -0.018079347003034033914 0.15122253770307853005 -0.013372037411416941993 0.18558507060144643908 0.21055330797630325557 -0.35364163079056809558 -0.71307143751663404352 0.49418607162873801064 0.061318073675945980461 -0.39960804338754352116 -0.0038717592728428808918;-0.026235671127448689094 -0.62690802520200217263 0.37391386677368509961 0.03491393939533411761 0.2722782774622120594 -0.2198132078297894143 -0.055175814325842231778 -0.28518743081158404173 0.3443965368874329358 -0.046514197583202201991 0.26052753114952903468 0.75636719004111951925 0.09816469347538431256 -0.42983978061721583863 0.18604595316317248943 -0.22948641962535284988 0.69805939598721133965 -0.67348588864698821776 0.33255566254490698253 -0.23976057948509302276;0.53257519620880156008 -0.50035249466492559556 0.58602353397836615123 0.36250043459206715557 0.033619260515685513158 -0.22275406829152766264 -1.0825740079611547717 -0.23466929570808336969 0.10162699668449631796 -0.52967280626555679479 0.06666399502297701285 -0.048735945283033293984 -0.18363847225535512298 -0.40499079843908641907 -0.38603575352608016091 0.1969046417074300781 0.64957999396071530729 -0.20419968238124155957 -0.20549875213797291762 -0.10684888358345610848;0.11379159948470340957 0.53217182884880775973 -0.26168792744109975468 -0.43687358517589347517 0.17962210043678505933 -0.0018752297529639984017 -1.1173635798679024678 0.34537527175610499564 -0.2208656142034898795 -0.61323082769423975513 -0.090095847569779466402 -0.1966534214062749808 -0.7892180227174960816 0.4783647994547001181 -0.12086450696466667643 -0.47502459754393255853 0.72742584133144871927 0.15991742489751048506 0.14728826601390809792 -0.19952185148785975266];

% Layer 3
b3 = [1.8737391101524996095;1.6861771744216893509;1.4544974145171050139;-1.1524679999142974918;1.191688978475768268;0.98185351382107954876;-0.70281074475811200486;0.66247980395139893783;-0.28057369978033619429;0.1294573659626884754;0.03521466867566359904;-0.29180137635668268459;-0.59294975379159897688;0.70208080498925018453;-1.0079022529520784701;-0.9774464709657008088;1.3069491503383088293;-1.3938321207061858953;-1.6639893921861741433;1.9024865643370769686];
LW3_2 = [-0.077685672156768484364 0.55530924494253908197 0.84247321005935915661 -0.6051469570603409398 0.11334342409729261658 0.67374310709034723743 -0.86293154651711245773 -0.45172058220862981726 0.96375989327623856617 -0.11414033356321645618;-0.4978670677378470022 -0.85282197146956817413 0.85297323440787065074 0.042462634426103915142 -0.57121940587212727269 -0.02647510841143011634 -1.0040603077529657305 0.2207989856028598763 -0.97030171925482344708 -0.75627819143382535305;-0.26206811308347405243 0.92853277497423225562 -0.45948769151790641585 0.93617865133365019137 -0.55343353990267818432 -0.63911068329058917659 0.18127966965531541743 -0.019536402145938019936 -0.84995581788260499145 -0.22920008316415335647;0.91616795199942890893 0.075124424197958103444 -0.65766249293349932081 -0.5016708560570878328 0.34556373335709150707 -0.38686986290055325188 0.43775239825681000472 -0.83166575882967330724 0.80373005759093452127 0.61345429578300270101;-0.29349154856725606644 -1.0200524115827525051 0.51254028507531834702 -0.75461273700177311508 0.57052511488599511047 -0.19527840615176800254 -0.51084713607876985897 -0.72848372719235843231 -0.48956289666579017039 0.53424458414038233922;-0.84911709707745197662 -0.26902895837906609655 0.057723370764256279331 -0.07030936700970398523 -0.67587699738936468652 0.51736381608761561335 0.95775197986399329686 1.0244151422394747186 -0.27116447839422674893 0.32015389202291805182;0.91949048770963781596 -0.76267219579078648906 -0.42614596521766273662 -0.19095068375540452665 -0.7905018320872311266 0.90203296940936761317 -0.66832682597932069335 0.29676563881468220885 0.21604195226567404764 0.78231305901087389021;-0.78640253583855668218 -0.82507150881525503916 -0.71821082099470467952 0.24628620689584579395 0.469389657360729462 -0.43204792554462323473 0.8038162063331188989 0.60601168618366163532 0.28843038767021678126 -0.21340182262106816014;0.56523707888878504946 0.037616315776291146811 -1.130216343398438239 0.47484732745795055209 -0.180892616721075844 0.87897423969404531174 0.31593426028672638717 -0.43657349680382268042 -0.54657658080389892596 0.46503898274405913726;-0.31814930864581536518 -1.1602611950180055089 -0.90671121502881302234 0.13787042075442026978 -0.12154020296161403836 0.22851262031866817481 -0.85418773603086883828 0.60364105008361945703 0.12960354987548597383 -0.25745461923765122769;0.67676730066566592736 -0.18859087209227309856 0.56073012419454792976 -0.72362337373807383845 0.55604608378114173117 -1.0840665106037186138 -0.10015404737958580328 -1.0445524928290448319 -0.38025058156185903568 -0.30314694594020352714;-0.024381703305820328492 0.71211060535263837057 0.43605952158137123442 0.60884509814141696271 -0.799746677227401781 -0.35727187688693784473 -0.25896831943985842983 0.17414622786718142455 -0.92693051511536683762 -0.87712974439587232389;-0.90588206564505679985 -0.048480802638932785076 -0.51388602937424276984 -0.1717631099172804432 -0.082138083147721682731 0.76400121714602042822 -0.31222070198563844912 0.44067853709118193217 0.63137844894183037248 0.3140110499265657551;0.20939160624537733746 -0.43626530944693892033 0.81043547205307453485 -0.94183758027951147707 0.32896931663760353715 0.90892323067734692721 0.4129288893291578888 -0.73551175908679655713 0.16708225238557866676 -0.32212252758986809065;-0.6992058846756233903 -0.18944210049778895111 0.28214414985255698021 -0.84211683495585598624 -0.046573145585687841796 0.66539423273179210128 0.87764157557954292077 -0.55531752415778068421 -0.4437449101371162552 -0.13056738599519684962;-0.71014538890257838943 -0.14155684078106875456 -0.39919226078025082938 0.63618972052307254383 0.47079114725629733762 -0.3680015563846282256 0.36869843362217136207 0.70142850508904897033 1.1892642495454910367 -0.11496087420306397298;0.1396132397089433208 -0.80387711904063308133 -0.82476598535978040694 -0.015915583724586120778 0.70467431872067809451 0.86618628793884000494 0.07648757375792977764 0.31784910593382981192 0.94241953455401550332 -0.016471164815161195433;-0.55004949175712591902 0.52591771669983000681 0.42587987247095931975 -0.19851611390085166509 -0.10572962276455173669 0.82872464576034055028 -0.77434935156603512674 -0.67488229988232684153 0.8405653206792041976 -0.54356284525138121033;-0.80279496964726548836 0.69124115708222300114 0.0031413236588693944917 -0.53115282807812302934 -0.54331072475767372421 -0.29938058215694257624 -0.92967465046994268718 -0.72015884046380318484 0.65366689796468979701 -0.10419522052479335272;0.92600854655162578855 -0.69815159628028322647 0.37955329239813984099 -0.19102817621177856089 0.36250225455248497042 0.18088006112451870955 -0.42670851477859644829 0.10768248932529647655 0.94632501864804918768 0.87327964277280334393];

% Layer 4
b4 = [0.17014691998648626137;0.33685087057262025345];
LW4_3 = [0.12022489572088114473 0.82426544868130457999 -0.030987573573105497982 0.24584950684943107646 0.36862717120755517097 0.60006857183265782663 0.84391106133565418901 0.95595297347801944099 -0.42784022200976284944 -0.74786696996249113489 0.61985931782902470299 -0.1783451292692228296 0.19797363405670020953 0.096455319167649766765 0.12469739520975862968 -0.025641052387010150604 -0.79051397546747914635 0.42458695453477696136 0.36697145911718964673 -0.72602963968406286632;0.50387993125533259153 -0.58004152187200364033 -0.35539734363448999277 0.014478649838915280679 -0.37702919771243120772 0.75338943696836913055 -0.055546637734521675522 0.11137942601316100366 -1.0394489089594274311 -0.65142278682507914755 -0.36383125731030363514 0.085210922856651674651 -0.49712508957911122343 0.4005472735296529696 0.87366446416444365486 -0.67485364454115626121 -0.3674510588016509649 -0.71906234696433790621 0.85339683533797050519 0.30076910902263259695];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1.0000000000001;1.00183681199409];
y1_step1.xoffset = [-0.999999999999798;-0.996333111396797];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
