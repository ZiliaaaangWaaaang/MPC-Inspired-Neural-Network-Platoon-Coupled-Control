function [Y,Xf,Af] = nnmove_08(X,~,~)
%NNMOVE_08 neural network simulation function.
%
% Auto-generated by MATLAB, 27-Dec-2024 16:17:02.
% 
% [Y] = nnmove_08(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-0.801945638638892;-1;-0.881804843746703;-1;-0.973682979654431;-1;-0.871051952961493;-1;-0.96736142527888];
x1_step2.gain = [1.35943184961436;1;1.06280946541617;1.28680884651708;1.01333396529071;1.09753168206265;1.25325738564118;1;1.01659002474164];
x1_step2.ymin = -1;

% Layer 1
b1 = [-1.7164874044469549119;1.6963160553375296047;-1.6287192643023440386;1.3226567481964432993;1.0433121374257237068;-0.92504119650123806107;0.88387788201556471979;1.3057263983659519457;-0.0019215129141961113934;-0.10310962593928389708;0.13620902923245795102;-0.18234788905620108457;-0.51539089366353429966;0.83276000428425223099;1.1902471047051850217;1.4964850172186043853;1.5154253918386868527;-1.669390200610902264;-1.7996508672665370021;-1.9524419354553284034];
IW1_1 = [0.56002437357243917138 -0.015554574936533338558 0.72950456940416874563 -0.92092773228017488218 0.14754405984723689693 0.14592340267571721202 1.1811485322518457952 -0.21586100004260247442 0.93839722105901557381;-0.56359787587081311422 -1.4817448758580618051 0.11827729074697417022 0.92850290109258937221 0.34453153620064713714 -0.33830628771483328698 -0.037040596047971115212 -0.11904908520716082909 0.48802880039495877273;0.65024161466656393848 0.63705253945758255618 -0.48311880822325992124 -0.59543443114031568975 1.0433289686793432161 -0.44470926154873158254 -0.60207102917748378523 -0.51674006182474585547 0.57164719904801142292;-0.21803961591817966337 -1.0057655031842893667 -0.58331812187591758345 0.89482727210442825072 0.13037733765651854378 0.97664791714058896144 0.80780119003907724373 0.14567728446309979873 -0.072553166608683938854;-0.93912134048131534758 -0.29062777946256251882 0.85571505430699290606 0.87145044782171354747 0.36364476002141826738 0.68762438837111838907 0.058839363622739726534 0.81295772103541541487 0.75295552272949550776;0.24910530945024425553 -0.59416485097772409052 -0.68660020029990742607 -0.74932466047412815691 0.89967461414255045504 0.95707963833619524863 -0.23059917884475888972 -0.43242219126959480224 -0.72214307619894491097;-0.96414692545082159025 0.69910645622998457416 0.45907736023410961046 -0.68010947036456670389 -0.94794532300210032627 0.16195970667252418407 1.3240640990632206453 -0.21374412255831637397 -0.56763819226111389415;-2.0531148691246547955 0.61538543952582958063 -0.9606713984250410121 0.35147043699009888895 -1.0148843493895418622 -0.2225257373725963439 -0.6503766168293600991 -0.37193739379813683943 0.10259124464779467711;0.9130142574541433298 0.031870472231277868769 0.098356343841488766411 0.71146317798917035891 -0.15899613285376509864 -0.27707351072083796772 -0.71752592002560722229 -1.1083944380027244136 -0.90826404633190238602;0.13879065490249026249 1.0954504067396733102 0.3706210483176426429 1.1081522583930794035 -0.071593508741988332034 0.39485205147234603285 0.24602225789280596224 0.089985331402311283244 1.0466301270875537632;0.00068116924638342117582 -0.18772754727445875589 -0.32816144137808428427 1.2065551584510452177 -0.20031005191729614467 -0.77487464532078076385 -0.21799500262392393357 -0.90187118793999376809 0.25019904952116689412;0.98956657683009041637 -0.14187704999690603502 0.063533119930018866484 -1.0141486642593644518 0.58510157187578915039 -0.61831895497325428668 0.75267991637947384564 0.37620246608845753222 1.0494088053563044305;-0.5550543999406473139 -0.60262396761578740367 0.10091194846339986146 -0.60723629002128831633 0.35208827104744450098 -0.41167855063318481434 0.4121938761349135949 0.95429178278787418765 -0.77741432947296074119;0.52178084088018772402 -0.03692160278210469132 -0.565826924207659121 1.1194353422132903297 -1.3652570978871600982 -0.19960030517286272977 0.40008938647673458755 -0.73236968054387063809 0.71502685951841804535;1.2376857655966733152 0.62899764663705248768 -0.026538345975492070444 -0.0086381213341331988809 -0.01677193218158412602 0.76980098729755774833 1.2248133273868895277 0.365392412868968397 0.9446615267291411655;0.3267161399567083957 -0.29894625273770336626 -0.52167901597822785575 1.1370660831848682371 0.33141192305908812044 -0.66635899592646152811 0.73610655683790271464 0.20850501429515089225 -0.82223790643593119842;1.0152676676856851046 0.42495625688018218158 -0.36366356072567412872 0.98278116337228493826 0.65099428593563724021 -0.39660361988897741004 -0.45192199529071092057 -0.59196305812108651612 0.21552884753383388938;-0.62054730959124870804 -0.098480733295134556537 0.41386242281550300603 0.48825984746477968379 0.20291982425547033797 -1.3632023793830356784 0.31854714874082495912 -0.7598937755167555208 -0.22815165825110250708;-0.86785863725396483748 0.13334959154652489821 -0.40534411932141795054 -0.29288883638092161332 -0.37964539530003182932 0.86380345459914897877 0.42508279954010325108 0.8330930112534886689 -0.96625633969784041621;-0.53546896449249559158 -0.678490544096209236 0.37635265204471879397 -0.66285304894239782669 0.37498026285956193027 -0.90578724889092254724 -0.6140400567001440546 0.6508309010132400374 -0.86998242620094168309];

% Layer 2
b2 = [1.7813718028176943609;-1.4307210531752159177;0.81586157704148143388;-0.27188380582641774597;-0.22832746582425547666;-0.029388175746425743151;-0.44180141445202181227;0.89448815256834779408;1.2588804697060835824;-1.5344406833622565856];
LW2_1 = [-0.33235550578858846782 0.48927652435790103258 0.29401968527961136468 -0.022968754890399581403 0.02919296332293352253 0.10502082829202236125 -0.020296511454653463902 0.35373302269765993788 -0.43420931478669982928 -0.34438274545481828426 -0.36828597928782558224 0.56921846362871464375 -0.54761054093556116307 0.068590709201283031615 -0.36314130905788277737 -0.19468198646450388112 -0.12531766341320904612 -0.18418394911723934282 0.48140287252689584196 -0.1271941367288370317;0.16847607567119612937 0.42728577373051612742 -0.11169017925547877756 0.19402676039432764643 -0.14874535918740766638 0.11880321509870737928 0.34781701770996170664 0.61485415385070640859 0.59233186912667923352 -0.079381613802186834494 -0.14374752838658366727 -0.32476862229624986478 0.14563209527308626501 -0.25673830387577456502 0.43658517356571613366 -0.61790691092345695346 0.12272220733565035455 0.10800604796600722646 -0.36758085384026700781 0.66676559158720916098;0.067502381437702763112 0.70316403643106883958 -0.28215491556346483648 0.38472178697619396903 0.35239271342361727646 -0.5448274865056090821 0.28175452079593971133 -0.38025273825186500787 0.064244219786785392023 0.27658331507577421648 0.18154662717284125728 -0.53844318920986722343 0.31685174553838535427 0.35772949572876650004 -0.32586681914077558764 0.28634280544805712498 -0.027865563226903186655 -0.2548481730198655093 -0.16480345537447238513 0.60366489521600130708;0.66847928536459055859 0.31259202899936400222 0.35733200528925962436 0.26967229043251866871 0.048427310027991582464 -0.43251460288779008945 -0.52644111139558669166 -1.1882959614569210682 -0.16587047862694717648 -0.31865293363974084295 -0.1089923445828931553 0.64927796548927052545 0.10990782215534525279 0.076468685467705826975 -0.56981251275235611509 0.18300085951231814807 0.56061144831999920601 0.044981848667220401816 0.20669432533267326213 -0.02826708660221678715;0.32545215221094830893 -0.33567335852926305506 -0.48883700639850002911 -0.22843093474250453223 -0.60496271806920787206 0.20782424593579604255 -0.72737713932885428303 0.038008720955784912332 0.58465601875774264595 -0.67850590362773599562 0.22171874267525656932 0.29167858738931867757 -0.16444410555449823219 -0.098557505338757539493 -0.34864943534763320754 -0.65109800366434977814 0.36884460267087093577 -0.042567373647790944513 0.61820431422169364044 0.58080986561980096905;0.22816411517517076746 -0.30042576551139010821 -0.017934264170639781927 -0.31790692201890674573 0.38983105803934842148 -0.36139522544342533861 0.40392174831677246649 0.49160534260847760235 0.11737192944173079068 -0.15807252931181484112 -0.067540680110919848467 -0.3543125761451628164 0.23743020715193610681 0.98286019930499046726 0.64939426441867398321 -0.32742389644789099412 -0.33419024028575966545 -0.38143408653912402873 0.48605770581095109062 -0.12324524984966091223;-0.42433240177108144664 0.61114985075770922318 0.22516835251998698619 -0.52842318288723943986 0.25821717011808809072 0.3048719830994398583 -0.22861485006468670877 -0.43355516457949550002 -0.03719259429182458776 -0.10043818971832657594 0.076387746536299844236 -0.36060013834715465286 -0.28961657666388440635 0.14695186303981172538 0.29730572667929733299 -0.062873097565792818164 0.22950429931529608973 0.34702673677005002606 -0.016949485405597299048 0.023958749126336574553;0.44920741885255260906 -0.165748636070547406 0.15242424742126239878 0.65691106957214018269 -0.17837863342340259942 0.12458619220233170533 -0.092212887971515708485 -0.33694859805315230394 0.79871842650694768739 -0.033106616454103753033 0.072238236119316040496 -0.32419848227117847861 0.1026843557152840869 -0.041220062807200440191 0.12877529262594208936 0.15909636068198940162 -0.3518615483792398857 0.18424417270862408769 -0.55978621018995877723 -0.3406391029138430282;-0.071760510552337980483 0.52368391426839111524 -0.04214978143843078201 -0.24778682394977585846 -0.16303425603108598341 -0.49294521327376117359 0.24312963731004405554 0.17022178134271012673 0.15656713609880648641 0.56703615733143097888 0.39840184531820105329 0.34409887580933501416 -0.20408171810412711888 0.10662646546149197324 0.045239050253442616989 -0.6221015107160148272 -0.00064346260691977488072 0.34186438796854407007 -0.56806300724339242603 -0.46733261173057955018;-0.071767289314963136904 0.090112339622698336972 0.53218159017382538067 -0.17949996390650607703 0.16522262193178260947 -0.16846687169034740839 -0.50402565667208454325 -0.62082225740714525042 -0.50169226574512659766 0.66253958280025770922 0.42164698920404786175 -0.24950422977025227267 0.47846721006353354344 -0.038520118694085288269 -0.17991200409146268502 -0.27030592874895870148 -0.30970592475921177034 0.23884308513753996217 0.064191379914029525477 -0.022097416006978121139];

% Layer 3
b3 = [-1.8719550991967317533;-1.6325700993374605563;-1.4669698371234247691;1.2621521683093956945;1.186370578867481651;-0.90170045941858811833;0.77271800039373950142;0.71439041931420210751;-0.32676519814662974284;-0.031748799471529039196;0.1194026459409297386;-0.19367180603480416146;0.48287235187325971975;0.67320449424445305553;-0.80798264227850191688;-1.1069034207987751284;1.4515830614062459336;1.513397769394226211;-1.6485913757509731425;-1.9807121569444325893];
LW3_2 = [0.35483723626578689281 -0.14536550502809486574 0.49218926246841820937 0.52511701504236574234 -0.86852851319022772447 -1.0546163248321656081 0.13655619756670900333 0.31348126306434986876 -0.41291184167859912302 0.95379859741830719244;0.59006997630037649749 0.052665996961960552525 1.0422410435841513721 0.91378634467231656391 0.53343846335914057999 -0.075257658209419431294 0.48355614340627939285 0.37394304918410659067 -0.18987030552094075198 -0.95634773465769273848;0.72675023329771515357 -0.74207077754486583387 0.13868742953046261923 0.19299812989890341441 -0.087593829006672202508 -0.63746088377270293535 0.14548878089413250225 0.50409495646660862356 0.70082061614318247322 0.3158280289247983319;-0.21810374410084648611 0.17243597518067732555 0.30066099888653469163 1.1238183631486928782 -0.47439917369643291867 -0.94962101379769403575 -0.11152815603673189859 0.26436057340014573747 -0.44204947063790211992 -0.81442118136356511648;-0.54896165843194633105 0.01686687945279305087 -0.51763503195355664577 0.46941475448111813495 0.51208129586597894711 -0.54990276875942134538 -1.0724898971145189197 0.49949399421905538166 0.18844865563101756423 -0.33732909830986662625;0.36845635290261152806 0.093431906434260483807 0.70643567262060602552 0.4026078188667291391 0.15228367682346244383 0.20496217387985718461 -0.16924067516138807665 -0.61370775720804171538 -1.2393829539439129572 0.88544269195199998279;-0.73632094355267019292 -0.58436436249406598087 -0.63465392876041093473 0.018028043351877576228 -0.25783463078100093968 -0.95892625843757484105 0.40263349204879012033 0.44593731251067664223 -0.74934916304748633298 -0.21574012329006794775;-0.16608389362675440859 -0.40901568468727111938 1.1429272602918960633 0.2412397556657732145 -0.24732755468592765302 -0.31900466906590219107 0.72728292850638787126 0.80143896884065779496 -0.40318050456276088855 0.27258561569224937227;0.43973483770600740872 0.25998115221428491628 0.79798212417433911359 -0.18488494020044576871 -0.42448731244525933493 -0.35251295694680295778 0.60768823460103860157 -1.054647281312129925 -0.64568638450588788924 -0.49482310693403785962;-1.0668361336057998745 0.63016483965461989047 -1.0205319262864041008 0.43651295063491779569 0.2160349450313585884 -0.16959820156915789147 -0.44000210477043605328 -0.38418955988453656891 0.56600896065515227118 -0.65251236219624142443;0.90821720780558778952 -0.18269446179041712308 1.0530420294484346133 -0.044845525899233157352 0.26230987251231252522 0.37410290685176805781 -0.014062890234176776694 0.12744320689514840317 -0.35335612257081489007 1.0646254984676617461;-0.73708358914816052287 -0.079827428704641836821 -0.21936679063029701497 -0.23415261525826103206 0.90463880543366192999 -0.93796737716001354901 -0.22943450650000540847 -0.52465755195960916968 0.58472715148468568103 -0.92709098838696868405;0.53806760595338964936 -0.35773704031211311927 -0.047206524266516641797 -0.80611438907430954526 0.82855337981819898729 -0.49069039298811711891 0.36285600287252989249 0.043610989678027220484 -0.9377987536008149938 0.89778686296938348121;0.82295264972319759345 -0.64365860486068737778 -0.1551651434919073258 -0.87770645988579465424 0.6964079173899706543 0.62013579083215297771 0.47306996998427369716 -0.28397962188370151626 -0.63075012616138015353 0.59752917012873441038;-0.3281294724419174802 -0.78745072471288701799 0.46874239412293916551 0.16183854705858477518 -0.4872888766649057235 0.47541879106996653981 0.71813800494310242595 0.21963397745188570354 0.93969215543460582474 -0.87036393874190287612;-0.66585374010453302063 -0.73004095969160043289 -0.44134824746381517979 -0.17087813925381684088 -0.28641728542425315407 -0.65684666580751349674 0.37911257679887527816 -0.44854691595947532301 0.89652365322061278174 -0.031207147447071162394;0.67877647946855279582 -0.10701073083893755666 -0.49611791367802077213 0.86613381274793410647 0.40475692899890136633 -0.81985442386166740292 -0.60409877629291552914 -0.52189203204007472703 -0.54856241695127128111 -0.42312086587080538491;0.47491646967396283774 0.21847703057550355021 -0.44471023712226309677 0.80089318067446002569 0.23265174241909047925 0.80909909389643797084 -0.34162108439306160257 1.0241797963498011637 0.68625525579517410169 0.13813545080816555521;-0.65222720972743231105 0.30087265237187149625 -0.42307576138400271315 0.31264180569195199055 -0.71748810196165568875 0.94618640178764013005 -0.16020643730497249879 -0.92247335087843163048 0.63490488157438218497 -0.34228450657799586176;-1.0170436995166656224 -0.51462408175859031267 0.40376886339552936489 -0.83950124946097137713 0.39562084284437909476 0.32582059511384575679 0.72251586888621122107 0.84813578373554765477 0.3068293507099948414 0.14965417554757759477];

% Layer 4
b4 = [-0.95884330533965567156;-0.5840551873614154843];
LW4_3 = [-0.44096952606533362795 -0.41059529357625978996 -0.28490135335366972846 -0.53716192496143844171 0.067550478507239095083 -0.66779502934528534031 -0.34240269504777820497 0.063266754470235969654 0.42620912009253136832 -0.50187190773709899894 0.29658149670747957494 0.42523006821593445359 -0.089871004371782178821 -0.36733788607213035959 -0.15305707404716256681 0.12323302396986994534 -0.44232755505184284672 -0.44485887050412153965 0.36068851618813391191 -0.95120156906202946168;0.42062401130083071354 0.092794828043849836297 -0.48889676314494606713 0.25631820013277223369 0.42114951411033751949 0.59492312287693938089 0.56832677976463430447 -0.12483389413587163419 0.48249598097262968999 -0.96038107720723753236 0.37577975361437981894 -0.66186390242821957486 -0.49400788780290966207 0.46407021524219632669 -0.3337264986613039941 0.75623711019329697969 -0.23976796297260477564 -0.11205515490397623124 -0.58830582594449676304 -0.00066496560929375433946];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1.0000000000001;1.00183681199409];
y1_step1.xoffset = [-0.999999999999798;-0.996333111396797];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
