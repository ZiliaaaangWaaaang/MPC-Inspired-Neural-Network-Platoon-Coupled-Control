function [Y,Xf,Af] = nnmove_08(X,~,~)
%NNMOVE_08 neural network simulation function.
%
% Auto-generated by MATLAB, 09-Jan-2025 14:00:38.
% 
% [Y] = nnmove_08(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-1;-1;-1;-1;-1;-1;-1;-1;-1];
x1_step2.gain = [1;1;1;1;1;1;1;1;1];
x1_step2.ymin = -1;

% Layer 1
b1 = [-2.1383773179906286899;2.0678835906509163145;1.327144848145945133;-1.2973678172465292757;0.3356496178251585083;1.1215323725893822093;0.34045194245028070901;0.34311009178756834981;0.34015923264773501034;0.24193428967986443934;0.13929229020493177904;0.034153930128936027533;-0.73194741990544953669;-0.78282098362521246315;0.54793250021264006122;-1.658887117671848932;1.1862390728821146091;1.7621950267228074782;-1.2800184699651169229;1.8264358990272617778];
IW1_1 = [0.0042422041892402947288 0.65184686511801359643 1.2683015478298664824 0.70504766372850558032 0.43978147951334894961 0.47220957712982197796 0.81394796620788489872 0.28958700869868714278 0.34507805786021211736;-0.37277282127917088506 1.0033363108318389401 -0.11194849959899770553 -0.17441556504192035071 0.52896923802515827262 1.0149480935517452007 -0.62909624463198010602 0.54901720120078623122 0.88343118922856245234;-0.91381897608435025404 0.02086673351024262088 1.0933647562298343114 0.61827973544463610267 0.21635301924058319978 -1.188667406602267107 0.31623353420645028411 0.1713735299974239179 0.30582424323352774831;0.91680755657531998182 0.76750278329751042694 0.07714441419197147487 -0.96007724628129442745 1.1176848007555200137 -0.71048981591886350984 -0.15755772947834129072 0.17445444382068822642 0.074051438914424977389;-1.1885512562299198613 0.3737364727955559407 -0.50120796265371114764 0.58315953519475149935 -1.3162909876155981515 -0.52223411106914763291 0.38542814858939922207 0.27008900639006017119 0.069010550988561070174;-0.96112455644924654763 -0.83023517672750990481 0.20288493680590558021 0.45914236468366415034 0.67772417253253303127 0.24198070200510432559 -0.88756924869402364919 0.48994486281360360991 -0.64207400296463346123;-1.1289173863827939304 0.25174233073190538379 1.0368996510986934201 -0.45212550107970422841 -1.181477142827874971 -0.71718520447422795527 -0.15749175521897909591 -0.18933514336475404383 -0.19959259524599695657;-0.11317644390706951829 -0.0036309775200370868198 -1.7085203317922759148 -0.18834996618260571588 0.10610770047005274597 -0.45444765383810853399 0.56384804815800704247 -0.28215139837914882115 0.12489755376706171419;-0.031745151912188331045 0.082273660719682756293 0.21865320426806580945 -0.69302931716291038544 -0.6253635525855962829 -0.65245209561445527413 0.33529757989266811835 -0.79797807142589927132 -1.4178755509740108565;1.5105480621761959714 0.03034834670019513278 0.4750867661368913808 1.2083114665410901178 -0.75982201354500267243 -0.66188247683187451109 -0.050488033950151472995 0.45271193598174863659 0.18566226101152294437;-0.30497653877555525037 0.072260497543566754031 0.73278753192464107791 -0.90670432657462862736 -0.092689578147573753464 -0.44802342059413524655 1.2401689820009136334 -0.083626364073210793237 0.76306264909614462955;-0.94058528795297546843 0.2579517700349400755 0.76472795944311999783 -0.64556823101257776454 -0.28145396118586596401 -0.31005004743751812812 0.50209489250695094054 0.020851599754190659752 -0.5919136636676796126;-0.14242540123126312679 -0.75659725163773272616 -0.22908761888730677647 0.15286501199504867743 0.75894344583664585802 -0.26257216877044581294 1.2699994093559849873 0.7514146450356782303 0.84910177506029527184;-0.5559615090788541103 0.56870072932360149487 0.56878305937646522761 0.6836762906499522785 0.68153463471565578491 0.055989667788223958234 -0.97764091935891317409 0.64059320451302748101 0.55766579889745504506;1.141790853747162604 0.76133063182980542649 -1.0825902176236661401 -0.70039533788995755881 0.082809142464367033187 -0.55361822037916152972 1.0087721783416194743 -0.24989294591977054272 0.35200969619715061221;-0.4542120655310288857 0.83285079892584956696 0.051138673257108024917 -0.25592406671654632788 -0.18714798190520517962 0.36857403447845271671 -1.0457808143066369411 -0.08973941403814553186 -0.69672336348204322309;1.2528402347674303385 0.52547567438197673173 -0.081707378005672279264 0.50475618040963876609 0.88347745540410760334 -0.19600980088091304876 0.67006130843488453941 -0.3555740200888525826 0.68315350464618151971;1.3417297486669332862 0.039730603755601071048 -0.57122284259100586379 0.27174496626137845112 0.062305514680014884021 -0.57147960119690244252 1.0849500341536293391 0.16722685058765343613 0.89516805314759018142;-0.90433268443147096782 0.71511208053153385578 -0.29774579059881933762 -0.38633598085805698208 -0.90444896076138336927 0.72425182299825918708 -0.5035358487258210225 -1.0045681613685617517 -0.37239803317611885891;0.60111017760311824532 0.69392405554743652463 0.82550865282686114455 -1.1704077004086783642 0.09564017264267302143 -1.0175962528861894896 0.065491303590453617267 -0.53249239190577168923 -0.54779042561589863514];

% Layer 2
b2 = [1.5333003508611700028;1.2248435412547653556;0.82300690003941601169;0.40309254011011441676;-0.34536426102668771332;0.08637905892395024432;-0.42243262320776253649;0.75661791651842658091;1.2443527734487282999;1.6832556555368718421];
LW2_1 = [-0.72104209645440464627 -0.12527928422379008833 -0.16745726223424908796 -0.34806260830330160161 0.11103410653833113708 0.60576737285603377003 0.25702562365236164554 0.010614779092175403996 -0.46741843375390423887 -0.084711400161819008781 -0.085481820361936397545 0.42774036023731082379 -0.0264829101657322874 0.38750060966196359091 0.0043875813254413975617 -0.54529719209389482248 0.20449659407697040603 0.49331082708400375569 -0.22519160020692402524 -0.24458919307144372235;0.010697795271644085224 -0.0043872694902252432764 -0.22670332611258653399 0.018848513861478170817 0.38033835225756873477 -0.59102654655251884996 0.27028644136537127718 -0.333647929561333767 -0.22408279969115804664 0.082243127827787240736 0.2677125812099323543 0.42911006244708077562 -0.35468602804383603244 0.22822802518591922549 -0.37516931140008885626 0.21993276434706923728 0.78609723796800412554 -0.027192971981172601309 0.10880723235675489324 -0.67253540762930386077;-0.59617469214532359256 0.051164270244347491434 -0.025389538680439530799 0.45965930653569303521 -0.35135046381448320485 -0.34837139179320331106 0.50582654828186290885 0.21725236123483765427 0.43079165766280691496 -0.22556911001932009042 0.24450477105284157409 0.063868805299536243747 0.2340428717865287167 -0.48201027288148190486 0.4108783861265805637 0.023263683634655800414 0.27790673078911631855 0.0054317787569012482285 -0.25336230894355221688 0.22686718914218248488;0.1692308427819960992 0.27961569052551932257 0.053875812806580394843 -0.54322479698325065733 0.92814417935148951777 -0.10768642295287703115 0.34379993441125566989 0.075293323790107696825 0.068937723801909933652 -0.58760902689855742942 -0.35291661084453862518 -0.43465655657368379439 -0.15439774275780995816 -0.12480470944596938621 -0.20573831524864949483 0.53252948656301457575 -0.019482569293982753 0.18376240548985248169 0.47119799457474853543 -0.10787995887683372864;0.48837238292247298066 0.15655476815139540703 -0.022344207625439288512 -0.26517363601849669452 0.49650989955559049482 0.29926224135535645088 0.45213004641168252906 0.14134673176011827711 -0.066374329367258413925 0.067595448542464450781 0.0059218023444161053265 -0.77589793929437811393 -0.70239438117993080457 0.025344089468385726238 0.0024356870284114439523 0.32515168688842788214 0.27832720804035193662 0.47996665299690866036 -0.24275109781401207898 0.52136302905003450991;0.70872025125648607791 -0.34698026835125106437 0.47495951182799717172 -0.12101319572887814235 -0.26382844888141754325 -0.23061522622370519975 -0.2194465601362067253 0.0035434578087968331833 0.020785149419866040532 0.59019255828873351533 -0.42142172996530558038 -0.39876678800587006535 0.20214347812360208834 0.49134204371538153788 -0.51223080852891655912 0.29226610226805799231 0.13773856745107510013 0.30341487877721473598 0.28592118646713671204 -0.060548930756796591479;-0.20752936883767506004 0.097889979002673099817 0.59837744154989336298 -0.34172808328891562946 -0.29332981797287338566 0.39725631687137358261 0.20342541672883962534 0.082520113345225409862 0.10446449284513939504 0.18959604126055407125 0.043553629866622950439 -0.31030141631466212626 -0.58247208007366813032 0.020841877663410120214 -0.055535653587354016913 -0.41365111193821596514 0.15622267397871400507 -0.22748624561368357977 0.67328414684238979682 -0.29453473005441749288;0.53733970584712076324 0.37020421310355156042 0.099802839250428349027 -0.46876228835613664714 0.86650982788178154692 0.64152552326529665994 0.42151119733094799535 -0.29594002047747580697 0.010551816064100879439 -0.23800154931599279418 0.45151891699243018596 0.3722465823438562138 -0.60019494693682717834 0.38848349372515084132 -0.17126456735230866091 0.40344736989936336169 0.024148120735480980287 0.24110537036731477523 0.32500591482707369417 -0.49860939788583891197;-0.017209639201178589946 0.49412102901667470656 0.47695857193189711287 0.36927453057756803867 0.0094045808004001585356 -0.2659535053730686105 -0.45646068500304726179 -0.039153743211674647828 -0.26354585428435167715 -0.050176363927618733429 -0.20619033352323187791 0.41330073957948942898 -0.16913434031354565579 0.30403357198548841556 0.46108467274345715792 -0.32041189710957385106 0.5824626664989195346 0.45411541869844135322 0.29190030021816032457 -0.27418056927312378646;0.46629892060860661518 0.50438361850459734192 -0.11906891149835324706 -0.92304552596555855537 -0.31834348794543704253 0.61231658000791677754 -0.065487578268630067257 -0.19383816787171814777 -0.74948436512706240187 -0.032103554000272677138 -0.36060139513377992282 -0.15376779394052267347 -0.54299068869054167852 -0.074014860602681337154 0.25646855440725391251 0.18680955704792076566 -0.00081545823873898498624 0.3959380817172663547 0.52950003562662451007 -0.25784734353369548332];

% Layer 3
b3 = [1.9840996435849789226;-1.6769777352204844334;1.6147302647988663882;-1.1631358163973413156;-1.1103247043680530837;-0.85142466147145856592;0.72998263538202534662;-0.4640541898083735961;-0.33582398400228929969;-0.13993731482324617277;0.056145530236234281185;0.27497972897712574802;0.58343685683933266262;-0.55156697624965056459;0.80745400874505868227;1.0910414728919717309;1.2909924729424160361;1.610145835923390667;-1.6759740467948460729;1.839694671931174641];
LW3_2 = [-0.16098843704524878895 -0.86129051629456065964 0.022481447839338107586 -0.6428543591517600353 -0.83134445777445398207 0.57520947374058828405 0.50207623266641943083 -0.77841476295274292241 0.29386828660208597075 -0.22890091142199109342;0.88198276443151824022 0.64456774905730163105 -0.35267523032420028395 -0.1200268964741213612 -0.095478199493751345073 0.74629934247965035166 0.56244347542097783421 0.82318961482689745335 -0.56337902005798834448 -0.44767488794667537055;-0.014017539624533489895 0.54675368013776970422 -0.23406704031570607638 0.50287246266742957612 0.6885454489315829818 -0.11324980168579046325 0.33207463912884216395 0.6186153438987427311 0.9346702979993125604 -1.010231286027806874;0.28723994228367988324 0.39789616307073033541 0.82039535188139856015 -0.32143760973727952823 -0.76173364075278693353 -0.87840366941856440341 -0.49567611823550294936 -0.93281925273553079059 0.86162300028165195176 -0.21888123750238000498;0.12831089165502618243 0.73448853453419227222 0.85025979970924991935 0.095862693915702096303 -0.54748595001586974895 0.92187148329506862776 0.44652836948192858868 0.36548306647075923248 0.92882998230345914514 0.13193579307461678063;0.52981854763808655662 0.25194268463835173266 -0.29133194773363979557 -0.49170110164586533497 0.66181746040148881072 0.85734894533980798847 0.80241639425687938392 -0.25972831349369823739 -0.56362731691898149133 0.340354976305965784;-0.75281889253191491829 0.62101280536151537426 -0.14705801325380099542 -0.47137606148590138755 0.53843956576365947786 -0.93102705605179481019 -0.56575950610583969347 -0.24285058988571353589 0.75153803973514698988 0.12006404660791911154;1.0519356979569458588 -0.085788780454520333074 -0.33410635820370299109 -0.56716554470963687073 -0.13023662956221240816 0.62983277343861543418 -0.38374931752833801868 -0.41262608977662257326 0.38901449819946226638 -1.1729727636006666014;0.82693083187867799655 -0.47771553335967870124 -0.6685258370209522516 -0.46194339949223423014 -0.4631318980464489421 -0.32099379583176168573 0.27624617343450436069 -0.67290828431939864185 0.030079632187992130787 -0.59688745404291609908;0.48926175901353391451 -1.0347814186416053328 -0.30972888741446097383 -0.98292226108171687482 -0.72785262209654155718 -0.96326252699692971326 0.21734370994095636442 0.0073913317048442481877 0.10592120978422001065 0.036668044290678825092;0.80560893709963876663 -0.46821657166200342237 -0.54949609508946473113 0.77375427928396822708 0.69582980508641334438 -0.81372777256229311682 -0.6776290397901630902 0.31627936376694837373 -0.56137649132276490338 0.63459003714104800231;0.71843346818546161003 -0.32028019583768335687 -0.31005915673501299734 0.10988591397780865522 -0.80804663414236232999 -0.55592424925268346669 -0.78314662673065094101 0.21940294504815366361 0.33327516686611774466 -0.9451088683383961353;0.097019272149246757464 -0.53840610527532406504 0.98227976896143398555 0.19686729234316749371 -0.78577576459933107245 0.78132381226121616624 0.51771828681855158738 -0.19707157976221353901 -0.16261471468207738811 0.52973599679312088906;-0.40096596237276999064 -0.056902549108630691432 -0.94504030314501197285 -0.7820960112259648378 -0.25094927760042906595 -0.30976956762920943023 0.65111729027194331643 0.74310737996535258798 0.63603300953312014165 -0.68859794686431552435;0.45641322549458451796 0.1641461417552689539 0.64711177213642590011 -1.0501546228072207168 0.37779275109543580813 -0.026673342078198512828 0.97664177078826031053 -0.44808034586551215295 0.17980875035460330835 -0.61964357888992138701;1.1252309441475576435 -0.80115794582314192596 -0.26117862306756933766 0.21709529727190859938 -0.30945106724642851281 0.52644180002861395984 0.68654994349352438388 -0.067414206919516286853 -0.84833405548494622561 0.2376118490927884852;0.19974779477992835042 0.70418901393549071521 -0.28473576561470115287 -1.0157593272113454308 0.71733902062430865421 -0.69245246942431870618 0.24533307100411644308 -0.59866022020427001049 -0.31200855614725186982 -0.45318539543668762137;1.0758267190017445358 0.26267184266910359458 -0.20345077290917795709 -0.054247757829171988631 0.60528378128736937125 0.772971511227876662 -0.4913142603201358094 -0.62893923101867621472 0.32163713842953639555 -0.52179989800523773891;-0.11545892117577169489 -0.14676591762210572378 0.95786628472187107519 -0.97011003557146469056 0.69478156291781212328 0.68501250097758381585 0.52434770349109471876 -0.060913919492076695761 -0.33027357416186892136 -0.60753970894145992165;0.51053535114908077386 0.3359008504551473373 -0.45236595609373964066 1.157041056208934604 0.22984651318124993402 -0.080161583712861500528 0.45745734319940783985 0.4028896583448193236 -1.1731916991520165983 -0.25819422424338911437];

% Layer 4
b4 = [-0.0058907006975227630893;-0.55582226027720416095];
LW4_3 = [-1.0014305596081003458 -0.17571100147880991393 0.16171781045909847108 -0.12286126037005970502 -0.57722586214047155728 0.49612925671502250413 0.38530593230855769704 -0.34056071619668981665 -0.47598370376620735556 0.016759977795566122216 -0.74082995050924460578 0.37908480803112393209 -0.62253462938377668312 -0.7295104792183773057 0.018890127199164899463 0.26500136409747176991 -0.32964150807277625699 -0.60639248981076954159 -0.37221378336097871165 -0.25271296986564806275;-0.033827379882567981673 -0.30299015415635743853 -0.46644856823516006594 -0.42568422241792325256 0.69371159565880047282 0.35756985379575007 -0.7156144790985767834 -0.43585210850376837621 -0.70209158042642294539 0.37052938739104823718 -1.033897938537623018 0.21421806126242259882 0.26816370728560595671 -0.69389162984553542923 -0.60316651862890446889 -0.22094614495857328729 0.49276239649742203941 0.71266406486726585623 -0.49160226807056062182 -0.27699839513914592537];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1];
y1_step1.xoffset = [-1;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
