function [Y,Xf,Af] = nnmove_07(X,~,~)
%NNMOVE_07 neural network simulation function.
%
% Auto-generated by MATLAB, 09-Jan-2025 14:00:36.
% 
% [Y] = nnmove_07(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-1;-1;-1;-1;-1;-1;-1;-1;-1];
x1_step2.gain = [1;1;1;1.04813396838925;1;1.09446015644758;1.00712929936406;1;1];
x1_step2.ymin = -1;

% Layer 1
b1 = [2.0455585118228460928;-1.9662851091590525243;1.6497349569822570281;1.6328426355076814946;-0.86516377510287834074;-0.93463550874252898648;-0.79285964258382679581;0.69109399714849417684;-0.71316489991526321734;0.30858881707390339866;0.0076026094490021928207;0.46506672544823324245;0.42932183643295668274;-0.16528078455643271938;0.90425211968380936334;-0.86855370015206867507;0.81778237503143602627;-1.7131594268772221135;1.6228430400581956849;-2.0966764758586582396];
IW1_1 = [-0.76793123548354114138 0.70777365542307746349 1.3200986882538623401 0.18842686403665087624 0.62535539826383657047 -0.018614026333289929171 -0.59334841861109888228 0.016489895845858457135 -0.077699500150158473666;0.20440758118505439334 0.52554595868883102749 -0.55546063880097762411 0.54460832774157708069 -0.56941970356534232778 1.1100804632487391022 -0.51085491468897181733 0.72997496788407834067 0.081551207842440742724;-0.87115338407129772058 -0.22317957957068382258 -0.037075919560975896527 -0.73690959257843202668 -0.90236262507578490766 -0.45201695053142115777 -0.63295214810607891565 -0.37612921839400775825 0.8484693238514087188;-0.99320808588346565227 -0.72983716929088926495 0.83180648541581325706 0.31564654487854665321 0.009702054862864475937 0.55653159181842504211 0.13651530108755896564 -0.37357252367816312644 0.60013331812019254929;1.4626477393162038432 0.36602307778128018168 -0.62343434119047802522 0.12194124816420345847 0.39294009583807054664 0.46299475777835924495 0.80830606593701626039 -0.3137079978869498631 0.67828148097190876786;0.70446509092214082415 0.21961799538895890316 0.439045526587134749 0.30645727543958245498 0.55533483205055622633 -0.17627055037943739624 -0.89095841229239014503 -0.10082370760904678375 0.43110051267812865561;-0.19102117405177859721 0.18627404613568643299 -0.053823508270827158384 -1.0780468344051794549 0.96625446489881439138 0.18934120428363709898 1.0589713497015311727 -0.91817908400428360771 0.082810728700967575766;-0.38954388897634406597 0.39651417007541911453 -1.1097022134620657674 -0.23172765302473702365 0.74775566354138611747 0.43126595613112678196 0.53990107127724673575 -1.0637964110746547242 0.67365036737108430209;0.41562876349865623959 0.056477165413522531501 0.19194290880357409157 0.92318929912571134899 -0.61005175707012215813 -1.3530166640785528109 0.38387709944915759941 -0.43811490967001903707 -0.67847701696669093785;-0.94383168735068101451 0.6622990860646525979 -0.47168531454828793725 -0.37630186245294627856 -1.0926003309182046319 -0.22984777899284514202 -0.26648648822309828343 0.10291559530522031984 0.31429196771410572442;-0.63549493466882578385 0.57092698746796666232 0.80176576482078032448 -0.66935973840818607794 0.40796017566433734336 0.58730561347542276085 0.4333474633998332104 -0.52129549688565024468 -0.89817188919550339232;0.71807862185771320629 -0.52186374056266093824 -0.73588052344741039512 -0.16531504545097491787 -0.59541611056147158987 -0.27198396343871544811 -0.28217224348752090179 0.51280862517018954705 -0.31896165636787920938;0.80795195283660636854 -0.82913401800489450189 -0.87541112854370761731 -0.39921714178421613406 1.9582413925277026845 0.16253669818259838808 -0.77129710783371274729 0.3380767294260144662 0.12099882755761486031;0.30506931673908549429 -0.43346162400281018634 -1.0933541078570405691 -0.15911846001796403627 0.31411995820232135879 -0.33908899006663667519 1.2310985059002468311 0.69825424199027996686 -0.17404645985104036376;0.8850022741952064953 -0.30099625336327007208 -0.098699233361009386378 -0.37290495495895598088 -0.94509706515297131624 -0.012729190718302287044 -0.30135834799940613982 0.92154505397052466353 0.16669066693485817821;-1.0129948458161728286 -0.22211748688863547363 -0.19920141833239282669 1.0789435041233350621 -1.2478777075582907496 -0.56812255165970904081 -0.20290762201744508286 0.66484666293055272313 -0.33646253864159686442;1.8843306661457552842 0.042493641999195794212 -0.27935251865065613419 0.70016273454483390903 0.25639933084354082915 -0.45689080094838163681 0.45139963359872153914 -0.093524206659203010239 0.2849427149478214738;-0.38249142073548109133 0.38755209755729314036 0.63886166603817207132 -0.60649864957568455637 0.72469736452848954045 -1.0610849672967923585 0.9580963238887206801 -0.62375500101693059918 0.2185381495336737312;1.6059392234106062425 -0.75371252072573324821 -0.025106068396077728389 0.35153320276172250747 -0.39935270075163931125 0.0067617273004216792154 0.49414902409356753488 -0.5061191645766356384 -0.3161572571139135146;-0.38789447733346993363 -0.5955486852392183339 -0.098305585201945655527 0.42352687003451988668 0.13991317925882412743 0.63468251929847319115 -0.048738888460277234038 -1.0253948186484886929 -0.70044938312950033588];

% Layer 2
b2 = [1.6982660982774111513;1.2418731197554226942;0.96846135129438526423;0.57194889993322906019;0.3785578017799626771;0.56070842445434154744;-0.46973087294629217725;0.8596032750075720541;-1.2696615922912737329;-1.6757803107783300067];
LW2_1 = [0.14940756586109060766 0.021495239109496893509 0.11820509953485115739 -0.37063098094402596727 -0.16293308556455438074 0.83509038011987901662 -0.32757822570608607915 0.53595838674934026535 -0.27574391617403881671 -0.020009861606743638285 0.21399511550182917508 -0.10851129515836419048 -0.72100159057423018893 0.10780139763732657365 -0.34532212179271015717 0.83026153293222570984 -0.81656423412362333369 -0.019182669262921690778 -0.020127780509847231771 0.071139091450211563994;-0.61721788246704789582 0.29031149193233179995 -0.24545095339514086397 0.24236866565880149649 0.060614279115432045941 -0.53509200406400192485 0.26865249999217888366 0.72430279238196115799 -0.19404405294109561275 0.12275131422932913927 -0.21233198493593494205 0.39616277267269578433 -0.22208837533031963729 0.73459309520049265174 -0.42046411515064963105 0.43032705303332074998 0.064457619715419536832 0.26433346430194620824 0.41355548969583322272 0.63357346374010914403;0.027132299791313079645 0.084202089356867015901 0.23109211145613312022 -0.21040825571127180771 0.4723589063257143672 0.63510718896677897938 0.11458937850077932641 -0.41042910417933947675 0.25140443988063093661 0.099829647671641444373 -0.44362683016039000661 -0.24457640173463773836 -0.03682316362301948226 -0.17410283717057184472 -0.40111179482169651012 0.25995956130559766395 -0.29733910736818758291 0.20890381909148361683 0.26897918977240081739 0.62286508114685656956;-0.15898718273876943918 0.61356729472622129062 0.26957529042525130158 0.22612698279096513088 -0.6463475912916856192 0.19479454114260652542 0.69008578801616304865 -0.29281701338755561359 -0.62430422849516931105 0.43921819903334946567 0.26237618263487616499 0.16142748395436670727 -0.46874367310658876518 -0.54772803029860184232 0.31345192531656534962 -0.29069058520975782356 -0.52317408032320877886 -0.53094200812890501862 -0.11771685100439292782 -0.032335288297261441381;-0.32153031140514010122 -0.021899098428825022888 -0.2985759699621254315 -0.10536498516905369593 -0.0094760955290917048277 -0.11439894410556573912 -0.4657131553224514442 -0.41730555191672086268 0.48638297439964423008 -0.28804828455791453568 0.045099442225850570887 -0.18045675277239586753 -0.18659755753870291284 0.077690506513720475334 0.33494368400701401978 0.022167358347087925963 -0.52147164772494614127 0.37464418757144640759 -0.37769010670036073929 -0.73752029775351712892;0.39352050573985980497 0.23113668283810331894 0.15668668731401264038 0.42214845945775880676 -0.12083196005565247089 -0.38747453686349692115 0.0040019230592929048995 -0.53818748725821419221 0.19139778619032149498 0.46568714089019913605 -0.35239737130829540401 -0.017716300266203469788 -0.59548900628061762763 0.23333272169836699605 -0.38652611511097711983 0.018041234425810136893 -0.40394723730872550416 -0.86021224415024299947 -0.40375814850362362618 -0.33256648175622161023;-0.14391132125224864735 0.85981206912319585456 0.060199132269671370987 -0.48377450595349819062 0.14582537603477541133 -0.39097564337195495066 0.20733495235694102132 0.3707895833007398001 0.20611947595821764057 0.70940451890061084761 -0.30726088279268165548 -0.49141927308959415521 -0.21074258421459435286 0.069470757335860416903 0.18472636782929877097 -0.0116088665115336373 0.44076998530499522655 -0.064607770628210672847 -0.78931849696468947553 0.27500663113151185835;0.50750950752776202712 0.49040658326139902057 -0.46518264465750247538 0.25595619897627347461 -0.19910429770883833478 0.46125805179996670624 -0.021361441078268428306 0.17623111865565893597 0.083399921605928073465 -1.0448476858452049321 -0.13123088041095315459 0.00034123878522633599442 -0.097843434778112206573 0.10176800371224321851 0.21591064900555267947 0.59311079617287687515 0.19853790838259768869 -0.39649547371143256669 -0.19257739675339055618 0.066140670340458590504;-0.35817083116584869096 -0.012118717254774162909 -0.29552625735762749759 0.69558405424983227316 -0.67978870114803735536 -0.43225578053662661038 -0.48595309943050457591 -0.27421956750087800314 -0.44737715555141838175 -0.24577133950562232712 -0.16682213406268509015 0.025939799763178769676 -0.17846933347950538762 -0.18019285081523850334 0.034412147449986593695 0.16941399421017391824 0.52983050233154238562 -0.25494344384266054426 -0.26585329575539162761 0.42987311958312257598;-0.45303745365776271203 0.13888913005249278743 0.030157230425818009473 0.53262941593691914832 -0.15960327219981135238 0.26555105953599222879 -0.49016584365045184901 -0.021942743226944713686 -0.044863259239182530502 0.60488915780960472723 0.23115303045996901665 0.57576349059029507949 -0.67920961097598098188 -0.32256980825806835789 -0.13686097579569539429 -0.17325949061947193419 0.022132965240223373415 -0.41906634689295318985 -0.343984310217899103 0.26678125273536185125];

% Layer 3
b3 = [-1.8016021350940432111;-1.7061794915086281321;1.3873814846958332225;-1.4667327542242052374;-0.86635552611889776742;0.80157598450404632384;-0.42949845729465885302;-0.59145964688629104611;-0.31493554930963985061;0.14494533793999811455;0.12093892791110011364;0.6070553192701390044;-0.46819083455273635686;0.73180086572941194234;-0.91816742484689262138;1.0615986360081897111;-1.1988646580296959954;-1.6480013404661995047;-1.6446689894634076712;1.9535686241005649766];
LW3_2 = [0.34768693369082381839 -1.032472371006312617 -0.5715633917560231092 -1.0912230309189183686 0.98906916402057798443 0.28443414965397684213 -0.25105394840887584884 -0.21799476337513865043 -0.44248593470019298435 0.38276434814634607839;0.239549496927504324 0.2954934302346295949 0.81202069152559175347 -0.69609640440944831052 0.2972132379202738206 -0.79424513238048122243 1.0067000381539579212 0.37473064372557163271 0.62456065105971247942 -0.19167324489447087887;0.1047216303412478039 0.40644748955603643426 -0.93259530365073373126 0.59254173504211771206 1.0467408109888627354 -0.51041804094316090001 -0.22393153487495295884 -0.8121670862833786364 -0.63602051527028446998 0.46632313087802851337;0.57986337579844571266 0.35821170498526633263 0.016721068404385634742 -0.12457991446080166065 -0.71817622409854053878 -0.67985656352531109725 -0.81008408262060693783 -0.78198104457081241137 0.47446136701355778875 -0.34792205383223123727;0.24255645484035964765 -0.68165320728895695268 0.45837758785478677215 0.79722616563314618876 -0.0046897599292946151595 0.62697032167756683307 0.0014468174903518003782 0.93596384093389850545 -0.1508988383842908565 -0.57623605209596351351;-1.0013559790354744639 -0.73481561593394029153 -0.66646956239425692026 -0.64557533425392121806 -0.15416301502939344648 -0.12516772618863819533 0.19088576249670755058 0.22877092680752889042 0.42785716820805785865 0.86245530784612367547;0.7997138275088589987 -0.034121433792981312183 -1.2802247023098576317 0.63405106987321191436 -0.67076111931321447113 0.98426831187291474734 -0.38030935481639327467 0.35703752060895632692 0.34093684126375856103 -0.28060636651624693005;0.39942212832090573382 -0.18945568893512790276 0.37437788297392621262 -0.74770251410358035127 -0.56393507245421392593 0.74224356198194652023 0.69115239414853746336 -0.49932343470128998097 0.59766199555115961939 0.83342104923007009898;0.044000723244929984546 -0.24270284851379073099 0.45680364707866022433 -0.35994687325372476394 -0.68681024625958764229 -0.80633974467527858021 -0.87751039498713667708 0.76415841301214404435 -0.27394547948542269378 -0.39343441420680269616;-0.46130416390940487403 0.1753658651667189261 -0.45971529306007508087 -0.43532788116775683607 -0.78661860342389233747 0.83313641954957162739 -0.67558499954342543514 1.085655751764235788 -0.20442976368481657889 -0.19764586706694925455;0.87149290436966120321 0.47311867857942352389 0.10863222727247928701 0.7271262542958094599 -0.057692677603098915795 -0.89088553979220286294 0.32671459419254028633 0.59721619804290870803 -0.84670451208775210361 0.10959253655857822962;0.77796952850231837484 0.39122023478408896047 -0.55093762924111422397 -0.22792792340541803697 0.3041531686912293253 0.066915927660142843214 0.63703433867874492691 -0.57237808456175920391 0.91236591942789191378 -0.68622624572965051915;-0.89559997393281642886 -0.63484412528767153461 0.73054195975208757741 0.75349128191471670402 0.63345708517308874086 0.21372182945328718762 0.39863444354770333211 0.47599452701452854564 0.038465221963237899994 0.31082698241820994056;1.0077194567261567038 1.0578011272997216441 -1.1821903005940246345 0.13150588923226508298 -0.086718743493859051785 -0.33839981852560363507 -0.57635702501729824121 0.86456345915107646327 0.46820078803132314516 0.3294112114149975179;-0.27115017504825583705 0.27141141631156201486 0.44365796766689896691 0.63266733819802034589 -0.58733063798769691299 -1.0836312921150630384 -0.1546861297704998639 -0.25386601459068075526 -0.49604176262821758625 0.87762699473405902939;0.90694457770503134064 0.085912608549598298846 0.098803680032823443247 -1.1269680093554479416 0.2001906226803977229 -0.34267658449132010201 -0.20099823362443627883 -0.89155849307128154368 0.84034929195587948492 0.31210338004107385235;-0.97085446077664727671 -0.083401307514445105484 0.18464114575433721033 -0.86670699032502440673 0.72170205515481744563 0.88020612651500229617 0.12049569875406715425 -0.65789061050289943111 0.60658821390042438892 0.29664033166590531021;-0.9464090271620672068 -0.37311419448246435637 -0.79834801081927508903 0.39575917698456342109 0.57939076869499306355 -0.057331673948427752663 -0.80929150566298591052 0.098293242629828456169 0.60588803797389334527 -0.1203801620836437436;-1.3091536439127229308 -0.35399495985058943015 0.37529393927244625306 -0.78972038062266380898 -0.39446571427690191314 -0.80518792726460730602 0.46639622446512857268 0.68585572772341962811 -0.65773374185629018829 -0.62715057460220624552;0.15809667290312195975 0.079480571991393425546 -0.64055705208611513068 0.066265947756871432239 0.16141166222566735722 -0.92783195336228707628 -0.45804826119276315088 -1.1058881290786983786 0.69640539733432726965 -0.33831587131430101989];

% Layer 4
b4 = [-0.011861124680872223852;-0.59474340260596370022];
LW4_3 = [-0.28854356773469919117 -0.94079853492048859387 0.21604355597844845938 -0.25563759308295352923 0.47604250090384281346 -0.64719821106849562131 -0.075626222992447963978 0.18061535280869089881 -0.33087415513090850938 -0.71367733483036621678 -0.59172793269904833124 0.79333019646262847857 0.54355733357907864978 0.071989966376438910278 0.53372153569863278744 -0.29919966471577852385 -0.54877489984938598866 -0.59057222428741840137 0.80386524247480894978 -0.6431841710348694674;-0.5251256542708522268 -0.67369841756492665485 -0.86631357191190394573 0.30991513474225262925 0.38526219582206883141 -0.08587085927771928584 -0.28546684890043205751 0.52206897421639986145 -0.1262778962183846998 -0.2887944062575651949 0.029597645328528592035 -0.53581183998140824443 0.27622152178503317499 0.89239860742228205304 -0.32730595309269855386 0.20389586065505904688 -0.88264282862279885844 0.086181768931107627374 -0.55912892578656969711 -0.74806512237753186589];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1.0000000000053;1];
y1_step1.xoffset = [-0.999999999989399;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
