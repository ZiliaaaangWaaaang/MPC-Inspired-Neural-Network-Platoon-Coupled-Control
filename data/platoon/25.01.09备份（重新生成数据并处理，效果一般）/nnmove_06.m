function [Y,Xf,Af] = nnmove_06(X,~,~)
%NNMOVE_06 neural network simulation function.
%
% Auto-generated by MATLAB, 09-Jan-2025 14:00:34.
% 
% [Y] = nnmove_06(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [1 2 3 4 6 7 8 9 10];
x1_step2.xoffset = [-1;-1;-1;-1;-1;-1;-1;-1;-1];
x1_step2.gain = [1;1;1;1.04813396838925;1;1.09446015644758;1.00712929936406;1;1];
x1_step2.ymin = -1;

% Layer 1
b1 = [-1.6763581102211395635;1.5946908696547474893;-1.3106798301542024188;0.74285075309238690622;1.0817924482766476668;1.2322582716933505598;-0.4939992812403905531;0.92920093070100373556;-0.39147408986299148115;0.21693446735513319257;-0.11106784441471749536;0.057780443157681687927;0.04896757818199663076;-0.74355680962329606665;-1.2009298355689594917;-1.4682503620373557052;-1.4628911783363467425;-0.9155676798705505437;-1.8521682449905103596;-2.0673031607452951874];
IW1_1 = [0.57336355392858184832 -0.9012494089495998173 -0.050867585107910381903 -1.1060266436867449702 0.69558877911587979614 0.49937737661996906002 -0.61171225114864813399 -0.78994371394017304233 0.55570709693357867032;-0.32358357081300631597 0.95178412610871654387 0.015020980328977452667 -1.1510026356692484306 -1.1022794102044535247 0.25242877159541682319 0.22563422481927714047 -0.55457960537467188011 0.15425718255648382393;0.46840360483060655694 0.60705472197169341175 0.42657534620642129086 -0.021731279428992035518 0.88384174162587270107 0.49908284780650113976 0.19238378347745732633 0.86671070879041478552 -0.99645214294334993888;-0.78370012594711269127 -0.26995436660895383296 -0.10927618658099928772 -1.3592961804282488458 0.072213127461840234678 -0.099692166305335006005 0.30303910752096924197 0.35927776623209145557 -0.35595208328202188053;0.38060667861588443062 -0.14173352898682858858 -0.38027252042662335052 -0.72019033165773926886 -0.068058770474644092463 1.3921433645330549833 0.76299643171009334797 -0.20848794410236207164 -0.9777951392051538182;-0.44726152310728539696 0.044513987373359438504 0.69019400535689257037 0.34048617238411438279 -0.61621317064296299293 0.90384613207043662531 1.2077725106309549208 0.46344966327257369754 0.90615810262924689766;0.21152816703785445873 0.66768476509958329945 -0.5074586840632682172 0.38260494476739276282 0.2308366613165411807 -1.026285834102903971 1.2457734723064770588 -0.17433832150788905468 0.55260838404168866056;-1.346010913154953581 -0.24748856879360092709 1.6399974623844202348 -0.31229862335650904193 0.58348938316305720697 0.27143473699551839973 -0.45723116851209683054 -0.1316991848821979505 -1.1006383431705526466;0.7388508028594442667 0.62831123537951683033 0.06584480751791239872 0.65737276725362880914 -1.2863648213235558959 0.57683921523039882739 0.32420244714968748934 -0.7845163659688543234 0.94369776733698662596;-1.1331648366470425948 -0.20933868172283964793 -1.333234934428597418 0.098192537176923194719 -0.75551242317879663268 0.25046683198345320864 0.62292781385042217401 -0.03040512458738067747 -1.0122556192157521338;0.61135316238686809864 0.26814262194334925749 0.94156340533511018176 0.2223291257216928607 -0.23532484806058609483 -1.396676707685786889 1.2182025146075701194 0.083985058346452118316 0.52584034980440463869;1.3645275720839591393 -0.15685473816529760249 0.49107368766014913852 -0.0065431194776272069008 -0.20720251535544809141 0.60295093999494220327 0.12964783011632119436 0.81092844782742290466 0.50572431644717463772;1.8773699875165816842 -0.36228451024758845378 -0.6361844252295815183 0.054156132246621316306 1.49861597003327085 -0.20591361364527438482 0.34856510362624804067 -0.14043472978451287947 0.14795881935318247469;-0.68422296962750173144 0.50797793016458481219 1.2306525566369896918 -0.64623448901567137614 0.43175756130343762029 -0.93554882945279072004 0.17460546178066380096 -0.48580460786141532736 1.1609063342112750927;-0.55652585690322520229 0.39066831785740319116 -1.1012663561263709155 -0.4014744806310157621 -0.38391569099848499302 1.0937085664307453214 0.57530698219104092761 -0.72824869394733704464 -0.20318568429452976698;-1.2511828873245929294 -0.67921669871644796412 -0.77891539073856308484 -0.23185232538948571945 0.42196215367453776546 -0.18990507710224038829 0.51970147715783643338 -0.81637330846687039543 0.46562990453888342124;-1.6693772600138463424 -0.32214945886908424866 0.55789163803661701024 0.37019775846531599583 -0.40810363720216247252 0.48138135375327578691 -0.45099601601717059784 0.7003110874000743058 0.13642386177535703595;-1.8180558054321787065 0.43757819856639951217 -0.97555997047073728101 0.35377057757177315933 -0.47658209378288268754 0.03422429640415847879 0.31483525358800318328 -0.17900544414828414852 -0.20990113223947770571;-0.24429696724347207959 -0.52264905768095704097 -0.26316946952877301458 0.78834500969819731875 -0.13134032537938788998 -0.34440925455259829846 0.7050616028196464713 0.56368329558772034549 0.88147924953883538546;-0.094088773549890813985 -0.3713010824166410595 0.86187107874836244026 0.10645836348507639602 0.1582820653486155249 -1.1058256561683177388 -0.46068784024444936476 -1.1472948491439947105 -0.93849408115456589563];

% Layer 2
b2 = [1.5765735143989934031;-1.3323897433054325834;1.0142466760908164236;0.37444193171069328763;0.11576102642603208759;-0.33788180051468041931;-0.28940991556298067966;-0.50822722346072368715;1.1892322967030348746;-1.4929960743039065729];
LW2_1 = [-0.48918605071441823018 0.028724013104664169321 0.023150140566745580628 -0.26373992756532466109 0.25831463257351117146 -0.51641335615802774761 0.041857187811963417201 -0.53702598148585178883 0.054481611060305558392 0.23422296484562038499 0.29583000231048461881 -0.19119468451391941066 -0.079215152130897026339 0.51993472968080001184 -0.37369384114410170161 -0.49938662312523457443 -0.54892574965960372335 0.46068699099717785872 -0.00095948864471812750354 -0.34254021183118810168;0.29289615097979898595 0.1705762225361864004 0.46255008419248777596 -0.027547454316247131645 0.32721530880045796019 -0.34210712101470430735 0.30080878722998827257 -0.34557385575061261296 -0.15669211341711969387 0.0078497623524817535662 0.90274680531317552656 -0.42902120277232291823 0.2699755590941544936 0.18829489783793473823 -0.44232375333181250809 0.17680943425639517042 0.26813531875309415398 -0.033258722566982659719 0.25958822055715780053 -0.076657684634722250694;-0.051558123107916437045 0.048488912697791979045 -0.023721460424770739184 0.2006720596808018453 -0.44949215640931022842 -0.34789939835655336875 -0.75425508453197565029 -0.74750342653819512595 -0.18839922264403752283 -0.33524815368851118569 0.33706700041957227132 -0.29587649152727613089 -0.45694802529888656206 -0.073929815036207532919 -0.50122044922466024719 -0.50252398701065204012 0.099020458652405274336 0.58473713520122239107 -0.33835483823138146064 0.48454780852156298376;-0.47313287847829305077 0.25008220960418536816 -0.062453310804147808832 0.25271452365668489737 0.24313027740227194373 -0.17269541467815358038 0.10998295841167873843 -1.4578844326075039994 -0.38345326153241532374 0.31640866384524302113 0.10974707256651487775 0.15458334028156628381 0.14390684400050124392 -0.43016739705026252327 0.61872898201079429281 -0.1487336921153552538 0.49098379383286006039 -0.22533926846394805588 0.35153140512113423277 -0.63767119426989393727;-0.68650130920482066443 -0.51295360468725770264 0.16814613917250320618 -0.28355799500392958601 0.04762814006363043362 -0.27765857876957011907 -0.1717116758302575652 -0.1310173678189733848 0.27110491339517528431 -0.024398264028540297965 -0.081068277195881999209 0.24298423392371887308 0.64284623618006930812 -0.20327947900126100422 -0.78225522406725778168 0.039052104891221420258 -0.077304056675692039979 -0.57232172838961858918 0.40339352339797135416 0.47151742742324176394;-0.65497191540022214884 -0.34425245901434459173 0.22039612569391037189 -0.21810964351588021937 0.14514257778613565142 0.51342917845426472301 -0.69837655954851807216 0.19816629303639091142 -0.072464777987062592435 0.84852022820779327006 0.80002833512331916754 0.12657681020971353614 0.54324429446801425492 0.75250761114503184057 0.63492142784466787386 0.040950494581205705569 -0.41579255023884753584 -0.12699514490813301748 0.22409136363989132223 0.52573586331005262018;-0.98577240490876072432 -0.38048682729611515985 0.051753200634340197628 0.063480223037181829349 -0.09551354077364053452 0.68972500815441906141 -0.10118791036745886092 0.55114848704729890727 0.62861154053299106437 -0.11452972670289900126 0.59004443421396002289 0.096592051525331693029 -0.47884130357049237148 -0.35477109018171748556 0.36336003760629109749 0.5886054794256811995 0.10207668118821144887 0.54699683174980417988 -0.38524697045481026692 0.60073958312405106863;0.1969116065284322592 -0.46556172436981718699 -0.22900135276844052479 -0.47562013142134085264 -0.65141348119131614602 -0.095866181954313928193 0.72431022783207144045 0.57363729213010661301 0.09648117556941068762 -0.50278194987332125443 -0.60980791187185878766 0.45861263863785733941 -0.77563528831792738494 -0.97314686013886919635 0.032823826038645871617 0.26982075968953589395 -0.39488588973056815146 0.18236138541742719088 0.13572722486059940472 -0.63516029716205657518;0.14983056159294522169 -0.98228712976710808036 -0.29833891427521697093 -0.14321610910503701497 -0.091095898041034129022 0.17524402613903422576 -0.68772406046796652479 0.2093629807604605042 0.0062166861453209903976 -0.71421239930526903006 0.25367329780693037566 -0.048116608985973405299 0.31160804581066264829 -0.46355874627166998581 0.23674240876823490765 -0.092609048261606013996 -0.55961770297131818719 0.3621761565074147482 -0.15650268664509384142 0.017085129122907060512;-0.058747056726494370493 0.38297282797428566781 0.18867001252162848846 -0.19282291498685946718 0.5249399774101161098 0.025028375521201330633 -0.46427251944032688069 -0.26311130268174304225 -0.27107086915720379761 0.64480831413519090756 -0.30227292722563881 0.51816629730921170971 0.96576450203661434735 0.56147946164272621861 -0.22760677093467576726 -0.32521798860514111729 0.25415883615953638319 -0.018657417504116320661 -0.013410040969939028208 0.3353700202162390176];

% Layer 3
b3 = [2.0033729951874708064;-1.8450072852950372138;1.5232154499729932962;-0.90965113041382561487;-0.93483600539048128386;1.0716259122634204104;-0.68329725500435301022;-0.37911581999352472749;0.20171942372554008127;-0.081087435067985644266;-0.24899458483362993388;-0.21133110281278211229;0.46124518127326985528;0.88334436420307793636;-1.0094755094845673238;-0.9491423501060105572;-1.1719262055838957082;-1.41693297269286278;1.4907086833680724958;-1.7149281072898960865];
LW3_2 = [-0.17939880582001624387 -0.012970141218282722761 -0.068852455522181887915 0.34235242927158976434 -1.0752385714767980218 -0.37062936648984623478 0.51226684051925919228 -0.063705918310861878173 -0.69423968875653019328 0.8611514628487605405;0.43552176263609088114 0.22115655075879098179 0.69680695220801092127 0.36750997699246784611 0.58484374592997401265 1.0307186259644225412 0.73652618431757965745 0.49185081557774723571 -0.37948594605606084107 0.54341545197265694878;-0.0095799622800550009172 -0.76315980406877392817 -0.43328159429756807342 -0.92337188756900057118 -0.76603995060333363032 -0.32247656439433947106 0.74765317035549005986 -0.65128192886427693775 0.49372882413792368306 0.025000501896025838222;0.89362606999145843822 -0.61226932891215346544 1.1166147941723851833 -0.38558391403120784169 0.024125689345279199838 -0.30559682959019074389 1.6551318674834647471 -0.48210044060365153662 0.018683272127497693726 0.22643168844498179348;0.21482824187023541462 -0.74695188936306822214 0.19612531832236029805 -0.29661883177555337099 0.21606804185900724269 0.36675902172999086392 -0.69874864334862762938 1.5671659262280144276 -0.6080641996694959861 -0.92703635935197015172;-0.8626596060733645599 0.37233075498293211059 -0.45305831964086767938 -1.073351666961963824 0.97981671561238836698 0.48678434838045347988 -0.055962633782924299519 -0.63900635745079503724 0.38883941009515798903 0.39393452596064748583;0.88930685101129680614 -1.0213133456714476033 0.51059815276942521756 -0.098947840287744101562 -0.40957838887220160418 -0.15092885696699651077 -0.18249913533045858394 -0.8368538455179739266 0.46042342019622672922 -0.49792900120624178362;0.36601577151165543 0.82526472752896751217 -0.38068065480666479772 0.082759014124466373508 0.016917180587496430388 -0.93030471863794439447 -0.85730025866706938142 0.66896730624149447486 -0.40061876313170735608 -0.74642374926607635288;-0.03419357740283595487 0.083449549886881232985 0.38348874524605403025 -0.72290871566138215076 -0.044921118512011477819 0.9763806862212905946 1.308491148640409385 0.19419941983921648609 0.37210125527306225912 0.19018674168439375638;-0.88915954442661848667 0.57656163946016014688 0.22955907933082247974 0.21204845790005263928 -0.76149785699670913264 0.43608640454483582616 -0.74144651821206319919 0.51476187220281655055 0.76324075699145710328 0.027063832678826178768;-0.26109471224420149893 -0.65596472416450568588 -0.52159107239352009433 0.6013559303618241092 0.70007947244529467046 0.57754623480258460155 0.37511339872428828279 0.182495739930898071 -1.013237905351343171 0.036632029682371163026;-0.21774391535177373136 -0.63351996026718093713 -0.12965947889097065304 -0.64877377924073176274 1.061261162503482014 0.29490802615014932719 0.78581223185999038439 -0.71087788130384443885 -0.68323051323999228757 0.22407080831822562272;0.20477703785808845649 -0.59977528355518205938 0.79828250966330227545 -0.44416816677491555154 -0.50227606851477557548 -0.96031795530211783163 0.49161297442498597121 0.53015057141337962321 -0.68359224151948105863 0.18028964157939042501;0.70756475274989638624 0.12426625105465889665 -0.45218800287244242941 1.0881474348803197305 0.84913628237395000209 -0.22365871529803205142 -0.047823124247584329616 0.86311683489957924387 -0.64709651034707005302 0.58902735411777706886;-1.0422581962719894566 0.35737705711545308951 -0.29255145832049389565 0.16260653388745266446 0.4980122483682645762 0.4855243120671982604 0.29759542563799862291 -0.26181845852395363439 0.45767958156031390837 1.1465950693499369351;-0.39351357665277353348 0.31706903396119601179 0.95310341278146337718 0.86020072616970011392 -0.98337596763790546817 0.32827895008482410599 -0.36713936905622607254 0.30735418825837296231 0.23206577618370138882 0.70967945931316345209;0.075423745380992640586 0.89288371110257824803 0.15151328386471382692 0.45289791600048784348 -0.068385883962939195135 0.69708830115910058733 -0.21633400538807429081 -0.33169985311680444395 -0.51264795746310187763 -1.1925235031398471186;-0.43675486009139352639 0.6768533035571313583 -1.4853960016545810774 -0.49848931744026053758 0.94146152927014492562 -0.43598442649782109815 0.61633177853404008673 -0.79202938736926586927 0.74507862731336027551 0.48216920691882786398;0.32865262701517938826 -0.63681482211858275733 -0.30976013028667687133 1.1019686065586757895 -0.36640509456721903625 0.46022209694173671357 -0.41531136406482338508 -0.3609326791929697853 0.58080834277460746673 0.91000816991102440046;-0.19500477459183984674 -0.045564327830518426554 -0.63839577991348173125 0.72271694044332968065 0.27392668197537006769 -0.16277033989046912899 -0.6249681154265243066 -1.0449880786935488164 0.47552515031250386368 0.75351705484665254531];

% Layer 4
b4 = [0.16471070864666112477;0.21537205604287484872];
LW4_3 = [0.90624950096703194014 -0.31781738629130379392 -0.099254250985533837293 0.22351989916328807162 0.51022768412915542324 -0.40439795905459752223 0.11505538255344477383 -0.27398227599964980472 -0.4670287600245583981 -0.28393694522416873527 0.063019866681798389352 0.76053290944850959754 0.21480906920581441244 -0.17052195525739091697 0.71324616882518332428 0.52230083417347383801 -0.023760754940695211213 -0.28403002331680149428 -0.57681912528558443309 -0.2029314140049170434;-0.38500036888199223872 -0.12620023666433269338 -0.032119545958181658363 -0.79915393276025592506 0.83857744650163990041 -0.4390855985857110011 -0.53298187392884155411 -0.91516137424771126785 -0.33730968118525295196 -0.53313466147748600488 -0.052520147484033267993 0.43455139810314491466 0.26549774725648433993 -0.26420256729751928626 0.15416850258830672171 0.43872461388040967512 -0.91228563090746894737 1.3866392563204268384 0.7539335601530205988 -0.80917208349959812708];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1.0000000000053;1];
y1_step1.xoffset = [-0.999999999989399;-1];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
  y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
